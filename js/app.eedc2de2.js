(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},a=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0b65ffb6":"f3a7fdb8","chunk-2d0a3196":"b32bb0b7","chunk-2d0a3577":"a28c980f","chunk-2d0a40c8":"1356e1b6","chunk-2d0a43df":"2f140f4d","chunk-2d0aa90c":"40622e71","chunk-2d0aab07":"701375c5","chunk-2d0abc00":"15856d80","chunk-2d0ae937":"dddc3b44","chunk-2d0aeb45":"8c5db0e0","chunk-2d0af08c":"315697cb","chunk-2d0afa49":"1877412b","chunk-2d0b2762":"01369112","chunk-2d0b6187":"89557801","chunk-2d0ba136":"a8f6aefc","chunk-2d0bb267":"bb6d3923","chunk-2d0bcec1":"411f3779","chunk-2d0bdf38":"4f49285a","chunk-2d0bff92":"d59ac7b0","chunk-2d0c0494":"115e6260","chunk-2d0c0a09":"8a5d026a","chunk-2d0c4313":"ead46746","chunk-2d0c46d1":"22d49e50","chunk-2d0c512b":"778bf5d1","chunk-2d0c86e3":"c14ff875","chunk-2d0cf16e":"ad921531","chunk-2d0d056d":"f95f1e5a","chunk-2d0d0645":"54e8b1f4","chunk-2d0d2f22":"6fe79351","chunk-2d0d61fd":"1b41151f","chunk-2d0d7e63":"d59e9c3b","chunk-2d0dda4e":"40c052fa","chunk-2d0de971":"70523bc1","chunk-2d0e1b57":"15edb8eb","chunk-2d0e1fbe":"1ff6bd9b","chunk-2d0e22d6":"0d5655a1","chunk-2d0e4fe5":"eaa76f35","chunk-2d0e542a":"5c2e34ff","chunk-2d0e57ec":"23d2913b","chunk-2d0e6553":"11a1c0ca","chunk-2d0e6c86":"c0856675","chunk-2d0ea098":"7215bb3b","chunk-2d0f0a11":"9dbbb6df","chunk-2d208ac5":"85fe5f4b","chunk-2d209408":"52527139","chunk-2d20f745":"599b8a8e","chunk-2d20ff23":"0bbbe453","chunk-2d2138c7":"5d2ccad4","chunk-2d216f3b":"fb30a14d","chunk-2d217e5b":"29d8e041","chunk-2d21b84a":"ae6f861f","chunk-2d21dcd2":"6fb195a2","chunk-2d21f327":"9a8cbd2a","chunk-2d2214b3":"c6b28fdb","chunk-2d221799":"5afd9262","chunk-2d221814":"6e6d73f5","chunk-2d221a34":"f920e9ba","chunk-2d22502a":"79050227","chunk-2d226775":"b16bd190","chunk-2d229411":"eeb33856","chunk-2d2295e9":"ab1d37e9","chunk-2d22c171":"5ac0d3b4","chunk-2d22c2b8":"d0c72880","chunk-2d22ca58":"220263f5","chunk-2d2311f7":"6277f166","chunk-2d237ee7":"e6d3fcbb","chunk-2d238465":"2577af0d","chunk-30597b4a":"0eb98ea2","chunk-7532b3ea":"c098a6dc","chunk-e13e4362":"ca927f79"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e);var u=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}i[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/editor/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";var r=n("85ec"),i=n.n(r);i.a},"0b51":function(e,t,n){"use strict";var r=n("71ee"),i=n.n(r);i.a},"0c95":function(e,t,n){},1826:function(e,t,n){e.exports=n.p+"js/0.1dcc89dc.worker.js"},1834:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("4160"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var r=n("d4ec"),i=n("bee2"),a=function(){function e(){Object(r["a"])(this,e),this.listeners=new Set}return Object(i["a"])(e,[{key:"dispatch",value:function(e){this.listeners.forEach((function(t){return t(e)}))}},{key:"on",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.listeners.add(e),n)return{dispose:function(){t.off(e)}}}},{key:"off",value:function(e){this.listeners.delete(e)}},{key:"once",value:function(e){var t=this,n=function n(r){e(r),t.off(n)};this.on(n)}}]),e}()},"18d8":function(e,t,n){},"235c":function(e,t,n){},"25d4":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));n("a4d3"),n("e01a"),n("99af"),n("b0c0"),n("4ec9"),n("c1f9"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("3835"),i=(n("96cf"),n("1da1")),a=n("d4ec"),o=n("bee2"),s=n("262e"),c=n("2caf"),u=n("668b"),l=n("d009"),d=n("f374"),p=n("3d15"),f=n("aaff"),h=n("5e48"),m=n.n(h),v=p["b"](new Worker(e,void 0)),g=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.apply(this,arguments),e._services=new Map,e.ready=new d["a"],e.compilerPlugins=new Map,e}return Object(o["a"])(n,[{key:"start",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,i){var a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resetSignal(),this.ready.dispatch(!1),e.next=4,l["a"].getApp();case 4:return a=e.sent,e.next=7,a.packIndexer.fired;case 7:if(console.time("[TASK] Compiling project (total)"),o=a.taskManager.create({icon:"mdi-cogs",name:"taskManager.tasks.compiler.title",description:"taskManager.tasks.compiler.description"}),s=this._services.get("".concat(t,"#").concat(n,".").concat(i)),s){e.next=23;break}return e.t0=v,e.next=14,a.fileSystem.getDirectoryHandle("projects/".concat(t));case 14:return e.t1=e.sent,e.t2=a.fileSystem.baseDirectory,e.t3={config:i,mode:n,plugins:Object.fromEntries(this.compilerPlugins.entries())},e.next=19,new e.t0(e.t1,e.t2,e.t3);case 19:s=e.sent,this._services.set("".concat(t,"#").concat(n,".").concat(i),s),e.next=25;break;case 23:return e.next=25,s.updatePlugins(Object.fromEntries(this.compilerPlugins.entries()));case 25:return s.on(p["a"]((function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];n===i&&o.complete(),o.update(n,i)})),!1),e.next=28,a.packIndexer.fired;case 28:if(c=e.sent,"build"!==n){e.next=33;break}return e.next=32,a.packIndexer.service.getAllFiles();case 32:c=e.sent;case 33:return e.next=35,s.start(c);case 35:this.dispatch(),this.ready.dispatch(!0),console.timeEnd("[TASK] Compiling project (total)");case 38:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"addCompilerPlugin",value:function(e,t){var n=this;if(this.compilerPlugins.has(e))throw new Error('Compiler plugin with id "'.concat(e,'" is already registered'));return this.compilerPlugins.set(e,t),{dispose:function(){return n.compilerPlugins.delete(e)}}}},{key:"getService",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getApp();case 2:return r=e.sent,e.abrupt("return",this._services.get("".concat(r.selectedProject,"#").concat(t,".").concat(n)));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"openWindow",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,d,p,h,v,g=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getApp();case 2:return t=e.sent,e.next=5,t.fileSystem.getDirectoryHandle("projects/".concat(t.selectedProject,"/bridge/compiler"),{create:!0});case 5:return n=e.sent,r=new f["a"]("sidebar.compiler.name"),e.next=9,r.actionManager;case 9:i=e.sent,a=!0,o=!1,e.prev=12,c=regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=h,"file"===n.kind&&".DS_Store"!==n.name){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,n.getFile();case 5:return r=e.sent,e.t0=m.a,e.next=9,r.text();case 9:e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),i.create({icon:a.icon,name:a.name,description:a.description,onTrigger:function(){return g.start(t.selectedProject,"build",n.name)}});case 12:case"end":return e.stop()}}),e)})),d=Object(u["a"])(n.values());case 15:return e.next=17,d.next();case 17:return p=e.sent,a=p.done,e.next=21,p.value;case 21:if(h=e.sent,a){e.next=30;break}return e.delegateYield(c(),"t0",24);case 24:if(v=e.t0,"continue"!==v){e.next=27;break}return e.abrupt("continue",27);case 27:a=!0,e.next=15;break;case 30:e.next=36;break;case 32:e.prev=32,e.t1=e["catch"](12),o=!0,s=e.t1;case 36:if(e.prev=36,e.prev=37,a||null==d.return){e.next=41;break}return e.next=41,d.return();case 41:if(e.prev=41,!o){e.next=44;break}throw s;case 44:return e.finish(41);case 45:return e.finish(36);case 46:case"end":return e.stop()}}),e,null,[[12,32,36,46],[37,,41,45]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateFile",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getService(t,n);case 2:if(i=e.sent,i){e.next=5;break}throw new Error('Undefined service: "'.concat(t,"#").concat(n,'"'));case 5:return e.next=7,i.updatePlugins(Object.fromEntries(this.compilerPlugins.entries()));case 7:return e.next=9,i.updateFile(r);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),n}(d["a"])}).call(this,n("c56c"))},"2dd6":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));n("c975"),n("a434");var r=n("d4ec"),i=n("bee2"),a=(n("a4d3"),n("e01a"),n("b0c0"),n("c5fb")),o=function(){function e(t,n){Object(r["a"])(this,e),this.taskManager=t,this.taskDetails=n,this.currentStepCount=0}return Object(i["a"])(e,[{key:"update",value:function(e,t){this.currentStepCount=e,t&&(this.taskDetails.totalTaskSteps=t)}},{key:"createWindow",value:function(){this.window=Object(a["c"])(this.name,this.description)}},{key:"complete",value:function(){this.window&&this.window.dispose(),this.dispose()}},{key:"dispose",value:function(){this.taskManager.delete(this)}},{key:"name",get:function(){return this.taskDetails.name}},{key:"description",get:function(){return this.taskDetails.description}},{key:"totalStepCount",get:function(){var e;return null!==(e=this.taskDetails.totalTaskSteps)&&void 0!==e?e:100}},{key:"icon",get:function(){return this.taskDetails.icon}},{key:"progress",get:function(){return Math.round(this.currentStepCount/this.totalStepCount*100)}}]),e}(),s=n("a026"),c=s["a"].observable([]),u=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"create",value:function(e){var t=new o(this,e);return c.push(t),t}},{key:"delete",value:function(e){c.splice(c.indexOf(e),1)}},{key:"hasRunningTasks",get:function(){return c.length>0}}]),e}()},3490:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("4160"),n("07ac"),n("159b"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("a026"),s=(n("a4d3"),n("e01a"),n("b0c0"),n("262e")),c=n("2caf"),u=n("8d8a"),l=n("ec26"),d=n("1834"),p=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(e,r){var a,o;return Object(i["a"])(this,n),o=t.call(this),o.actionManager=e,o.config=r,o.id=null!==(a=r.id)&&void 0!==a?a:Object(l["a"])(),r.keyBinding&&o.addKeyBinding(u["a"].fromStrKeyCode(e.app.keyBindingManager,r.keyBinding,!0)),o}return Object(a["a"])(n,[{key:"addKeyBinding",value:function(e){var t=this;return this._keyBinding=e,e.on((function(){return t.trigger()})),this}},{key:"disposeKeyBinding",value:function(){this._keyBinding&&this._keyBinding.dispose()}},{key:"trigger",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dispatch(),e.next=3,this.config.onTrigger();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){this.actionManager.disposeAction(this.id),this.disposeKeyBinding()}},{key:"keyBinding",get:function(){return this._keyBinding}},{key:"name",get:function(){return this.config.name}},{key:"icon",get:function(){return this.config.icon}},{key:"description",get:function(){return this.config.description}}]),n}(d["a"]),f=function(){function e(t){Object(i["a"])(this,e),this.app=t,this.state=o["a"].observable({})}return Object(a["a"])(e,[{key:"create",value:function(e){var t=new p(this,e);return o["a"].set(this.state,t.id,t),t}},{key:"disposeAction",value:function(e){o["a"].delete(this.state,e)}},{key:"dispose",value:function(){Object.values(this.state).forEach((function(e){return e.dispose()}))}},{key:"trigger",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.state[t]){e.next=2;break}throw new Error('Failed to trigger "'.concat(t,'": Action does not exist.'));case 2:return e.next=4,this.state[t].trigger();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},"3ef0":function(e,t,n){},"4d25":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("a026"),i=r["a"].observable({});function a(e){for(var t in e)r["a"].set(i,t,e[t])}},"56cb":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n("3835"),i=(n("96cf"),n("1da1")),a=n("d4ec"),o=n("bee2"),s=n("262e"),c=n("2caf"),u=n("d009"),l=n("f374"),d=n("3d15"),p=n("4d25"),f=d["b"](new Worker(e,void 0)),h=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.apply(this,arguments),e.ready=new l["a"],e}return Object(o["a"])(n,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.time("[TASK] Indexing Packs (Total)"),this.resetSignal(),this.ready.dispatch(!1),u["a"].ready.once(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function i(a){var o,s,c,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return c=a.taskManager.create({icon:"mdi-flash-outline",name:"taskManager.tasks.packIndexing.title",description:"taskManager.tasks.packIndexing.description"}),i.t0=f,i.next=4,a.fileSystem.getDirectoryHandle("projects/".concat(e));case 4:return i.t1=i.sent,i.t2=a.fileSystem.baseDirectory,i.t3={disablePackSpider:!(null===p["b"]||void 0===p["b"]||null===(o=p["b"].general)||void 0===o?void 0:o.enablePackSpider),noFullLightningCacheRefresh:!n&&!(null===p["b"]||void 0===p["b"]||null===(s=p["b"].general)||void 0===s?void 0:s.fullLightningCacheRefresh)},i.next=9,new i.t0(i.t1,i.t2,i.t3);case 9:return t._service=i.sent,t._service.on(d["a"]((function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];n===i&&c.complete(),c.update(n,i)})),!1),i.next=13,t.service.start();case 13:u=i.sent,t.ready.dispatch(!0),t.dispatch(u),console.timeEnd("[TASK] Indexing Packs (Total)");case 17:case"end":return i.stop()}}),i)})));return function(e){return a.apply(this,arguments)}}())}},{key:"updateFile",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.updateFile(t);case 2:u["a"].eventSystem.dispatch("fileUpdated",t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readdir",value:function(e){return this.service.readdir(e)}},{key:"service",get:function(){return this._service}}]),n}(l["a"])}).call(this,n("1826"))},5730:function(e,t,n){},5780:function(e,t,n){},57803:function(e,t,n){"use strict";var r=n("9819"),i=n.n(r);i.a},"5d94":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("7db0"),n("07ac");var r=n("a026"),i=r["a"].observable({currentState:null,sidebarElements:{}});function a(e){var t=Object.values(i.sidebarElements).find((function(t){var n=t.uuid;return n===e}));if(!t)throw new Error('Sidebar with id "'.concat(e,'" not found'));null===t||void 0===t||t.click()}},"5dbc":function(e,t,n){"use strict";var r=n("18d8"),i=n.n(r);i.a},"5e27":function(e,t,n){"use strict";var r=n("b327"),i=n.n(r);i.a},6396:function(e){e.exports=JSON.parse('{"a":"2.0.0-alpha.0"}')},6514:function(e,t,n){},"6c6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("b64b");var r=n("d4ec"),i=n("bee2"),a=n("b2f9"),o=n("ec26"),s=n("a026"),c=function(){function e(t){var n;Object(r["a"])(this,e),this.config=t,this.id=Object(o["a"])(),this.isVisible=null===(n=this.config.isVisible)||void 0===n||n,s["a"].set(a["a"],this.id,this),"function"===typeof navigator.setAppBadge&&navigator.setAppBadge(Object.keys(a["a"]).length)}return Object(i["a"])(e,[{key:"onClick",value:function(){"function"===typeof this.config.onClick&&this.config.onClick()}},{key:"onMiddleClick",value:function(){var e,t;null===(e=(t=this.config).onMiddleClick)||void 0===e||e.call(t),this.config.disposeOnMiddleClick&&s["a"].delete(a["a"],this.id)}},{key:"addClickHandler",value:function(e){this.config.onClick=e}},{key:"show",value:function(){this.isVisible=!0}},{key:"dispose",value:function(){s["a"].delete(a["a"],this.id),"function"===typeof navigator.setAppBadge&&navigator.setAppBadge(Object.keys(a["a"]).length)}},{key:"icon",get:function(){return this.config.icon}},{key:"message",get:function(){return this.config.message}},{key:"color",get:function(){return this.config.color}},{key:"textColor",get:function(){return this.config.textColor}}]),e}()},"6ced":function(e,t,n){"use strict";var r=n("e84b"),i=n.n(r);i.a},"71ee":function(e,t,n){},"77cc":function(e,t,n){"use strict";var r=n("fd41"),i=n.n(r);i.a},7815:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("4fad"),n("3835"),n("b2f9"),n("a026");var r=n("6c6e");function i(e){return new r["a"](e)}},"7a00":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("96cf");var r=n("1da1"),i=n("d009"),a={data:function(){return{isProjectMixinReady:!1}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].getApp();case 2:return n=t.sent,t.next=5,n.projectManager.fired;case 5:e.isProjectMixinReady=!0;case 6:case"end":return t.stop()}}),t)})))()},computed:{project:function(){if(this.isProjectMixinReady){var e=i["a"].instance.projectManager;return e.state[e._selectedProject]}}}}},"7b36":function(e,t,n){"use strict";var r=n("8395"),i=n.n(r);i.a},"7f27":function(e,t,n){},"7f28":function(e,t,n){"use strict";var r=n("b52f"),i=n.n(r);i.a},8136:function(e,t,n){"use strict";var r=n("3ef0"),i=n.n(r);i.a},8395:function(e,t,n){},"85ec":function(e,t,n){},"8d8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("262e"),s=n("2caf"),c=n("1834"),u=n("9803"),l=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),a.keyBindingManager=e,a.config=r,a}return Object(a["a"])(n,[{key:"toStrKeyCode",value:function(){return Object(u["b"])(this.config)}},{key:"trigger",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dispatch();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"prevent",value:function(e){return"function"===typeof this.config.prevent&&this.config.prevent(e)}},{key:"dispose",value:function(){this.keyBindingManager.disposeKeyBinding(this.toStrKeyCode())}}],[{key:"fromStrKeyCode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.create(Object(u["a"])(t,n))}}]),n}(c["a"])},"8ed7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("caad"),n("2532");var r=n("4d25");function i(){var e;if((null===r["b"]||void 0===r["b"]||null===(e=r["b"].developers)||void 0===e?void 0:e.simulateOS)&&"auto"!==r["b"].developers.simulateOS)return r["b"].developers.simulateOS;var t=navigator.platform.toLowerCase();return t.includes("win")?"win32":t.includes("linux")?"linux":t.includes("mac")?"darwin":void 0}},"907c":function(e,t,n){"use strict";var r=n("5730"),i=n.n(r);i.a},9164:function(e,t,n){"use strict";var r=n("5780"),i=n.n(r);i.a},"923f":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));n("4de4"),n("d81d"),n("4fad"),n("2ca0");var r=n("3835"),i=n("cd49");n("a026");function a(e){var t,n=e;(null===(t=e)||void 0===t?void 0:t.startsWith("$vuetify."))||(e="$vuetify.".concat(e));var r=i["vue"].$vuetify.lang.t(e);return r===e?n:r}var o={methods:{t:function(e){var t,n=e;(null===(t=e)||void 0===t?void 0:t.startsWith("$vuetify."))||(e="$vuetify.".concat(e));var r=this.$vuetify.lang.t(e);return r===e?n:r}}};function s(e){var t=i["vue"].$vuetify.lang;if(!(e in t.locales))throw new Error('Undefined language: "'.concat(e,'"'));t.current=e}function c(){var e=i["vue"].$vuetify.lang.locales;return Object.entries(e).filter((function(e){var t=Object(r["a"])(e,2),n=(t[0],t[1]);return void 0!==n.languageName})).map((function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];return[n,i.languageName]}))}function u(){return i["vue"].$vuetify.lang.current}},9803:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("4160"),n("ac1f"),n("1276"),n("159b");var r=n("8ed7");function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.toLowerCase().split(" + "),i={key:""};return n.forEach((function(e){"⌘"===e||("darwin"!==Object(r["a"])()||t)&&"ctrl"===e?i.ctrlKey=!0:"alt"===e?i.altKey=!0:"shift"===e?i.shiftKey=!0:"meta"===e?i.metaKey=!0:i.key=e})),i}function a(e){var t=e.key,n=e.ctrlKey,i=e.altKey,a=e.shiftKey,o=e.metaKey,s=t.toUpperCase();return a&&(s="Shift + "+s),i&&(s="Alt + "+s),o&&(s="darwin"===Object(r["a"])()?"Ctrl + "+s:"Meta + "+s),n&&(s="darwin"===Object(r["a"])()?"⌘ + "+s:"Ctrl + "+s),s}},9819:function(e,t,n){},"9a02":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("96cf");var r,i=n("b85c"),a=n("1da1"),o=n("2909"),s=n("db05"),c=n("ec26"),u=n("f374");(function(e){var t=[],n=new Map;function r(){return t.concat(Object(o["a"])(n.values()))}function l(e){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.length>0)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,r.readJSON("data/packages/packDefinitions.json");case 4:t=n.sent,e.ready.dispatch();case 6:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function p(e){var t,n=Object(i["a"])(r());try{for(n.s();!(t=n.n()).done;){var a=t.value;if("string"===typeof a.matcher&&Object(s["isMatch"])(e,a.matcher))return a;var o,c=Object(i["a"])(a.matcher);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(Object(s["isMatch"])(e,u))return a}}catch(l){c.e(l)}finally{c.f()}}}catch(l){n.e(l)}finally{n.f()}}function f(e){var t,n;return null!==(t=null===(n=p(e))||void 0===n?void 0:n.id)&&void 0!==t?t:"unknown"}function h(e){var t=Object(c["a"])();return n.set(t,e),{dispose:function(){return n.delete(t)}}}e.ready=new u["a"],e.all=r,e.setup=l,e.get=p,e.getId=f,e.addExtensionPackType=h})(r||(r={}))},"9edc":function(e,t,n){"use strict";var r=n("cd82"),i=n.n(r);i.a},"9f82":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));n("d3b7");var r=n("a026"),i=n("ec26"),a=r["a"].observable({});function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s={};s.done=new Promise((function(e){s.setDone=e}));var c=Object(i["a"])(),u=r["a"].observable(Object.assign(t,{isVisible:!1,shouldRender:!1})),l={component:e,getState:function(){return u},close:function(){o(),u.isVisible=!1,setTimeout((function(){u.shouldRender=!1,n&&l.dispose()}),600)},open:function(){u.shouldRender=!0,u.isVisible=!0},dispose:function(){return r["a"].delete(a,c)},status:s};return r["a"].set(a,c,l),l}},"9f8f":function(e,t,n){},"9fcb":function(e,t,n){e.exports=n.p+"img/logo.3d03c8d6.png"},a005:function(e,t,n){"use strict";var r=n("c926"),i=n.n(r);i.a},a3ce:function(e,t,n){},a46c:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("d4ec"),i=n("bee2"),a=n("262e"),o=n("2caf"),s=n("a026"),c=n("ec26"),u=n("9f82"),l=n("f374"),d=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r["a"])(this,n),i=t.call(this),i.component=e,i.disposeOnClose=a,i.keepAlive=o,i.windowUUID=Object(c["a"])(),i.isVisible=!1,i.shouldRender=!1,i}return Object(i["a"])(n,[{key:"defineWindow",value:function(){s["a"].set(u["a"],this.windowUUID,this)}},{key:"onClose",value:function(){}},{key:"close",value:function(e){var t=this;this.onClose(),this.isVisible=!1,this.dispatch(e),this.keepAlive||setTimeout((function(){t.shouldRender=!1,t.disposeOnClose&&t.dispose()}),600)}},{key:"open",value:function(){this.shouldRender=!0,this.isVisible=!0,this.resetSignal()}},{key:"dispose",value:function(){s["a"].delete(u["a"],this.windowUUID)}}]),n}(l["a"])},a50c:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-1 pa-4 mb-2 rounded-lg control-bg"},[n("div",{staticClass:"d-flex align-center"},[e.action.icon?n("v-icon",{staticClass:"mr-1",attrs:{color:"accent"}},[e._v(" "+e._s(e.action.icon)+" ")]):e._e(),n("h3",[e._v(e._s(e.t(e.action.name)))]),n("v-spacer"),e.action.keyBinding?n("span",[e._v(" "+e._s(e.action.keyBinding.toStrKeyCode())+" ")]):e._e(),e.hideTriggerButton?e._e():n("v-btn",{attrs:{color:"primary",small:"",icon:""}},[n("v-icon",{on:{click:e.onTrigger}},[e._v("mdi-play")])],1)],1),e.dense?e._e():n("span",[e._v(e._s(e.t(e.action.description)))])])},i=[],a=n("923f"),o={props:{action:Object,hideTriggerButton:Boolean,dense:Boolean},mixins:[a["a"]],methods:{onTrigger:function(){this.action.trigger()}}},s=o,c=(n("77cc"),n("2877")),u=n("6544"),l=n.n(u),d=n("8336"),p=n("132d"),f=n("2fa4"),h=Object(c["a"])(s,r,i,!1,null,"0d37c956",null);t["a"]=h.exports;l()(h,{VBtn:d["a"],VIcon:p["a"],VSpacer:f["a"]})},aaff:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n("d3b7"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("45eb"),s=n("7e84"),c=n("262e"),u=n("2caf"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:e.title,isVisible:e.isVisible,hasCloseButton:!e.opts.isPersistent,hasMaximizeButton:!1,percentageWidth:50,maxPercentageHeight:80,isPersistent:e.opts.isPersistent,heightUnset:""},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return e._l(e.$data._actionManager.state,(function(t,r){return n("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticStyle:{cursor:"pointer"},attrs:{action:t,hideTriggerButton:!0},nativeOn:{click:function(n){return e.onClick(t)}}})}))},proxy:!0}])})},d=[],p=n("bd5a"),f=n("a50c"),h=n("923f"),m={name:"InformedChoiceWindow",mixins:[h["a"]],components:{BaseWindow:p["a"],ActionViewer:f["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onClick:function(e){e.trigger(),this.currentWindow.close()}}},v=m,g=n("2877"),b=n("269a"),w=n.n(b),k=n("5607"),y=Object(g["a"])(v,l,d,!1,null,null,null),x=y.exports;w()(y,{Ripple:k["a"]});var j=n("a46c"),O=n("d009"),S=n("3490"),C=n("f374"),_=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i["a"])(this,n),r=t.call(this,x,!0),r.title=e,r.opts=a,r._ready=new C["a"],r.setup(),r}return Object(a["a"])(n,[{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=S["a"],e.next=3,O["a"].getApp();case 3:e.t1=e.sent,this._actionManager=new e.t0(e.t1),this._ready.dispatch(this._actionManager),this.defineWindow(),this.open();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.actionManager;case 2:Object(o["a"])(Object(s["a"])(n.prototype),"open",this).call(this);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){Object(o["a"])(Object(s["a"])(n.prototype),"dispose",this).call(this),this._actionManager.dispose()}},{key:"actionManager",get:function(){var e=this;return new Promise((function(t){return e._ready.once(t)}))}}]),n}(j["a"])},b2f9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a026"),i=r["a"].observable({})},b327:function(e,t,n){},b4a2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d009"),i={data:function(){return{isCompilerReady:!1}},mounted:function(){var e=this;r["a"].ready.once((function(t){return t.compiler.ready.on(e.setIsCompilerReady)}))},destroyed:function(){var e=this;r["a"].ready.once((function(t){return t.compiler.ready.off(e.setIsCompilerReady)}))},methods:{setIsCompilerReady:function(e){this.isCompilerReady=e}}}},b52f:function(e,t,n){},bbbf:function(e,t,n){"use strict";var r=n("7f27"),i=n.n(r);i.a},bd5a:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.isVisible,persistent:e.isPersistent,"hide-overlay":!e.blurBackground,"max-width":e.isFullscreen?e.maxWindowWidth:e.windowWidth,"content-class":"no-overflow"},on:{input:function(t){return e.$emit("closeWindow")}}},[n("v-card",{attrs:{height:"100%",width:"100%",color:"background",rounded:"darwin"===e.platform?"lg":void 0}},[e.hideToolbar?e._e():n("darwin"===e.platform?"MacToolbar":"WindowsToolbar",{tag:"component",attrs:{windowTitle:e.t(e.windowTitle),hasMaximizeButton:e.hasMaximizeButton,hasCloseButton:e.hasCloseButton,hasSidebar:!!e.$slots.sidebar,sidebarWidth:e.sidebarWidth},on:{toggleFullscreen:function(t){return e.$emit("toggleFullscreen")},closeWindow:function(t){return e.$emit("closeWindow")}}},[e._t("toolbar")],2),e.$slots.sidebar?n("v-navigation-drawer",{staticStyle:{visibility:"visible",transform:"translateX(0)"},attrs:{absolute:"",width:e.sidebarWidth,permanent:"",clipped:"",stateless:"",color:"expandedSidebar"}},["darwin"===e.platform?n("MacWindowControls",{staticClass:"pl-3 pt-1",staticStyle:{width:"calc(100% - 1px)","background-color":"var(--v-expandedSidebar-base)"},attrs:{hasMaximizeButton:e.hasMaximizeButton,hasCloseButton:e.hasCloseButton},on:{toggleFullscreen:function(t){return e.$emit("toggleFullscreen")},closeWindow:function(t){return e.$emit("closeWindow")}}}):e._e(),n("v-container",{class:{"pt-8":"darwin"===e.platform}},[e._t("sidebar")],2)],1):e._e(),n("v-card-text",{staticStyle:{"padding-top":"12px","overflow-y":"auto"},style:{height:e.heightUnset?void 0:(e.isFullscreen?e.maxWindowHeight:e.windowHeight)+"px","max-height":e.maxWindowHeight+"px","padding-top":e.hideToolbar?"24px":"12px","padding-left":e.$slots.sidebar?"calc("+e.sidebarWidth+" + 12px)":void 0}},[e._t("default")],2),e.$slots.actions?n("v-card-actions",{style:{"padding-left":e.$slots.sidebar?"calc("+e.sidebarWidth+" + 12px)":void 0},attrs:{"background-color":"footer"}},[e._t("actions")],2):e._e()],1)],1)},i=[],a=(n("a9e3"),n("8ed7")),o=n("923f"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-system-bar",{style:{"padding-right":"0px","padding-left":e.hasSidebar?"calc("+e.sidebarWidth+" + 12px)":void 0},attrs:{height:"30px",color:"toolbar"}},[n("span",[e._v(e._s(e.windowTitle))]),n("v-spacer"),n("v-toolbar-items",{staticClass:"px14-font"},[e._t("default"),e.hasMaximizeButton?n("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.$emit("toggleFullscreen")}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-plus")])],1):e._e(),e.hasCloseButton?n("v-btn",{attrs:{small:"",icon:"",color:"error"},on:{click:function(t){return t.stopPropagation(),e.$emit("closeWindow")}}},[n("v-icon",{attrs:{color:e.isDarkMode?"white":"grey darken-1",small:""}},[e._v(" mdi-close ")])],1):e._e()],2)],1)},c=[],u={name:"WindowsToolbar",props:{windowTitle:String,sidebarWidth:{type:String,default:"25%"},hasCloseButton:{type:Boolean,default:!0},hasMaximizeButton:{type:Boolean,default:!0},hasSidebar:Boolean},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},l=u,d=n("2877"),p=n("6544"),f=n.n(p),h=n("8336"),m=n("132d"),v=n("2fa4"),g=n("afd9"),b=n("2a7f"),w=Object(d["a"])(l,s,c,!1,null,null,null),k=w.exports;f()(w,{VBtn:h["a"],VIcon:m["a"],VSpacer:v["a"],VSystemBar:g["a"],VToolbarItems:b["b"]});var y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-system-bar",{attrs:{height:"30px",color:"toolbar"}},[n("span",{class:{"window-title":!e.hasSidebar},style:{"padding-left":e.hasSidebar?"calc("+e.sidebarWidth+" + 12px)":void 0}},[e._v(e._s(e.windowTitle))]),n("div",{staticStyle:{position:"absolute",top:"3px"}},[e.hasSidebar?e._e():n("MacWindowControls",e._g({attrs:{hasCloseButton:e.hasCloseButton,hasMaximizeButton:e.hasMaximizeButton,hasMinimizeButton:e.hasMinimizeButton}},e.$listeners))],1),n("v-spacer"),e._t("default")],2)},x=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"fixed","z-index":"1"}},[e.hasCloseButton?n("MacButton",{attrs:{color:"error"},on:{click:function(t){return e.$emit("closeWindow")}}}):e._e(),e.hasCloseButton?n("MacButton",{attrs:{color:"warning",disabled:!e.hasMinimizeButton},on:{click:function(t){return e.$emit("minimizeWindow")}}}):e._e(),e.hasCloseButton?n("MacButton",{attrs:{color:"success",disabled:!e.hasMaximizeButton},on:{click:function(t){return e.$emit("toggleFullscreen")}}}):e._e()],1)},O=[],S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-icon",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.disabled,expression:"!disabled"}],staticClass:"mr-1",staticStyle:{"font-size":"15px"},attrs:{color:e.disabled||!e.windowHasFocus?e.isDarkMode?"grey darken-2":"grey":e.color,small:""},nativeOn:{click:function(t){return t.stopPropagation(),e.$emit("click")}}},[e._v(" mdi-checkbox-blank-circle ")])},C=[],_={props:{color:String,disabled:Boolean},data:function(){return{windowHasFocus:!0}},mounted:function(){window.addEventListener("focus",this.enableButton),window.addEventListener("blur",this.disableButton)},destroyed:function(){window.removeEventListener("focus",this.enableButton),window.removeEventListener("blur",this.disableButton)},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}},methods:{disableButton:function(){this.windowHasFocus=!1},enableButton:function(){this.windowHasFocus=!0}}},P=_,R=n("269a"),T=n.n(R),F=n("5607"),E=Object(d["a"])(P,S,C,!1,null,null,null),W=E.exports;f()(E,{VIcon:m["a"]}),T()(E,{Ripple:F["a"]});var M={components:{MacButton:W},props:{hasCloseButton:{type:Boolean,default:!0},hasMinimizeButton:{type:Boolean,default:!1},hasMaximizeButton:{type:Boolean,default:!0}},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},B=M,D=Object(d["a"])(B,j,O,!1,null,null,null),I=D.exports,V={name:"MacToolbar",components:{MacWindowControls:I},props:{windowTitle:String,hasSidebar:Boolean,sidebarWidth:{type:String,default:"25%"},hasCloseButton:{type:Boolean,default:!0},hasMinimizeButton:{type:Boolean,default:!1},hasMaximizeButton:{type:Boolean,default:!0}}},A=V,N=(n("5dbc"),Object(d["a"])(A,y,x,!1,null,"6d0d08f0",null)),L=N.exports;f()(N,{VSpacer:v["a"],VSystemBar:g["a"]});var $=n("f7fe"),U=n.n($),z={name:"BaseWindow",mixins:[o["a"]],components:{WindowsToolbar:k,MacToolbar:L,MacWindowControls:I},props:{isFullscreen:Boolean,isVisible:Boolean,shouldRender:Boolean,isPersistent:Boolean,sidebarWidth:{type:String,default:"25%"},blurBackground:{type:Boolean,default:!0},hideToolbar:Boolean,windowTitle:String,hasCloseButton:{type:Boolean,default:!0},hasMaximizeButton:{type:Boolean,default:!0},width:{type:Number,default:1600},maxWidth:{type:Number,default:1600},height:{type:Number,default:800},maxHeight:{type:Number,default:800},heightUnset:Boolean,percentageHeight:Number,percentageWidth:Number,maxPercentageHeight:Number,maxPercentageWidth:Number},data:function(){return{platform:Object(a["a"])(),globalWindowWidth:window.innerWidth,globalWindowHeight:window.innerHeight,updateWindowSize:U()((function(){this.globalWindowWidth=window.innerWidth,this.globalWindowHeight=window.innerHeight}),200).bind(this)}},mounted:function(){window.addEventListener("resize",this.updateWindowSize)},destroyed:function(){window.removeEventListener("resize",this.updateWindowSize)},computed:{isDarkMode:function(){return this.$vuetify.theme.dark},windowWidth:function(){return void 0==this.percentageWidth?this.width:this.globalWindowWidth/100*this.percentageWidth},windowHeight:function(){return void 0==this.percentageHeight?this.height:this.globalWindowHeight/100*this.percentageHeight-150},maxWindowWidth:function(){return void 0==this.maxPercentageWidth?this.maxWidth:this.globalWindowWidth/100*this.maxPercentageWidth},maxWindowHeight:function(){return void 0==this.maxPercentageHeight?this.maxHeight:this.globalWindowHeight/100*this.maxPercentageHeight-150}}},H=z,J=(n("9edc"),n("b0af")),q=n("99d9"),K=n("a523"),G=n("169a"),Q=n("f774"),X=Object(d["a"])(H,r,i,!1,null,null,null);t["a"]=X.exports;f()(X,{VCard:J["a"],VCardActions:q["b"],VCardText:q["d"],VContainer:K["a"],VDialog:G["a"],VNavigationDrawer:Q["a"]})},bd74:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d009"),i={data:function(){return{isPackIndexerReady:!1}},mounted:function(){var e=this;r["a"].ready.once((function(t){return t.packIndexer.ready.on(e.setIsPackIndexerReady)}))},destroyed:function(){var e=this;r["a"].ready.once((function(t){return t.packIndexer.ready.off(e.setIsPackIndexerReady)}))},methods:{setIsPackIndexerReady:function(e){this.isPackIndexerReady=e}}}},c3ee:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("ac1f"),n("5319"),n("1276");var r=n("d4ec"),i=n("bee2"),a=n("ec26"),o=n("d009"),s=n("dffd"),c=n("9a02"),u=function(){function e(t,n){Object(r["a"])(this,e),this.parent=t,this.path=n,this.uuid=Object(a["a"])(),this.hasRemoteChange=!1,this.isUnsaved=!1}return Object(i["a"])(e,[{key:"setIsUnsaved",value:function(e){this.isUnsaved=e}},{key:"getPath",value:function(){return this.path}},{key:"getPackPath",value:function(){return this.path.replace("projects/".concat(o["a"].instance.selectedProject,"/"),"")}},{key:"select",value:function(){return this.parent.select(this),this}},{key:"close",value:function(){this.parent.close(this)}},{key:"isFor",value:function(e){return e===this.path}},{key:"onActivate",value:function(){}},{key:"onDeactivate",value:function(){}},{key:"onDestroy",value:function(){}},{key:"copy",value:function(){document.execCommand("copy")}},{key:"cut",value:function(){document.execCommand("cut")}},{key:"paste",value:function(){}},{key:"name",get:function(){var e=this.path.split(/\\|\//g);return e.pop()}},{key:"icon",get:function(){var e,t;return null!==(e=null===(t=s["a"].get(this.getPackPath()))||void 0===t?void 0:t.icon)&&void 0!==e?e:"mdi-file-outline"}},{key:"iconColor",get:function(){var e;return null===(e=c["a"].get(this.getPath()))||void 0===e?void 0:e.color}},{key:"isSelected",get:function(){return this.parent.selectedTab===this}}],[{key:"is",value:function(e){return!1}}]),e}()},c56c:function(e,t,n){e.exports=n.p+"js/1.5181c5fb.worker.js"},c5fb:function(e,t,n){"use strict";n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return L})),n.d(t,"b",(function(){return $})),n.d(t,"a",(function(){return U}));n("96cf");var r=n("1da1"),i=n("9f82"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.windowTitle,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:120,hasCloseButton:!1,isPersistent:e.isPersistent},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t(e.content)))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.close}},[n("v-icon",[e._v("mdi-check")]),n("span",[e._v(e._s(e.t("windows.common.information.confirm")))])],1)]},proxy:!0}],null,!1,109401611)}):e._e()},o=[],s=n("923f"),c=n("bd5a"),u={name:"Information",mixins:[s["a"]],components:{BaseWindow:c["a"]},props:["currentWindow"],data:function(){return this.currentWindow.getState()},methods:{close:function(){this.currentWindow.close(),"function"===typeof this.callback&&this.callback()}}},l=u,d=n("2877"),p=n("6544"),f=n.n(p),h=n("8336"),m=n("132d"),v=n("2fa4"),g=Object(d["a"])(l,a,o,!1,null,null,null),b=g.exports;f()(g,{VBtn:h["a"],VIcon:m["a"],VSpacer:v["a"]});var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.windowTitle,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:120},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-row",[n("v-text-field",{attrs:{label:e.label,autofocus:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),""!==e.expandText?n("p",{staticClass:"expand_text"},[e._v(" "+e._s(e.expandText)+" ")]):e._e()],1)]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:""===e.inputValue},on:{click:e.onConfirm}},[n("span",[e._v(e._s(e.t("windows.common.input.confirm")))])])]},proxy:!0}],null,!1,4185741680)}):e._e()},k=[],y={name:"Input",mixins:[s["a"]],components:{BaseWindow:c["a"]},props:["currentWindow"],data:function(){return this.currentWindow.getState()},methods:{onClose:function(){this.currentWindow.close(),this.inputValue=""},onConfirm:function(){this.currentWindow.close(),this.onConfirmCb(this.inputValue+this.expandText),this.inputValue=""}}},x=y,j=(n("ea6e"),n("0fd9")),O=n("8654"),S=Object(d["a"])(x,w,k,!1,null,null,null),C=S.exports;f()(S,{VBtn:h["a"],VRow:j["a"],VSpacer:v["a"],VTextField:O["a"]});var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.windowTitle,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:140},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-select",{staticClass:"mt-4",attrs:{autofocus:"",solo:"",items:e.items,"background-color":"background"},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:""===e.selectedValue},on:{click:e.onConfirm}},[n("span",[e._v(e._s(e.t("windows.common.dropdown.confirm")))])])]},proxy:!0}],null,!1,4234595901)}):e._e()},P=[],R={name:"Dropdown",mixins:[s["a"]],components:{BaseWindow:c["a"]},props:["currentWindow"],data:function(){return this.currentWindow.getState()},methods:{onClose:function(){this.currentWindow.close()},onConfirm:function(){this.currentWindow.close(),this.onConfirmCb(this.selectedValue)}}},T=R,F=n("b974"),E=Object(d["a"])(T,_,P,!1,null,null,null),W=E.exports;f()(E,{VBtn:h["a"],VSelect:F["a"],VSpacer:v["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.common.confirm.title",isVisible:e.isVisible,isPersistent:!0,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:130,hasCloseButton:!1},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t(e.content)))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{on:{click:e.onCancel}},[n("span",[e._v(e._s(e.t(e.cancelText)))])]),n("v-btn",{attrs:{color:"primary"},on:{click:e.onConfirm}},[n("span",[e._v(e._s(e.t(e.confirmText)))])])]},proxy:!0}],null,!1,3401669658)}):e._e()},B=[],D={name:"Confirm",mixins:[s["a"]],components:{BaseWindow:c["a"]},props:["currentWindow"],data:function(){return this.currentWindow.getState()},methods:{onCancel:function(){this.currentWindow.close(),this.onCancelCb()},onConfirm:function(){this.currentWindow.close(),this.onConfirmCb()}}},I=D,V=Object(d["a"])(I,M,B,!1,null,null,null),A=V.exports;function N(e,t,n){var a=Object(i["b"])(b,{windowTitle:e,content:t,isPersistent:"function"===typeof n,callback:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===n||void 0===n?void 0:n();case 2:null===(t=(r=a.status).setDone)||void 0===t||t.call(r);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()});return a.open(),a}function L(e,t,n,r,a){var o=Object(i["b"])(C,{windowTitle:e,label:t,inputValue:n,expandText:null!==r&&void 0!==r?r:"",onConfirmCb:a});return o.open(),o}function $(e,t,n,r,a){var o=Object(i["b"])(W,{windowTitle:e,placeholder:t,selectedValue:r,items:n,onConfirmCb:a});return o.open(),o}function U(e,t,n,r,a){var o=Object(i["b"])(A,{content:e,confirmText:t,cancelText:n,onConfirmCb:null!==r&&void 0!==r?r:function(){},onCancelCb:null!==a&&void 0!==a?a:function(){}});return o.open(),o}f()(V,{VBtn:h["a"],VSpacer:v["a"]})},c926:function(e,t,n){},c940:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t),n.d(t,"vuetify",(function(){return lt})),n.d(t,"vue",(function(){return dt}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Toolbar"),n("Sidebar",{attrs:{app:""}}),n("v-main",[n("WindowRenderer"),n("TabBar"),e.tabSystem?n("keep-alive",[n(e.tabSystem.currentComponent,{tag:"component",attrs:{tab:e.tabSystem.selectedTab}})],1):n("WelcomeScreen")],1)],1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{"mini-variant":"","mini-variant-width":"60",stateless:"",value:!0,app:e.app,absolute:"",right:e.isSidebarRight,color:"sidebarNavigation"}},[n("v-list",e._l(e.SidebarState.sidebarElements,(function(e,t){return n("SidebarButton",{key:""+t,attrs:{displayName:e.displayName,icon:e.icon,isLoading:e.isLoading},on:{click:function(t){return e.click()}}})})),1),Object.keys(e.NotificationStore).length>0?n("v-list",[n("v-divider",{staticClass:"mx-3 mb-6"}),e._l(e.NotificationStore,(function(t){return[t.isVisible?n("SidebarButton",{key:t.id,attrs:{displayName:t.message,icon:t.icon,color:t.color,iconColor:t.textColor},on:{click:function(e){return t.onClick()}}}):e._e()]}))],2):e._e(),e.tasks.length>0?n("v-list",[n("v-divider",{staticClass:"mx-3 mb-6"}),e._l(e.tasks,(function(e,t){return n("SidebarButton",{key:""+t,attrs:{displayName:e.name,icon:e.icon,color:"primary",isLoading:"",alwaysAllowClick:""},on:{click:function(t){return e.createWindow()}}},[n("v-progress-circular",{attrs:{rotate:"-90",size:"24",width:"2",color:"white",value:e.progress}})],1)}))],2):e._e()],1)},s=[],c=n("4d25"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{color:e.color?e.color:"tooltip",disabled:e.hasClicked,right:!e.isSidebarRight,left:e.isSidebarRight},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("div",e._g({directives:[{name:"ripple",rawName:"v-ripple",value:e.alwaysAllowClick||!e.isLoading,expression:"alwaysAllowClick || !isLoading"}],staticClass:"rounded-lg ma-2 d-flex justify-center sidebar-button",class:{loading:e.isLoading,"pa-1":e.smallerSidebarElements,"pa-2":!e.smallerSidebarElements},style:{"background-color":e.computedColor},on:{click:e.onClick}},r),[n("v-icon",{style:{position:e.isLoading?"absolute":"relative",margin:e.isLoading?"4px":0},attrs:{color:e.isLoading?"white":e.iconColor,small:e.isLoading}},[e._v(" "+e._s(e.icon)+" ")]),e.isLoading?e._t("default",[n("v-progress-circular",{attrs:{size:"24",width:"2",color:"white",indeterminate:""}})]):e._e()],2)]}}],null,!0)},[n("span",[e._v(e._s(e.t(e.displayName)))])])},l=[],d=(n("a9e3"),n("2ca0"),n("923f")),p={name:"SidebarButton",mixins:[d["a"]],props:{displayName:String,icon:String,iconColor:String,color:String,isLoading:{type:Boolean,default:!1},alwaysAllowClick:{type:Boolean,default:!1},opacity:{type:Number,default:1}},data:function(){return{settingsState:c["b"],hasClicked:!1}},computed:{isSidebarRight:function(){return this.settingsState&&this.settingsState.appearance&&this.settingsState.appearance.isSidebarRight},smallerSidebarElements:function(){return this.settingsState&&this.settingsState.appearance&&this.settingsState.appearance.smallerSidebarElements},computedColor:function(){return this.color?this.color.startsWith("#")?this.color:"var(--v-".concat(this.color,"-base)"):this.isLoading?"var(--v-primary-base)":"var(--v-sidebarSelection-base)"}},methods:{onClick:function(){var e=this;!this.alwaysAllowClick&&this.isLoading||(this.$emit("click"),this.hasClicked=!0,this.$nextTick((function(){return e.hasClicked=!1})))}}},f=p,h=(n("907c"),n("2877")),m=n("6544"),v=n.n(m),g=n("132d"),b=n("490a"),w=n("3a2f"),k=n("269a"),y=n.n(k),x=n("5607"),j=Object(h["a"])(f,u,l,!1,null,"3e480f2c",null),O=j.exports;v()(j,{VIcon:g["a"],VProgressCircular:b["a"],VTooltip:w["a"]}),y()(j,{Ripple:x["a"]});var S=n("5d94"),C=n("2dd6"),_=(n("c5fb"),n("b2f9")),P={name:"Sidebar",props:{app:Boolean},components:{SidebarButton:O},data:function(){return{SidebarState:S["a"],settingsState:c["b"],tasks:C["b"],NotificationStore:_["a"]}},computed:{isSidebarRight:function(){return this.settingsState&&this.settingsState.appearance&&this.settingsState.appearance.isSidebarRight}}},R=P,T=n("ce7e"),F=n("8860"),E=n("f774"),W=Object(h["a"])(R,o,s,!1,null,null,null),M=W.exports;v()(W,{VDivider:T["a"],VList:F["a"],VNavigationDrawer:E["a"],VProgressCircular:b["a"]});var B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-system-bar",{attrs:{color:"toolbar",fixed:"",app:"",clipped:"",padless:"",height:"24px"}},[r("img",{staticStyle:{height:"16px","padding-right":"8px"},attrs:{alt:"bridge. Logo",src:n("9fcb")}}),r("v-divider",{attrs:{vertical:""}}),r("v-toolbar-items",{staticClass:"px14-font"},[e._l(e.toolbar,(function(t,n,i){return["category"!==t.type?r("MenuButton",{key:"button."+n,attrs:{displayName:t.name,displayIcon:t.icon},on:{click:function(){return t.trigger()}}}):r("MenuActivator",{key:"activator."+n,attrs:{item:t}}),i+1<Object.keys(e.toolbar).length?r("v-divider",{key:"divider."+n,attrs:{vertical:""}}):e._e()]}))],2)],1)},D=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"toolbar-btn",attrs:{small:"",icon:"",color:e.color},on:{click:function(t){return t.stopPropagation(),e.action(t)}}},[n("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1)},V=[],A={name:"WindowAction",components:{},props:{action:Function,icon:String,color:String}},N=A,L=(n("d526"),n("8336")),$=Object(h["a"])(N,I,V,!1,null,"0dfaadb2",null),U=$.exports;v()($,{VBtn:L["a"],VIcon:g["a"]});var z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"min-width":"260px","offset-y":"",tile:"","z-index":"11"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("MenuButton",e._g({attrs:{displayIcon:e.item.icon,displayName:e.item.name}},r))]}}]),model:{value:e.item.isVisible,callback:function(t){e.$set(e.item,"isVisible",t)},expression:"item.isVisible"}},[e.item.isVisible?n("MenuList",{attrs:{elements:e.item.state}}):e._e()],1)},H=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{staticClass:"app-menu",staticStyle:{"border-radius":"0"},attrs:{color:"menu"}},e._l(e.elements,(function(t,r,i){return n("v-menu",{key:"menu."+i+"."+Math.random(),attrs:{"open-on-hover":"","offset-x":"",tile:"","z-index":"11"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[n("v-list-item",e._g({attrs:{dense:""},on:{click:function(n){return e.onClick(t)}}},"category"===t.type?i:void 0),[t.icon?n("v-list-item-icon",[n("v-icon",{attrs:{color:"accent",small:""}},[e._v(e._s(t.icon))])],1):e._e(),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e.t(t.name))+" ")])],1),n("v-list-item-action",[n("v-list-item-action-text",["category"!==t.type&&t.keyBinding?n("span",[e._v(" "+e._s(t.keyBinding.toStrKeyCode())+" ")]):e._e(),"category"===t.type?n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")]):e._e()],1)],1)],1)]}}],null,!0)},[n("MenuList",{attrs:{elements:t.state}})],1)})),1)},q=[],K={name:"MenuList",mixins:[d["a"]],props:{elements:Object},methods:{onClick:function(e){e.trigger()}}},G=K,Q=n("da13"),X=n("1800"),Y=n("5d23"),Z=n("34c3"),ee=n("e449"),te=Object(h["a"])(G,J,q,!1,null,null,null),ne=te.exports;v()(te,{VIcon:g["a"],VList:F["a"],VListItem:Q["a"],VListItemAction:X["a"],VListItemActionText:Y["e"],VListItemContent:Y["g"],VListItemIcon:Z["a"],VListItemTitle:Y["k"],VMenu:ee["a"]});var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"toolbar-btn",attrs:{small:"",text:""},on:{click:function(t){return e.$emit("click",t)}}},[e.displayIcon?n("v-icon",{staticStyle:{"margin-right":"6px","font-style":"normal"},attrs:{color:"accent"}},[e._v(" "+e._s(e.displayIcon)+" ")]):e._e(),n("span",[e._v(" "+e._s(e.t(e.displayName))+" ")])],1)},ie=[],ae={name:"MenuButton",mixins:[d["a"]],props:{displayName:String,displayIcon:String}},oe=ae,se=(n("7b36"),Object(h["a"])(oe,re,ie,!1,null,"7f1b8f8d",null)),ce=se.exports;v()(se,{VBtn:L["a"],VIcon:g["a"]});var ue={name:"MenuActivator",components:{MenuList:ne,MenuButton:ce},props:{item:Object}},le=ue,de=Object(h["a"])(le,z,H,!1,null,null,null),pe=de.exports;v()(de,{VMenu:ee["a"]});var fe=n("d009"),he={name:"Toolbar",components:{WindowAction:U,MenuActivator:pe,MenuButton:ce},data:function(){return{toolbar:fe["a"].toolbar.state,windowActions:[]}}},me=he,ve=(n("57803"),n("afd9")),ge=n("2a7f"),be=Object(h["a"])(me,B,D,!1,null,"0e30439d",null),we=be.exports;v()(be,{VDivider:T["a"],VSystemBar:ve["a"],VToolbarItems:ge["b"]});var ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.WINDOWS,(function(e,t){return n(e.component,{key:t,tag:"component",attrs:{currentWindow:e}})})),1)},ye=[],xe=n("9f82"),je={name:"CollectedWindows",data:function(){return{WINDOWS:xe["a"]}}},Oe=je,Se=Object(h["a"])(Oe,ke,ye,!1,null,null,null),Ce=Se.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.tabSystem&&e.tabSystem.tabs.length>0?n("Draggable",{style:"display: flex; overflow-x: scroll; white-space: nowrap; width: 100%; height: 48px;",attrs:{group:{name:"tabSystemTabRow"}},model:{value:e.tabSystem.tabs,callback:function(t){e.$set(e.tabSystem,"tabs",t)},expression:"tabSystem.tabs"}},e._l(e.tabSystem.tabs,(function(t,r){return n("TabSystemTab",{key:t.uuid,attrs:{tab:t},nativeOn:{click:function(e){return t.select()},mouseup:function(e){return"button"in e&&1!==e.button?null:t.close()},contextmenu:function(t){return e.onContextMenu(t,r)}}})})),1):e._e()},Pe=[],Re=n("7a00"),Te={mixins:[Re["a"]],computed:{tabSystem:function(){if(this.project)return this.project.tabSystem}}},Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.tab.isSelected,expression:"!tab.isSelected"}],ref:"tabElement",staticClass:"px-3 py-2",class:{selected:e.tab.isSelected,"default-tab-style":!0,"d-flex":!0,"align-center":!0}},[n("v-icon",{staticClass:"mr-1",attrs:{color:e.tab.iconColor,small:""}},[e._v(" "+e._s(e.tab.icon)+" ")]),n("span",{style:{"font-style":e.tab.isUnsaved?"italic":null}},[e._v(" "+e._s(e.tab.name)+" ")]),n("v-btn",{attrs:{text:"",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.tab.close()}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1)],1)},Ee=[],We=n("c3ee"),Me={name:"TabSystemTab",props:{tab:We["a"]},mounted:function(){this.isSelected&&this.$refs.tabElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},computed:{isSelected:function(){return this.tab.isSelected}},watch:{isSelected:function(){this.isSelected&&this.$refs.tabElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},Be=Me,De=(n("f31d"),Object(h["a"])(Be,Fe,Ee,!1,null,"fe33cf14",null)),Ie=De.exports;v()(De,{VBtn:L["a"],VIcon:g["a"]}),y()(De,{Ripple:x["a"]});var Ve=n("b76a"),Ae=n.n(Ve),Ne={mixins:[Te],components:{TabSystemTab:Ie,Draggable:Ae.a}},Le=Ne,$e=(n("6ced"),Object(h["a"])(Le,_e,Pe,!1,null,"2ee6623c",null)),Ue=$e.exports,ze=n("8ed7"),He=n("ed38"),Je=r["a"].extend({name:"App",mixins:[Te],components:{Sidebar:M,Toolbar:we,WindowRenderer:Ce,TabBar:Ue,WelcomeScreen:He["a"]},data:function(){return{isMacOs:"darwin"===Object(ze["a"])()}}}),qe=Je,Ke=(n("034f"),n("7496")),Ge=n("f6c4"),Qe=Object(h["a"])(qe,i,a,!1,null,null,null),Xe=Qe.exports;v()(Qe,{VApp:Ke["a"],VMain:Ge["a"]});var Ye=n("f309"),Ze=n("9483"),et=n("7815");Object(Ze["a"])("".concat("/editor/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),Object(et["a"])({icon:"mdi-update",color:"primary",message:"Update Available",textColor:"white",onClick:function(){e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),navigator.serviceWorker.addEventListener("controllerchange",(function(){window.location.reload()}))}})},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var tt=n("5530"),nt=n("4b41"),rt=Object(tt["a"])(Object(tt["a"])({},nt["a"]),{},{languageName:"English",packType:{behaviorPack:{name:"Behavior Pack",description:"Create new game mechanics and change how Minecraft behaves"},resourcePack:{name:"Resource Pack",description:"Used for changing Minecraft's look and sound"},skinPack:{name:"Skin Pack",description:"Provide new appearances a player can select for their character"},worldTemplate:{name:"World Template",description:"Give players a world to explore"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",geometry:"Geometry",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",fog:"Fog",particle:"Particle",renderController:"Render Controller",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",unknown:"Other",simpleFile:"Simple Files"},actions:{newFile:{name:"New File",description:"Create a new Add-On feature"},openFile:{name:"Open File",description:"Search and open a file from the current project"},saveFile:{name:"Save File",description:"Save the currently opened file"},closeFile:{name:"Close File",description:"Close the currently opened file"},settings:{name:"Settings",description:"Open bridge.'s app settings"},extensions:{name:"Extensions",description:"Manage your installed extensions"},copy:{name:"Copy",description:"Copy selected text to the clipboard"},cut:{name:"Cut",description:"Copy selected text to the clipboard and remove it from the original context"},paste:{name:"Paste",description:"Paste clipboard content"},docs:{name:"Documentation",description:"Opens the Minecraft Add-On documentation"},releases:{name:"Releases",description:"View the latest bridge. releases"},bugReports:{name:"Bug Reports",description:"Report an issue with bridge."},pluginAPI:{name:"Plugin API",description:"Read more about bridge.'s plugin API"},gettingStarted:{name:"Getting Started",description:"Read our guide on how to get started with bridge."},faq:{name:"FAQ",description:"Read through frequently asked questions about developing Add-Ons with bridge."},reloadAutoCompletions:{name:"Reload Auto-Completions",description:"Reloads all auto-completion data"},pluginInstallLocation:{global:{name:"Install Globally",description:"Global extensions are accessible in all of your projects"},local:{name:"Install Locally",description:"Local extensions are only accessible inside of the projects you add them to"}}},toolbar:{file:{name:"File",preferences:{name:"Preferences"}},edit:{name:"Edit"},tools:{name:"Tools"},help:{name:"Help"}},sidebar:{compiler:{name:"Compiler"},extensions:{name:"Extensions",intro:{description:"Customize Your bridge. Experience With Plugins!",themes:"Themes",snippets:"Snippets",presets:"Presets",uiElements:"UI Elements",andMore:"And Much More!",viewExtensions:"View Extensions"}},notifications:{discord:{message:"Discord Server"},gettingStarted:{message:"Getting Started"},installApp:{name:"Install app"}}},welcome:{title:"Welcome to bridge.",subtitle:"Creating Minecraft addons has never been more convenient!",quickActions:"Quick Actions",recentFiles:"Recent Files",recentProjects:"Recent Projects"},windows:{common:{confirm:{title:"Confirm"},dropdown:{confirm:"Confirm"},information:{confirm:"Okay"},input:{confirm:"Confirm"}},loadingWindow:{title:"Loading..."},openFile:{title:"Open",search:"Search file...",noData:"No results..."},createProject:{welcome:"Welcome to bridge.!",welcomeDescription:"Please create your first project in order to get started.",omitPack:"Omit",selectedPack:"Selected",title:"Create Project",packIcon:"Project Icon (optional)",projectName:"Project Name",projectDescription:"Project Description (optional)",projectPrefix:"Project Prefix",projectAuthor:"Project Author",projectTargetVersion:"Project Target Version",create:"Create!"},createPreset:{title:"Create Preset",searchPresets:"Search presets..."},deleteProject:{confirm:"Delete",cancel:"Cancel",description:"Are you sure you want to delete this project?"},discord:{title:"Discord",content:"Join the official bridge. Discord server!",join:"Join",later:"Later"},projectChooser:{title:"Projects",searchProjects:"Search projects..."},selectFolder:{title:"Select Folder",content:"Select where to save projects or choose an existing projects directory.",select:"Select!"},packExplorer:{title:"Pack Explorer",searchFiles:"Search files...",categories:"Categories"},settings:{title:"Settings",searchSettings:"Search settings...",appearance:{name:"Appearance",colorScheme:{name:"Color Scheme",description:"Choose the color scheme of bridge.'s UI"},darkTheme:{name:"Dark Theme",description:"Select the default dark theme bridge. uses"},lightTheme:{name:"Light Theme",description:"Select the default light theme bridge. uses"},localDarkTheme:{name:"Local Dark Theme",description:"Choose a dark theme for the currently active project"},localLightTheme:{name:"Local Light Theme",description:"Choose a light theme for the currently active project"},sidebarRight:{name:"Sidebar Right",description:"Moves the sidebar to the right side of the screen"},shrinkSidebarElements:{name:"Shrink Sidebar Elements",description:"Shrink the size of bridge.'s sidebar elements"}},general:{name:"General",language:{name:"Language",description:"Choose a language for bridge. to use"},collaborativeMode:{name:"Collaborative Mode",description:"Forces full refresh of the cache upon switching projects. Disable when you work alone and you only use bridge. to edit your project"},packSpider:{name:"Pack Spider",description:"Pack Spider connects files inside of your projects and presents the connections to you in a virtual file system"},openLinksInBrowser:{name:"Open Links in Default Browser",description:"Open links inside of your default browser instead of a native app window"}},developer:{name:"Developer",simulateOS:{name:"Simulate OS",description:"Simulate a different OS for testing platform specific behavior"},devMode:{name:"Developer Mode",description:"Enable the developer mode for this app"}},actions:{name:"Actions"}},projectFolder:{title:"Project Folder",content:"bridge. needs access to its project folder in order to work correctly."},extensionStore:{title:"Extension Store",searchExtensions:"Search extension..."},pluginInstallLocation:{title:"Choose Install Location"},unsavedFile:{title:"Confirm",description:"Do you want to save your changes to this file before closing it?",cancel:"Cancel",noSave:"Close",save:"Save & Close"},browserUnsupported:{title:"Unsupported Browser",description:"Your browser is currently not supported. Please use Chrome or Edge (Chromium) in order to get started with bridge.!"}},taskManager:{tasks:{packIndexing:{title:"Indexing Packs",description:"bridge. is collecting data about your pack that is needed for its intelligent features."},compiler:{title:"Compiling Project",description:"bridge. is compiling your project to make it ready for import into Minecraft."}}}}),it=n("8e29"),at=Object(tt["a"])(Object(tt["a"])({},it["a"]),{},{languageName:"Deutsch",toolbar:{installApp:"App Installieren",file:{name:"Datei",newFile:"Neue Datei",import:{name:"Import",openFile:"Datei öffnen",importOBJ:"OBJ Model importieren"},saveFile:"Datei speichern",saveAs:"Datei speichern als...",saveAll:"Alle Dateien speichern",closeEditor:"Editor schließen",clearAllNotifications:"Alle Nachrichten löschen",preferences:{name:"Präferenzen",settings:"Einstellungen",extensions:"Erweiterungen"}},edit:{name:"Editieren",selection:{name:"Auswahl",unselect:"Auswahl aufheben",selectParent:"Auswahl hoch",selectNext:"Nächste Auswahl",selectPrevious:"Vorherige Auswahl"},jsonNodes:{name:"JSON Nodes",toggleOpen:"Öffnen/Schließen",toggleOpenChildren:"Kinder öffnen/schließen",moveDown:"Bewegen: Nach Oben",moveUp:"Bewegen: nach Unten",commentUncomment:"Aktivieren/Deaktivieren"},delete:"Löschen",undo:"Undo",redo:"Redo",copy:"Kopieren",cut:"Auschneiden",paste:"Einfügen",alternativePaste:"Einfügen (alternativ)"},tools:{name:"Werkzeuge",docs:"Dokumentation",presets:"Dateibündel",snippets:"Codeschnipsel",goToFile:"Gehe zu Datei..."},help:{name:"Hilfe",about:"Über bridge.",releases:"Updates",bugReports:"Fehler melden",pluginAPI:"Erweiterungs API",gettingStarted:"Wie du loslegst...",faq:"FAQ"},dev:{name:"Entwicklung",reloadBrowserWindow:"App neu laden",reloadEditorData:"Editor Daten neu laden",developerTools:"Entwicklerwerkzeuge"}},sidebar:{explorer:{name:"Dateien"},vanillaPacks:{name:"Vanilla Pakete"},debugLog:{name:"Debug Log"},extensions:{name:"Erweiterungen",intro:{description:"Ändere deine bridge. Erfahrung mit Plugins!",themes:"Farbmotive",snippets:"Codeschnipsel",presets:"Dateibündel",uiElements:"Neue UIs",andMore:"Und vieles mehr!",viewExtensions:"Erweiterungen!"}}},welcome:{title:"bridge.",subtitle:"Die Minecraft Add-On Entwicklung war niemals einfacher!",syntaxHighlighting:"Syntax Farbhervorhebung",richAutoCompletions:"Intelligente Autovervollständigung",projectManagement:"Einfaches Projektmanagement",customSyntax:"Neue Add-On Features",customComponents:"Erstelle neue Komponenten",customCommands:"Erstelle neue Kommandos",plugins:"Erweiterbar mit Plugins!"},windows:{common:{confirm:{title:"Bestätigen"},dropdown:{confirm:"Bestätigen"},information:{confirm:"Okay"},input:{confirm:"Bestätigen"}},discord:{content:"Trete dem offiziellen bridge. Discord bei!",join:"Beitreten",later:"Später"},selectFolder:{title:"Ordner auswählen",content:"Erstelle einen neuen Ordner, indem wir Projekte speichern sollen oder wähle einen existierenden Projekte-Ordner.",select:"Auswählen!"},projectFolder:{title:"Projekte-Ordner",content:"bridge. benötigt für die Editorfunktionalität Zugriff auf seinen Projekte-Ordner."}}}),ot=n("4642"),st=Object(tt["a"])(Object(tt["a"])({},ot["a"]),{},{languageName:"Nederlands",toolbar:{installApp:"Install app",file:{name:"Bestand",newFile:"Nieuw Bestand",import:{name:"Importeer",openFile:"Open Bestand",importOBJ:"Importeer OBJ Model"},saveFile:"Bestand Opslaan",saveAs:"Opslaan als",saveAll:"Alles Opslaan",closeEditor:"Sluit Editor",clearAllNotifications:"Wis alle meldingen",preferences:{name:"Voorkeuren",settings:"Instellingen",extensions:"Extensies"}},edit:{name:"Bewerk",selection:{name:"Selectie",unselect:"Selectie ongedaan maken",selectParent:"Selecteer bovenstaande",selectNext:"Selecteer Volgende",selectPrevious:"Selecteer Vorige"},jsonNodes:{name:"JSON Nodes",toggleOpen:"Open/Sluit",toggleOpenChildren:"Open/Sluit Object",moveDown:"Verplaats Omhoog",moveUp:"Verplaats Omlaag",commentUncomment:"Activeren/Deactiveren"},delete:"Verwijderen",undo:"Ongedaan maken",redo:"Opnieuw gedaan maken",copy:"Kopiëren",cut:"Knippen",paste:"Plakken",alternativePaste:"Alternatief Plakken"},tools:{name:"Hulpmiddelen",docs:"Documentatie",presets:"Voorinstellingen",snippets:"Fragmenten",goToFile:"Ga naar Bestand"},help:{name:"Help",about:"Over",releases:"Software Versies",bugReports:"Bug meldingen",pluginAPI:"Plugin API",gettingStarted:"Aan de slag",faq:"FAQ"},dev:{name:"Ontwikkeling",reloadBrowserWindow:"Herlaad het browservenster",reloadEditorData:"Herlaad Editor Gegevens",developerTools:"Ontwikkelaar Tools"}},sidebar:{explorer:{name:"Verkenner"},vanillaPacks:{name:"Vanilla Pakketten"},debugLog:{name:"Foutopsporingslogboek"},extensions:{name:"Extensies",intro:{description:"Pas uw bridge. ervaring aan met Plugins!",themes:"Thema's",snippets:"Fragmenten",presets:"Voorinstellingen",uiElements:"UI Elementen",andMore:"En nog veel meer!",viewExtensions:"Bekijk extensies"}}},welcome:{title:"bridge.",subtitle:"Het maken van Minecraft addons is nog nooit zo gemakkelijk geweest!",syntaxHighlighting:"Syntaxis accentuering",richAutoCompletions:"Uitgebreide automatische aanvullingen",projectManagement:"Eenvoudig projectbeheer",customSyntax:"Aangepaste syntaxis voor add-ons",customComponents:"Aangepaste componenten",customCommands:"Aangepaste commando's",plugins:"Aanpasbaar via plugins"},windows:{common:{confirm:{title:"Bevestigen"},dropdown:{confirm:"Bevestigen"},information:{confirm:"Oke"},input:{confirm:"Bevestigen"}},discord:{content:"Sluit je aan bij de officiële bridge. Discord server!",join:"Aansluiten",later:"Later"},selectFolder:{title:"Selecteer Map",content:"Selecteer waar u projecten wilt opslaan of kies een bestaande projectenmap.",select:"Selecteer!"},projectFolder:{title:"Project Map",content:"bridge. heeft toegang tot zijn projectmap nodig om correct te werken."}}}),ct=n("f5e4"),ut=Object(tt["a"])(Object(tt["a"])({},ct["a"]),{},{languageName:"한국어",toolbar:{installApp:"Install app",file:{name:"파일",newFile:"새로운 파일",import:{name:"파일 가져오기",openFile:"파일 열기",importOBJ:"OBJ 모델 가져오기"},saveFile:"파일 저장",saveAs:"다른 이름으로 저장",saveAll:"모두 저장",closeEditor:"편집 창 닫기",clearAllNotifications:"알림 전부 지우기",preferences:{name:"환경 설정",settings:"설정",extensions:"플러그인"}},edit:{name:"편집",selection:{name:"선택",unselect:"선택 취소",selectParent:"어버이 선택",selectNext:"다음 선택",selectPrevious:"이전 선택"},jsonNodes:{name:"JSON 개체",toggleOpen:"개체 여닫기",toggleOpenChildren:"개체 자식 여닫기",moveDown:"아래로 이동",moveUp:"위로 이동",commentUncomment:"활성화/비활성화"},delete:"삭제",undo:"실행 취소",redo:"재실행",copy:"복사",cut:"자르기",paste:"붙여넣기",alternativePaste:"다른 붙여넣기"},tools:{name:"도구",docs:"정보 기록문",presets:"프리셋",snippets:"부분적 인용",goToFile:"파일로 이동"},help:{name:"도움말",about:"정보",releases:"최신 릴리스",bugReports:"버그 제보",pluginAPI:"플러그인 API",gettingStarted:"bridge. 시작하는 법",faq:"FAQ"},dev:{name:"개발자 옵션",reloadBrowserWindow:"브라우저 창 재실행",reloadEditorData:"편집 데이터 재실행",developerTools:"개발자 도구"}},sidebar:{explorer:{name:"익스플로러"},vanillaPacks:{name:"바닐라 팩"},debugLog:{name:"디버그 로그"},extensions:{name:"프로그램 확장",intro:{description:"bridge.를 플러그인을 통해 커스터마이즈 해보세요!!",themes:"테마",snippets:"부분적 인용",presets:"프리셋",uiElements:"UI 요소",andMore:"그리고 더 많습니다!!",viewExtensions:"프로그램 확장들 보기"}}},welcome:{title:"bridge.",subtitle:"마인크래프트 애드온을 만들기 더욱 쉽게!!",syntaxHighlighting:"Syntax 하이라이트 기능",richAutoCompletions:"다양한 자동완성 기능",projectManagement:"쉬운 작업 관리",customSyntax:"커스텀 애드온 syntax",customComponents:"커스텀 요소",customCommands:"커스텀 커맨드",plugins:"플러그인을 통해 프로그램 커스텀 가능"},windows:{common:{confirm:{title:"확인"},dropdown:{confirm:"확인"},information:{confirm:"예"},input:{confirm:"확인"}},discord:{content:"bridge.의 공식 디스코드 서버에 들어오세요!!",join:"들어가기",later:"나중에"},selectFolder:{title:"폴더 선택",content:"프로젝트 저장 위치를 선택하거나 이미 존재하는 디렉토리를 선택하세요.",select:"선택!!"},projectFolder:{title:"프로젝트 폴더",content:"bridge.가 제대로 작동하기 위해서는 프로젝트 폴더에 대한 접근 권한이 필요합니다."},managePlugin:{name:"플러그인 관리",done:"완료"}}});n("41e6");r["a"].config.productionTip=!1,r["a"].use(Ye["a"]);var lt=new Ye["a"]({lang:{locales:{nl:st,de:at,en:rt,ko:ut}},theme:{dark:!0,options:{customProperties:!0},themes:{dark:{primary:"#1778D2",secondary:"#1778D2",accent:"#1778D2",background:"#121212",sidebarNavigation:"#1F1F1F",expandedSidebar:"#1F1F1F",menu:"#424242",footer:"#111111",tooltip:"#1F1F1F"},light:{primary:"#1778D2",secondary:"#1778D2",accent:"#1778D2",background:"#fafafa",sidebarNavigation:"#FFFFFF",expandedSidebar:"#FFFFFF",tooltip:"#424242",toolbar:"#e0e0e0",footer:"#f5f5f5"}}}}),dt=new r["a"]({vuetify:lt,render:function(e){return e(Xe)}}).$mount("#app");fe["a"].main(dt)},cd82:function(e,t,n){},d009:function(e,t,n){"use strict";n.d(t,"a",(function(){return eo}));n("caad"),n("d3b7"),n("2532"),n("3ca3"),n("ddb0");var r=n("3835"),i=n("b85c"),a=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2"),c=(n("ac1f"),n("1276"),n("7815")),u=n("c5fb");function l(e){var t=e.message,n=t;t.includes(": ")&&(n=t.split(": ").shift()),n.length>24&&(n=t.length>24?"".concat(t.substr(0,23),"..."):t);var r=Object(c["a"])({icon:"mdi-alert-circle-outline",message:n,color:"error",disposeOnMiddleClick:!0,onClick:function(){Object(u["c"])("ERROR: ".concat(n),t),r.dispose()}});return r}window.addEventListener("error",(function(e){var t;l(null!==(t=e.error)&&void 0!==t?t:e),eo.ready.once((function(e){return e.windows.loadingWindow.closeAll()}))})),window.onunhandledrejection=function(e){l(new Error(e.reason)),eo.ready.once((function(e){return e.windows.loadingWindow.closeAll()}))};n("6062");var d=n("262e"),p=n("2caf"),f=(n("4160"),n("4ec9"),n("25f0"),n("159b"),n("f7fe")),h=n.n(f),m=n("c2c6"),v=function(){function e(t){var n=this,r=t.id,i=t.extensions,a=t.config,s=t.tokenProvider;Object(o["a"])(this,e),this.disposables=[],this.models=new Map,this.id=r,m["languages"].register({id:r,extensions:i}),this.disposables=[m["languages"].setLanguageConfiguration(r,a),m["languages"].setMonarchTokensProvider(r,s),m["editor"].onDidCreateModel(this.onModelAdded.bind(this)),m["editor"].onWillDisposeModel(this.onModelRemoved.bind(this)),m["editor"].onDidChangeModelLanguage((function(e){n.onModelRemoved(e.model),n.onModelAdded(e.model)}))]}return Object(s["a"])(e,[{key:"onModelAdded",value:function(e){var t=this;e.getModeId()===this.id&&(this.validate(e),this.models.set(e.uri.toString(),e.onDidChangeContent(h()((function(n){return t.validate(e,n)}),500))))}},{key:"onModelRemoved",value:function(e){var t;m["editor"].setModelMarkers(e,this.id,[]);var n=e.uri.toString();null===(t=this.models.get(n))||void 0===t||t.dispose(),this.models.delete(n)}},{key:"dispose",value:function(){this.disposables.forEach((function(e){return e.dispose()})),this.disposables=[]}}]),e}(),g={comments:{lineComment:"##"}},b={tokenizer:{root:[[/##.*/,"comment"],[/=|\.|:/,"definition"]]}},w=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(o["a"])(this,n),t.call(this,{id:"lang",extensions:["lang"],config:g,tokenProvider:b})}return Object(s["a"])(n,[{key:"validate",value:function(){}}]),n}(v),k={comments:{lineComment:"#"},autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:'"',close:'"'}]},y={brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"],["{","}","delimiter.curly"]],keywords:["alwaysday","ability","clear","camerashake","clearspawnpoint","clone","difficulty","effect","event","enchant","execute","fill","fog","function","gamemode","gamerule","give","kick","kill","locate","list","me","mobevent","music","particle","playsound","playanimation","ride","reload","replaceitem","say","schedule","score","scoreboard","setblock","setmaxplayers","structure","setworldspawn","spawnpoint","spreadplayers","stopsound","summon","tag","teleport","tell","tellraw","testfor","testforblock","testforblocks","tickingarea","time","title","titleraw","toggledownfall","tp","w","weather","xp"],selectors:["@a","@e","@p","@r","@s"],tokenizer:{root:[[/#.*/,"comment"],[/"[^"]*"|'[^']*'/,"string"],[/\=|\,|\!|%=|\*=|\+=|-=|\/=|<|=|>|<>/,"definition"],[/true|false/,"number"],[/-?([0-9]+(\.[0-9]+)?)|(\~|\^-?([0-9]+(\.[0-9]+)?)?)/,"number"],[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/@[a|p|r|e|s]/,{cases:{"@selectors":"type.identifier","@default":"identifier"}}]]}},x=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(o["a"])(this,n),t.call(this,{id:"mcfunction",extensions:["mcfunction"],config:k,tokenProvider:y})}return Object(s["a"])(n,[{key:"validate",value:function(){}}]),n}(v),j=n("4b3f"),O={autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"'",close:"'"}]},S={ignoreCase:!0,brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"],["{","}","delimiter.curly"]],keywords:["return","loop","for_each","break","continue","this"],identifiers:["v","t","c","q","variable","temp","context","query"],tokenizer:{root:[[/'[^']'/,"string"],[/[0-9]+(\.[0-9]+)?/,"number"],[/true|false/,"number"],[/\=|\,|\!|%=|\*=|\+=|-=|\/=|<|=|>|<>/,"definition"],[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@identifiers":"type.identifier","@default":"identifier"}}]]}},C=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,{id:"molang",extensions:["molang"],config:O,tokenProvider:S}),e.molang=new j["a"]({}),e}return Object(s["a"])(n,[{key:"validate",value:function(e){try{this.molang.execute(e.getValue()),m["editor"].setModelMarkers(e,this.id,[])}catch(p){var t,n=this.molang.getParser().getLastConsumed(),r=null!==(t=null===n||void 0===n?void 0:n.getPosition())&&void 0!==t?t:{},i=r.startColumn,a=void 0===i?0:i,o=r.endColumn,s=void 0===o?1/0:o,c=r.startLineNumber,u=void 0===c?0:c,l=r.endLineNumber,d=void 0===l?1/0:l;m["editor"].setModelMarkers(e,this.id,[{startColumn:a+1,endColumn:s+1,startLineNumber:u+1,endLineNumber:d+1,message:p.message,severity:m["MarkerSeverity"].Error}])}}}]),n}(v),_=function e(){Object(o["a"])(this,e),this.languages=new Set([new C,new w,new x])},P=n("a026"),R=n("1834"),T=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(o["a"])(this,e),this.events=new Map,n.forEach((function(e){return t.create(e)}))}return Object(s["a"])(e,[{key:"create",value:function(e){var t=this;return this.events.set(e,new R["a"]),{dispose:function(){t.events.delete(e)}}}},{key:"getDispatcher",value:function(e){var t=this.events.get(e);if(void 0===t)throw new Error('No dispatcher defined for event "'.concat(e,'".'));return t}},{key:"dispatch",value:function(e,t){return this.getDispatcher(e).dispatch(t)}},{key:"on",value:function(e,t){return this.getDispatcher(e).on(t)}},{key:"off",value:function(e,t){return this.getDispatcher(e).off(t)}},{key:"once",value:function(e,t){return this.getDispatcher(e).once(t)}}]),e}(),F=n("f374"),E=n("dffd"),W=n("4d25"),M=n("668b");function B(e,t){return D.apply(this,arguments)}function D(){return D=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=!0,i=!1,e.prev=2,o=Object(M["a"])(t.values());case 4:return e.next=6,o.next();case 6:return s=e.sent,r=s.done,e.next=10,s.value;case 10:if(c=e.sent,r){e.next=24;break}if(u=c,"file"!==u.kind){e.next=18;break}return e.next=16,n(u);case 16:e.next=21;break;case 18:if("directory"!==u.kind){e.next=21;break}return e.next=21,B(u,n);case 21:r=!0,e.next=4;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e["catch"](2),i=!0,a=e.t0;case 30:if(e.prev=30,e.prev=31,r||null==o.return){e.next=35;break}return e.next=35,o.return();case 35:if(e.prev=35,!i){e.next=38;break}throw a;case 38:return e.finish(35);case 39:return e.finish(30);case 40:case"end":return e.stop()}}),e,null,[[2,26,30,40],[31,,35,39]])}))),D.apply(this,arguments)}var I=n("5e48"),V=n.n(I),A=(n("99af"),n("53ca"));function N(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(Array.isArray(e))return e.concat([t]);if(Array.isArray(t))return t.concat([e]);if("object"!==Object(A["a"])(t))return t;var n={};for(var r in e)void 0===t[r]?n[r]=e[r]:n[r]=N(e[r],t[r]);for(var i in t)void 0===e[i]&&(n[i]=t[i]);return n}var L={id:"bridge.default.dark",name:"Default Dark",colorScheme:"dark",colors:{text:"#fff",primary:"#1778D2",secondary:"#1778D2",accent:"#1778D2",error:"#ff5252",info:"#2196f3",warning:"#fb8c00",success:"#4caf50",background:"#121212",sidebarNavigation:"#1F1F1F",expandedSidebar:"#1F1F1F",sidebarSelection:"#151515",menu:"#252525",footer:"#111111",tooltip:"#1F1F1F",toolbar:"#000000",tabActive:"#121212",tabInactive:"#1F1F1F"},highlighter:{type:{color:"#a6e22e"},keyword:{color:"#f92672"},definition:{color:"#fd971f"},atom:{color:"#ae81ff"},number:{color:"#ae81ff"},string:{color:"#e6db74"},variable:{color:"#9effff"},variable_strong:{color:"#9effff"},meta:{color:"white"},comment:{color:"#75715e"}}},$={id:"bridge.default.light",name:"Default Light",colorScheme:"light",colors:{text:"#000",primary:"#1778D2",secondary:"#1778D2",accent:"#1778D2",error:"#ff5252",info:"#2196f3",warning:"#fb8c00",success:"#4caf50",background:"#fafafa",sidebarNavigation:"#FFFFFF",expandedSidebar:"#FFFFFF",sidebarSelection:"#ececec",menu:"#fff",tooltip:"#424242",toolbar:"#e0e0e0",footer:"#f5f5f5",tabActive:"#fafafa",tabInactive:"#ececec"},highlighter:{property:{color:"black"},keyword:{color:"#5A5CAD"},definition:{textDecoration:"underline"},atom:{color:"#6C8CD5"},number:{color:"#164"},string:{color:"red"},variable:{color:"black"},variable_strong:{color:"black"},meta:{color:"yellow"},comment:{color:"#0080FF"}}},U=(n("b0c0"),n("4fad"),n("c1f9"),n("4de4"),n("d81d"),n("2ca0"),n("2909")),z=n("5530"),H=n("bb15"),J=function(){function e(t){Object(o["a"])(this,e),this.theme=t}return Object(s["a"])(e,[{key:"apply",value:function(){var e=this;m["editor"].defineTheme("bridgeMonacoDefault",{base:"light"===this.theme.colorScheme?"vs":"vs-dark",inherit:!1,colors:Object(z["a"])({"editor.background":this.convertColor(this.theme.getColor("background")),"editor.lineHighlightBackground":this.convertColor(this.theme.getColor("tooltip")),"editorWidget.background":this.convertColor(this.theme.getColor("background")),"editorWidget.border":this.convertColor(this.theme.getColor("sidebarNavigation")),"pickerGroup.background":this.convertColor(this.theme.getColor("background")),"pickerGroup.border":this.convertColor(this.theme.getColor("sidebarNavigation")),"badge.background":this.convertColor(this.theme.getColor("background")),"input.background":this.convertColor(this.theme.getColor("sidebarNavigation")),"input.border":this.convertColor(this.theme.getColor("menu")),"inputOption.activeBorder":this.convertColor(this.theme.getColor("primary")),focusBorder:this.convertColor(this.theme.getColor("primary")),"list.focusBackground":this.convertColor(this.theme.getColor("menu")),"list.hoverBackground":this.convertColor(this.theme.getColor("sidebarNavigation")),contrastBorder:this.convertColor(this.theme.getColor("sidebarNavigation")),"peekViewTitle.background":this.convertColor(this.theme.getColor("background")),"peekView.border":this.convertColor(this.theme.getColor("primary")),"peekViewResult.background":this.convertColor(this.theme.getColor("sidebarNavigation")),"peekViewResult.selectionBackground":this.convertColor(this.theme.getColor("menu")),"peekViewEditor.background":this.convertColor(this.theme.getColor("background")),"peekViewEditor.matchHighlightBackground":this.convertColor(this.theme.getColor("menu"))},this.theme.getMonacoDefinition()),rules:[{background:this.convertColor(this.theme.getColor("background")),foreground:this.convertColor(this.theme.getColor("text"))}].concat(Object(U["a"])(Object.entries(this.theme.getHighlighterDefinition()).map((function(t){var n=Object(r["a"])(t,2),i=n[0],a=n[1],o=a.color,s=a.textDecoration,c=a.isItalic;return{token:i,foreground:e.convertColor(o),fontStyle:"".concat(c?"italic ":"").concat(s)}})).filter((function(e){var t=e.foreground;return void 0!==t}))))})}},{key:"convertColor",value:function(e){return e?e.startsWith("#")?4===e.length?"#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3]):e:H["keyword"].hex(e):e}}]),e}(),q=function(){function e(t,n){var r;Object(o["a"])(this,e),this.themeDefinition=t,this.isGlobal=n,this.id=t.id,this.name=t.name,this.colorScheme=null!==(r=t.colorScheme)&&void 0!==r?r:"dark",this.colorMap=new Map(Object.entries(t.colors)),this.monacoDef=t.monaco,this.highlighterDef=t.highlighter,this.monacoSubTheme=new J(this)}return Object(s["a"])(e,[{key:"apply",value:function(e,t){var n;P["a"].set(t.theme.themes,this.colorScheme,Object.fromEntries(this.colorMap.entries())),P["a"].set(t.theme,"dark","dark"===this.colorScheme),e.setThemeColor(null!==(n=this.colorMap.get("toolbar"))&&void 0!==n?n:"red"),this.monacoSubTheme.apply()}},{key:"getColor",value:function(e){var t;return null!==(t=this.colorMap.get(e))&&void 0!==t?t:"red"}},{key:"getMonacoDefinition",value:function(){var e;return null!==(e=this.monacoDef)&&void 0!==e?e:{}}},{key:"getHighlighterDefinition",value:function(){var e;return null!==(e=this.highlighterDef)&&void 0!==e?e:{}}},{key:"getThemeDefinition",value:function(){return this.themeDefinition}}]),e}(),K=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;Object(o["a"])(this,n),r=t.call(this),r.vuetify=e,r.themeMap=new Map,r.themeColorTag=document.querySelector("meta[name='theme-color']"),r.currentTheme="bridge.default.dark",r.colorScheme=new F["a"];var i=window.matchMedia("(prefers-color-scheme: light)");return r.mode=i.matches?"light":"dark",i.addEventListener("change",(function(e){r.colorScheme.dispatch(e.matches?"light":"dark"),r.mode=e.matches?"light":"dark",r.updateTheme()})),r.themeColorTag||(r.themeColorTag=document.createElement("meta"),document.head.appendChild(r.themeColorTag)),r.themeColorTag.setAttribute("name","theme-color"),r.themeColorTag.id="theme-color-tag",r.addTheme(L,!0),r.addTheme($,!0),r.applyTheme(r.themeMap.get("bridge.default.dark")),r}return Object(s["a"])(n,[{key:"applyTheme",value:function(e){null===e||void 0===e||e.apply(this,this.vuetify)}},{key:"updateTheme",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return a=e.sent,o=null===W["b"]||void 0===W["b"]||null===(t=W["b"].appearance)||void 0===t?void 0:t.colorScheme,o&&"auto"!==o||(o=this.mode),e.next=7,a.projectConfig.get("".concat(o,"Theme"));case 7:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=11;break}e.t0=void 0!==n;case 11:if(!e.t0){e.next=15;break}e.t2=n,e.next=16;break;case 15:e.t2="bridge.noSelection";case 16:s=e.t2,c=null!==(r=null===W["b"]||void 0===W["b"]||null===(i=W["b"].appearance)||void 0===i?void 0:i["".concat(o,"Theme")])&&void 0!==r?r:"bridge.default.".concat(o),u="bridge.noSelection"!==s?s:c,l=this.themeMap.get("bridge.noSelection"!==s?s:c),d=this.themeMap.get("bridge.default.".concat(o)),this.currentTheme!==(l?u:"bridge.default.".concat(o))&&(this.currentTheme=l?u:"bridge.default.".concat(o),this.applyTheme(null!==l&&void 0!==l?l:d),this.dispatch(null!==(p=null===l||void 0===l?void 0:l.colorScheme)&&void 0!==p?p:"dark"));case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadDefaultThemes",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=B,e.next=4,t.fileSystem.getDirectoryHandle("data/packages/themes");case 4:return e.t1=e.sent,e.t2=function(e){return n.loadTheme(e)},e.next=8,(0,e.t0)(e.t1,e.t2);case 8:e.next=12;break;case 10:e.prev=10,e.t3=e["catch"](0);case 12:this.updateTheme();case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadTheme",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(s.length>1&&void 0!==s[1])||s[1],r=s.length>2?s[2]:void 0,e.next=4,t.getFile();case 4:return i=e.sent,e.t0=V.a,e.next=8,i.text();case 8:e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),o=this.addTheme(a,n),r&&r.push(o);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getThemes",value:function(e,t){var n,a=[],o=Object(i["a"])(this.themeMap);try{for(o.s();!(n=o.n()).done;){var s=Object(r["a"])(n.value,2),c=(s[0],s[1]);e&&c.colorScheme!==e||!c.isGlobal&&t!==c.isGlobal||a.push(c)}}catch(u){o.e(u)}finally{o.f()}return a}},{key:"setThemeColor",value:function(e){this.themeColorTag.setAttribute("content",e)}},{key:"addTheme",value:function(e,t){var n,r,i=this,a=this.themeMap.get("bridge.default.".concat(null!==(n=e.colorScheme)&&void 0!==n?n:"dark"));return this.themeMap.set(e.id,new q(N(null!==(r=null===a||void 0===a?void 0:a.getThemeDefinition())&&void 0!==r?r:{},e),t)),this.updateTheme(),{dispose:function(){return i.themeMap.delete(e.id)}}}}]),n}(R["a"]);n("0481"),n("4069"),n("07ac");function G(e){return new Promise(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof requestIdleCallback){t.next=4;break}requestIdleCallback(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n();case 3:case"end":return t.stop()}}),t)})))),t.next=7;break;case 4:return t.next=6,e();case 6:n();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var Q=n("4478");function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["Bridge"];return Object(Q["a"])(Function,Object(U["a"])(n).concat(["return (async () => {\n".concat(e,"\n})()")])).apply(void 0,Object(U["a"])(Array.isArray(t)?t:[t]))}n("a15b");var Y,Z=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),e&&r.setup(e),r}return Object(s["a"])(n,[{key:"setup",value:function(e){this._baseDirectory=e,this.dispatch()}},{key:"getDirectoryHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,c,u,l,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},r=n.create,a=n.createOnce,""!==t){e.next=3;break}return e.abrupt("return",this.baseDirectory);case 3:o=this.baseDirectory,s=t.split(/\\|\//g),c=Object(i["a"])(s),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=16;break}return l=u.value,e.next=12,o.getDirectoryHandle(l,{create:a||r});case 12:o=e.sent,a&&(a=!1,r=!1);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](6),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}}),e,this,[[6,18,21,24]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFileHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],0!==t.length){e.next=3;break}throw new Error("Error: filePath is empty");case 3:return r=t.split(/\\|\//g),i=r.pop(),e.next=7,this.getDirectoryHandle(r.join("/"),{create:n});case 7:return a=e.sent,e.next=10,a.getFileHandle(i,{create:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mkdir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},n.recursive,e.next=3,this.getDirectoryHandle(t,{create:!0});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readdir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,d,p,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.withFileTypes,e.next=3,this.getDirectoryHandle(t);case 3:i=e.sent,a=[],o=!0,s=!1,e.prev=7,u=Object(M["a"])(i.values());case 9:return e.next=11,u.next();case 11:return l=e.sent,o=l.done,e.next=15,l.value;case 15:if(d=e.sent,o){e.next=24;break}if(p=d,"file"!==p.kind||".DS_Store"!==p.name){e.next=20;break}return e.abrupt("continue",21);case 20:r?a.push(p):a.push(p.name);case 21:o=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e["catch"](7),s=!0,c=e.t0;case 30:if(e.prev=30,e.prev=31,o||null==u.return){e.next=35;break}return e.next=35,u.return();case 35:if(e.prev=35,!s){e.next=38;break}throw c;case 38:return e.finish(35);case 39:return e.finish(30);case 40:return e.abrupt("return",a);case 41:case"end":return e.stop()}}),e,this,[[7,26,30,40],[31,,35,39]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readFilesFromDir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:this.getDirectoryHandle(t),e.next=3,n;case 3:n=e.sent,r=[],i=!0,a=!1,e.prev=7,s=Object(M["a"])(n.values());case 9:return e.next=11,s.next();case 11:return c=e.sent,i=c.done,e.next=15,c.value;case 15:if(u=e.sent,i){e.next=36;break}if(l=u,"file"!==l.kind||".DS_Store"!==l.name){e.next=20;break}return e.abrupt("continue",33);case 20:if("file"!==l.kind){e.next=24;break}r.push({name:l.name,kind:l.kind,path:"".concat(t,"/").concat(l.name)}),e.next=33;break;case 24:if("directory"!==l.kind){e.next=33;break}return e.t0=r.push,e.t1=r,e.t2=U["a"],e.next=30,this.readFilesFromDir("".concat(t,"/").concat(l.name),l);case 30:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 33:i=!0,e.next=9;break;case 36:e.next=42;break;case 38:e.prev=38,e.t5=e["catch"](7),a=!0,o=e.t5;case 42:if(e.prev=42,e.prev=43,i||null==s.return){e.next=47;break}return e.next=47,s.return();case 47:if(e.prev=47,!a){e.next=50;break}throw o;case 50:return e.finish(47);case 51:return e.finish(42);case 52:return e.abrupt("return",r);case 53:case"end":return e.stop()}}),e,this,[[7,38,42,52],[43,,47,51]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readFile",value:function(e){return this.getFileHandle(e).then((function(e){return e.getFile()}))}},{key:"unlink",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}throw new Error("Error: filePath is empty");case 2:return n=t.split(/\\|\//g),r=n.pop(),e.next=6,this.getDirectoryHandle(n.join("/"));case 6:return i=e.sent,e.next=9,i.removeEntry(r,{recursive:!0});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"writeFile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHandle(t,!0);case 2:return r=e.sent,e.next=5,r.createWritable();case 5:return i=e.sent,e.next=8,i.write(n);case 8:i.close();case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"readJSON",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readFile(t);case 2:return n=e.sent,e.t0=V.a,e.next=6,n.text();case 6:return e.t1=e.sent,e.next=9,e.t0.parse.call(e.t0,e.t1);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"writeJSON",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.writeFile(e,JSON.stringify(t,null,n?"\t":void 0))}},{key:"copyFile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHandle(t,!1);case 2:return r=e.sent,e.next=5,this.getFileHandle(n,!0);case 5:return i=e.sent,e.next=8,i.createWritable();case 8:return a=e.sent,e.t0=a,e.next=12,r.getFile();case 12:return e.t1=e.sent,e.next=15,e.t0.write.call(e.t0,e.t1);case 15:return e.next=17,a.close();case 17:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"baseDirectory",get:function(){return this._baseDirectory}}]),n}(F["a"]),ee=n("ec26"),te=n("b697");function ne(e){return re.apply(this,arguments)}function re(){return re=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return n=e.sent,e.next=5,n.dataLoader.fired;case 5:if(null===t||void 0===t){e.next=9;break}e.t0=t,e.next=12;break;case 9:return e.next=11,n.projectConfig.get("targetVersion");case 11:e.t0=e.sent;case 12:return r=e.t0,e.next=15,n.fileSystem.readJSON("data/packages/formatVersions.json");case 15:return i=e.sent,e.abrupt("return",i.filter((function(e){return!r||Object(te["compare"])(e,r,"<=")})));case 17:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}(function(e){var t={};function n(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){t[e.uri]?(e.schema&&(t[e.uri].schema=e.schema),e.fileMatch&&(t[e.uri].fileMatch=e.fileMatch)):t[e.uri]=e})),n&&h()}function i(e,t){return new Promise(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(r){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,eo.getApp();case 2:i=n.sent,i.packIndexer.once(Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=r,n.next=3,i.packIndexer.service.getSchemasFor(e,t);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}function o(){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(E["a"].getIds().map((function(e){return i(e)})));case 2:return e.abrupt("return",e.sent.flat());case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(regeneratorRuntime.mark((function e(n){var i,a,o,s,u,l,d,p,f,h,m,v,g,b=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=b.length>1&&void 0!==b[1]?b[1]:"data/packages/schema",a=[],o=!0,s=!1,e.prev=4,l=Object(M["a"])(n.entries());case 6:return e.next=8,l.next();case 8:return d=e.sent,o=d.done,e.next=12,d.value;case 12:if(p=e.sent,o){e.next=30;break}if(f=p,h=Object(r["a"])(f,2),m=h[0],v=h[1],g="".concat(i,"/").concat(m),".DS_Store"!==v.name){e.next=18;break}return e.abrupt("continue",27);case 18:if("file"!==v.kind){e.next=26;break}return e.t0="file:///".concat(g),e.next=22,v.getFile().then((function(e){return e.text()})).then(V.a.parse);case 22:e.t1=e.sent,t["file:///".concat(g)]={uri:e.t0,schema:e.t1},e.next=27;break;case 26:a.push(c(v,g));case 27:o=!0,e.next=6;break;case 30:e.next=36;break;case 32:e.prev=32,e.t2=e["catch"](4),s=!0,u=e.t2;case 36:if(e.prev=36,e.prev=37,o||null==l.return){e.next=41;break}return e.next=41,l.return();case 41:if(e.prev=41,!s){e.next=44;break}throw u;case 44:return e.finish(41);case 45:return e.finish(36);case 46:return e.next=48,Promise.all(a);case 48:case"end":return e.stop()}}),e,null,[[4,32,36,46],[37,,41,45]])}))),u.apply(this,arguments)}function l(e,t){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function e(n,r){var i,o,s,c,u,l,d,p,f,h,m,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.fileSystem.getDirectoryHandle("data/packages/schemaScript");case 2:return i=e.sent,e.t0=Z,e.next=6,n.fileSystem.getDirectoryHandle("projects/".concat(n.selectedProject));case 6:e.t1=e.sent,o=new e.t0(e.t1),s=!0,c=!1,e.prev=10,l=Object(M["a"])(i.values());case 12:return e.next=14,l.next();case 14:return d=e.sent,s=d.done,e.next=18,d.value;case 18:if(p=e.sent,s){e.next=44;break}if(f=p,"file"===f.kind&&".DS_Store"!==f.name){e.next=23;break}return e.abrupt("continue",41);case 23:return e.next=25,f.getFile();case 25:return h=e.sent,e.t2=V.a,e.next=29,h.text();case 29:return e.t3=e.sent,m=e.t2.parse.call(e.t2,e.t3),v=[],e.prev=32,e.next=35,X(m.script,[o.readFilesFromDir.bind(o),ee["a"],ne,function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return i=e.sent,e.next=5,i.packIndexer.fired;case 5:return e.abrupt("return",i.packIndexer.service.getCacheDataFor(t,n,r));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),function(){return n.projectConfig.get("prefix")},function(){return r?r.split(/\/|\\/g).pop():void 0}],["readdir","uuid","getFormatVersions","getCacheDataFor","getProjectPrefix","getFileName"]);case 35:v=e.sent,e.next=40;break;case 38:e.prev=38,e.t4=e["catch"](32);case 40:t["file:///data/packages/schema/".concat(m.generateFile)]={uri:"file:///data/packages/schema/".concat(m.generateFile),schema:{type:"enum"===m.type?"string":"object",enum:"enum"===m.type?v:void 0,object:"properties"===m.type?Object.fromEntries(v.map((function(e){return[e,{}]}))):void 0}};case 41:s=!0,e.next=12;break;case 44:e.next=50;break;case 46:e.prev=46,e.t5=e["catch"](10),c=!0,u=e.t5;case 50:if(e.prev=50,e.prev=51,s||null==l.return){e.next=55;break}return e.next=55,l.return();case 55:if(e.prev=55,!c){e.next=58;break}throw u;case 58:return e.finish(55);case 59:return e.finish(50);case 60:case"end":return e.stop()}}),e,null,[[10,46,50,60],[32,38],[51,,55,59]])}))),d.apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function e(){var r,a,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.next=3,eo.getApp();case 3:return a=e.sent,e.prev=4,e.t0=c,e.next=8,a.fileSystem.getDirectoryHandle("data/packages/schema");case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:e.next=16;break;case 13:return e.prev=13,e.t2=e["catch"](4),e.abrupt("return");case 16:return n(E["a"].getMonacoSchemaArray(),!1),e.t3=n,e.next=20,o();case 20:return e.t4=e.sent,(0,e.t3)(e.t4,!1),e.next=24,l(a);case 24:if(s=null===(r=a.tabSystem)||void 0===r?void 0:r.selectedTab,!s){e.next=32;break}return u=E["a"].getId(s.getPackPath()),e.t5=n,e.next=30,i(u,s.getPackPath());case 30:e.t6=e.sent,(0,e.t5)(e.t6);case 32:h();case 33:case"end":return e.stop()}}),e,null,[[4,13]])}))),f.apply(this,arguments)}function h(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];m["languages"].json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!1,allowComments:!0,validate:e,schemas:Object.values(t)})}function v(){eo.ready.once((function(e){e.packIndexer.on((function(){return G(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("[EDITOR] Setting up JSON defaults"),e.next=3,p();case 3:console.timeEnd("[EDITOR] Setting up JSON defaults");case 4:case"end":return e.stop()}}),e)}))))})),e.actionManager.create({icon:"mdi-reload",name:"actions.reloadAutoCompletions.name",description:"actions.reloadAutoCompletions.description",keyBinding:"Ctrl + Shift + R",onTrigger:function(){return g()}})})),eo.eventSystem.on("fileUpdated",w),eo.eventSystem.on("currentTabSwitched",w),eo.eventSystem.on("refreshCurrentContext",w),eo.eventSystem.on("disableValidation",(function(){h(!1)}))}function g(){return b.apply(this,arguments)}function b(){return b=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return t=e.sent,t.windows.loadingWindow.open(),e.next=6,p();case 6:t.windows.loadingWindow.close();case 7:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return k=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return r=e.sent,a=E["a"].getId(t),e.t0=n,e.next=7,i(a,t);case 7:return e.t1=e.sent,(0,e.t0)(e.t1,!1),e.next=11,l(r,t);case 11:h();case 12:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}e.addSchemas=n,e.setup=v,e.reload=g})(Y||(Y={}));var ie,ae=n("ced0"),oe=n("9f82"),se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.selectFolder.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!1,isFullscreen:!1,isPersistent:!0,width:420,height:100},on:{closeWindow:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",[e._v(" "+e._s(e.t("windows.selectFolder.content"))+" ")])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.selectFolder}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-folder-outline")]),n("span",[e._v(e._s(e.t("windows.selectFolder.select")))])],1)]},proxy:!0}],null,!1,1838278511)}):e._e()},ce=[],ue=n("923f"),le=n("bd5a"),de={name:"SelectProjectFolderWindow",mixins:[ue["a"]],components:{BaseWindow:le["a"]},props:["currentWindow"],data:function(){return this.currentWindow.getState()},methods:{close:function(){this.currentWindow.close()},selectFolder:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e,t.next=4,window.showDirectoryPicker({mode:"readwrite"});case 4:t.t1=t.sent,t.t0.callback.call(t.t0,t.t1),e.close(),t.next=12;break;case 9:t.prev=9,t.t2=t["catch"](0),console.error(t.t2);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},pe=de,fe=n("2877"),he=n("6544"),me=n.n(he),ve=n("8336"),ge=n("132d"),be=n("2fa4"),we=Object(fe["a"])(pe,se,ce,!1,null,null,null),ke=we.exports;function ye(e){return ie||(ie=Object(oe["b"])(ke,{callback:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:null===(r=(i=ie.status).setDone)||void 0===r||r.call(i);case 3:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}),ie.open(),ie)}function xe(e){return je.apply(this,arguments)}function je(){return je=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"===typeof window.showDirectoryPicker){e.next=3;break}return t.windows.browserUnsupported.open(),e.abrupt("return",!1);case 3:return e.next=5,Object(ae["a"])("bridgeBaseDir");case 5:if(n=e.sent,n){e.next=11;break}return e.next=9,ye(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,Object(ae["b"])("bridgeBaseDir",t);case 3:n=t;case 4:return e.next=6,Se(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).status.done;case 9:e.next=13;break;case 11:return e.next=13,Se(n);case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}me()(we,{VBtn:ve["a"],VIcon:ge["a"],VSpacer:be["a"]});var Oe=null;function Se(e){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={writable:!0,mode:"readwrite"},e.next=3,t.queryPermission(n);case 3:if(e.t1=e.sent,e.t0="granted"!==e.t1,!e.t0){e.next=7;break}e.t0=null===Oe;case 7:if(!e.t0){e.next=11;break}return Oe=Object(u["c"])("windows.projectFolder.title","windows.projectFolder.content",Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Oe=null,e.next=3,t.requestPermission(n);case 3:if(e.t0=e.sent,"granted"===e.t0){e.next=7;break}return e.next=7,Se(t);case 7:case"end":return e.stop()}}),e)})))),e.next=11,Oe.status.done;case 11:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}var _e=n("56cb"),Pe=n("5d94"),Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.sidebar.displayName,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:50,percentageHeight:80},on:{closeWindow:e.onClose}},[n(e.sidebar.component,{tag:"component"})],1):e._e()},Te=[],Fe={name:"OldSidebarCompatWindow",components:{BaseWindow:le["a"]},data:function(){return this.currentWindow.getState()},props:["currentWindow"],methods:{onClose:function(){this.currentWindow.close()}}},Ee=Fe,We=Object(fe["a"])(Ee,Re,Te,!1,null,null,null),Me=We.exports;function Be(e){var t=Object(oe["b"])(Me,{sidebar:e});return t.open(),t}function De(e){return new Ie(e)}var Ie=function(){function e(t){Object(o["a"])(this,e),this.config=t,this.sidebarUUID=Object(ee["a"])(),this.isLoading=!1,P["a"].set(Pe["a"].sidebarElements,this.sidebarUUID,this)}return Object(s["a"])(e,[{key:"dispose",value:function(){P["a"].delete(Pe["a"].sidebarElements,this.sidebarUUID)}},{key:"click",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading=!0,"function"!==typeof this.config.onClick){e.next=6;break}return e.next=4,this.config.onClick();case 4:e.next=7;break;case 6:this.config.component&&Be(this);case 7:this.isLoading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"icon",get:function(){return this.config.icon}},{key:"uuid",get:function(){return this.sidebarUUID}},{key:"displayName",get:function(){return this.config.displayName}},{key:"component",get:function(){return this.config.component}}]),e}();function Ve(){De({id:"projects",displayName:"windows.projectChooser.title",icon:"mdi-view-dashboard-outline",onClick:function(){return eo.instance.windows.projectChooser.open()}}),De({id:"bpExplorer",displayName:"windows.packExplorer.title",icon:"mdi-folder-outline",onClick:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){eo.ready.once((function(t){return t.packIndexer.once((function(){return e()}))}))}));case 2:eo.instance.windows.packExplorer.open();case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),De({id:"compiler",displayName:"sidebar.compiler.name",icon:"mdi-cogs",onClick:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return t=e.sent,e.next=5,t.compiler.openWindow();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),De({id:"extensions",displayName:"sidebar.extensions.name",icon:"mdi-puzzle-outline",onClick:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return t=e.sent,e.next=5,t.windows.extensionStore.open();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()})}var Ae=n("2dd6"),Ne=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e,r){var i;return Object(o["a"])(this,n),i=t.call(this),i.icon=e,i.name=r,i.id=Object(ee["a"])(),i.type="category",i.isVisible=!1,i.state=P["a"].observable({}),i.disposables={},i}return Object(s["a"])(n,[{key:"addItem",value:function(e){var t=this;return P["a"].set(this.state,e.id,e),this.disposables[e.id]=e.on((function(){return t.trigger()})),this}},{key:"disposeItem",value:function(e){var t;P["a"].delete(this.state,e.id),null===(t=this.disposables[e.id])||void 0===t||t.dispose(),this.disposables[e.id]=void 0}},{key:"trigger",value:function(){this.isVisible=!1,this.dispatch()}},{key:"dispose",value:function(){eo.toolbar.disposeCategory(this)}}]),n}(R["a"]);function Le(e){var t=new Ne("mdi-pencil-outline","toolbar.edit.name");t.addItem(e.actionManager.create({icon:"mdi-content-copy",name:"actions.copy.name",description:"actions.copy.description",keyBinding:"Ctrl + C",onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.copy()}})),t.addItem(e.actionManager.create({icon:"mdi-content-cut",name:"actions.cut.name",description:"actions.cut.description",keyBinding:"Ctrl + X",onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.cut()}})),t.addItem(e.actionManager.create({icon:"mdi-content-paste",name:"actions.paste.name",description:"actions.paste.description",keyBinding:"Ctrl + V",onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.paste()}})),eo.toolbar.addCategory(t)}function $e(e){var t=new Ne("mdi-file-outline","toolbar.file.name");t.addItem(e.actionManager.create({id:"bridge.action.newFile",icon:"mdi-file-plus-outline",name:"actions.newFile.name",description:"actions.newFile.description",keyBinding:"Ctrl + N",onTrigger:function(){return e.windows.createPreset.open()}})),t.addItem(e.actionManager.create({id:"bridge.action.openFile",icon:"mdi-file-upload-outline",name:"actions.openFile.name",description:"actions.openFile.description",keyBinding:"Ctrl + O",onTrigger:function(){return e.windows.filePicker.open()}})),t.addItem(e.actionManager.create({icon:"mdi-file-download-outline",name:"actions.saveFile.name",description:"actions.saveFile.description",keyBinding:"Ctrl + S",onTrigger:function(){return eo.ready.once((function(e){var t;return null===(t=e.tabSystem)||void 0===t?void 0:t.save()}))}})),t.addItem(e.actionManager.create({icon:"mdi-file-cancel-outline",name:"actions.closeFile.name",description:"actions.closeFile.description",keyBinding:"Ctrl + W",onTrigger:function(){return eo.ready.once((function(e){var t;return null===(t=e.tabSystem)||void 0===t?void 0:t.close()}))}})),t.addItem(new Ne("mdi-palette-outline","toolbar.file.preferences.name").addItem(e.actionManager.create({id:"bridge.action.openSettings",icon:"mdi-cog-outline",name:"actions.settings.name",description:"actions.settings.description",keyBinding:"Ctrl + ,",onTrigger:function(){return e.windows.settings.open()}})).addItem(e.actionManager.create({icon:"mdi-puzzle-outline",name:"actions.extensions.name",description:"actions.extensions.description",onTrigger:function(){return e.windows.extensionStore.open()}}))),eo.toolbar.addCategory(t)}function Ue(e){var t=new Ne("mdi-help","toolbar.help.name");t.addItem(e.actionManager.create({name:"actions.releases.name",icon:"mdi-alert-decagram",description:"actions.releases.description",onTrigger:function(){return window.open("https://github.com/solvedDev/bridge./releases","_blank")}})),t.addItem(e.actionManager.create({name:"actions.bugReports.name",icon:"mdi-bug-outline",description:"actions.bugReports.description",onTrigger:function(){return window.open("https://github.com/solvedDev/bridge./issues/new/choose","_blank")}})),t.addItem(e.actionManager.create({name:"actions.pluginAPI.name",icon:"mdi-puzzle-outline",description:"actions.pluginAPI.description",onTrigger:function(){return eo.createNativeWindow("https://bridge-core.github.io/plugin-docs/","_blank")}})),t.addItem(e.actionManager.create({name:"actions.gettingStarted.name",icon:"mdi-help-circle-outline",description:"actions.gettingStarted.description",onTrigger:function(){return eo.createNativeWindow("https://bridge-core.github.io/editor-docs/getting-started/","_blank")}})),t.addItem(e.actionManager.create({name:"actions.faq.name",icon:"mdi-frequently-asked-questions",description:"actions.faq.description",onTrigger:function(){return eo.createNativeWindow("https://bridge-core.github.io/editor-docs/faq/","_blank")}})),eo.toolbar.addCategory(t)}function ze(e){var t=new Ne("mdi-wrench-outline","toolbar.tools.name");t.addItem(e.actionManager.create({icon:"mdi-book-open-page-variant",name:"actions.docs.name",description:"actions.docs.description",onTrigger:function(){return eo.createNativeWindow("https://bedrock.dev","DocWindow")}})),eo.toolbar.addCategory(t)}function He(e){return Je.apply(this,arguments)}function Je(){return Je=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:$e(t),Le(t),ze(t),Ue(t);case 4:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}var qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.discord.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:420,height:80},on:{closeWindow:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",[e._v(e._s(e.t("windows.discord.content")))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{on:{click:e.close}},[n("span",[e._v(e._s(e.t("windows.discord.later")))])]),n("v-btn",{attrs:{color:"#7289DA"},on:{click:e.openDiscord}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-discord")]),n("span",{staticClass:"white--text"},[e._v(e._s(e.t("windows.discord.join")))])],1)]},proxy:!0}],null,!1,3500719864)}):e._e()},Ke=[],Ge={name:"Discord",mixins:[ue["a"]],components:{BaseWindow:le["a"]},data:function(){return Ze.getState()},methods:{close:function(){return Ze.close()},openDiscord:function(){window.open("https://discord.gg/jj2PmqU","_blank")}}},Qe=Ge,Xe=Object(fe["a"])(Qe,qe,Ke,!1,null,null,null),Ye=Xe.exports;me()(Xe,{VBtn:ve["a"],VIcon:ge["a"],VSpacer:be["a"]});var Ze=Object(oe["b"])(Ye),et=n("9a02"),tt=n("a46c"),nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.browserUnsupported.title",isVisible:e.isVisible,isPersistent:!0,hasCloseButton:!1,width:420,height:240},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"text-center"},[n("v-icon",{staticStyle:{"font-size":"8em"},attrs:{color:"error"}},[e._v(" mdi-alert-octagon-outline ")]),n("p",[e._v(e._s(e.t("windows.browserUnsupported.description")))])],1)]},proxy:!0}],null,!1,816675869)}):e._e()},rt=[],it={name:"Discord",mixins:[ue["a"]],components:{BaseWindow:le["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},at=it,ot=Object(fe["a"])(at,nt,rt,!1,null,null,null),st=ot.exports;me()(ot,{VIcon:ge["a"]});var ct=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,st),e.defineWindow(),e}return n}(tt["a"]),ut=(n("7db0"),n("45eb")),lt=n("7e84"),dt=function(){function e(t){var n=t.items,r=t.text,i=t.isOpen;Object(o["a"])(this,e),this.type="category",this.text=r,this.items=n,this.isOpen=null===i||void 0===i||i}return Object(s["a"])(e,[{key:"addItem",value:function(e){this.items.push(e)}},{key:"removeItems",value:function(){this.items=[]}},{key:"getText",value:function(){return this.text}},{key:"getSearchText",value:function(){return this.text.toLowerCase()}},{key:"getItems",value:function(){return this.items}},{key:"setOpen",value:function(e){this.isOpen=e}},{key:"getCurrentElement",value:function(e){return this.items.find((function(t){var n=t.id;return n===e}))}},{key:"hasFilterMatches",value:function(e){return void 0!==this.items.find((function(t){return t.getSearchText().includes(e)}))}},{key:"filtered",value:function(t){return 0===t.length?this:P["a"].observable(new e({items:this.items.filter((function(e){return e.getSearchText().includes(t)})),text:this.text,isOpen:this.isOpen}))}}]),e}(),pt=function(){function e(t){var n=t.id,r=t.text,i=t.icon,a=t.color;Object(o["a"])(this,e),this.type="item",this.id=n,this.text=r,this.icon=i,this.color=a}return Object(s["a"])(e,[{key:"getText",value:function(){return this.text}},{key:"getSearchText",value:function(){return this.text.toLowerCase()}}]),e}(),ft=function(){function e(t){Object(o["a"])(this,e),this._elements=t,this._filter="",this.state={},this.selected=this.findDefaultSelected()}return Object(s["a"])(e,[{key:"addElement",value:function(e,t){"item"===e.type&&t&&(this.state[e.id]=t),this._elements.push(e),1===this._elements.length&&this.setDefaultSelected()}},{key:"removeElements",value:function(){this._elements=[]}},{key:"getState",value:function(e){var t;return null!==(t=this.state[e])&&void 0!==t?t:{}}},{key:"setState",value:function(e,t){P["a"].set(this.state,e,t)}},{key:"sortSidebar",value:function(e){return e.sort((function(e,t){return e.type!==t.type?e.type.localeCompare(t.type):e.getSearchText().localeCompare(t.getSearchText())}))}},{key:"findDefaultSelected",value:function(){var e,t=Object(i["a"])(this.elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("category"===n.type&&n.getItems().length>0)return n.getItems()[0].id;if("item"===n.type)return n.id}}catch(r){t.e(r)}finally{t.f()}}},{key:"setDefaultSelected",value:function(e){e?this.selected=e:this.selected||(this.selected=this.findDefaultSelected())}},{key:"resetSelected",value:function(){this.selected=void 0}},{key:"clearFilter",value:function(){this._filter=""}},{key:"filter",get:function(){return this._filter.toLowerCase()}},{key:"elements",get:function(){var e=this,t=this.sortSidebar(this._elements.filter((function(t){return"item"===t.type?t.getSearchText().includes(e.filter):t.hasFilterMatches(e.filter)})).map((function(t){return"item"===t.type?t:t.filtered(e.filter)})));if(1===t.length){var n=t[0];"category"===n.type&&1===n.getItems().length&&(n.setOpen(!0),this.setDefaultSelected(n.getItems()[0].id))}return t}},{key:"rawElements",get:function(){return this._elements}},{key:"currentElement",get:function(){if(!this.selected)return{};var e,t=Object(i["a"])(this._elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("item"!==n.type){var r=n.getCurrentElement(this.selected);if(r)return r}else if(n.id===this.selected)return n}}catch(a){t.e(a)}finally{t.f()}return{}}},{key:"currentState",get:function(){var e;return this.selected&&null!==(e=this.state[this.selected])&&void 0!==e?e:{}}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e}}]),e}(),ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.extensionStore.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.extensionStore.searchExtensions"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[0===e.currentExtensions.length?n("div",[e._v(" No plugins match your search... ")]):e._l(e.currentExtensions,(function(t){return n("ExtensionCard",{key:t.id+"."+t.isInstalled+"."+t.isUpdateAvailable,attrs:{extension:t},on:{search:function(t){return e.sidebar._filter=t},select:function(t){return e.$data.selectedSidebar=t}}})}))]},proxy:!0}]),model:{value:e.$data.selectedSidebar,callback:function(t){e.$set(e.$data,"selectedSidebar",t)},expression:"$data.selectedSidebar"}})},mt=[],vt=(n("a4d3"),n("e01a"),n("45fc"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",e._g(e._b({scopedSlots:e._u([{key:"toolbar",fn:function(){return[e._t("toolbar",null,{selectedTab:e.selected})]},proxy:!0},{key:"sidebar",fn:function(){return[e._t("sidebar",null,{selectedSidebar:e.selected}),e._l(e.sidebarItems,(function(t,r){return["item"===t.type?n("SidebarItem",{key:t.text+"."+r,attrs:{icon:t.icon,color:t.color,text:t.text,isSelected:e.selected===t.id},on:{click:function(n){return e.onSidebarChanged(t.id)}}}):n("SidebarGroup",{key:t.text+"."+r+"."+t.isOpen,attrs:{isOpen:t.isOpen,items:t.items,text:t.text,selected:e.selected},on:{toggleOpen:function(n){return e.toggleOpenCategory(t)},click:e.onSidebarChanged}})]}))]},proxy:!0},{key:"default",fn:function(){return[e._t("default",null,{selectedSidebar:e.selected})]},proxy:!0},{key:"actions",fn:function(){return[e._t("actions",null,{selectedSidebar:e.selected})]},proxy:!0}],null,!0)},"BaseWindow",e.$attrs,!1),e.$listeners))}),gt=[],bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.isSelected,expression:"!isSelected"}],staticClass:"pa-1 rounded-lg category d-flex",class:{selected:e.isSelected},on:{click:function(t){return e.$emit("click")}}},[n("v-icon",{staticClass:"pr-1",staticStyle:{"font-size":"22px"},attrs:{color:e.color}},[e._v(" "+e._s(e.icon)+" ")]),n("span",[e._v(e._s(e.text))])],1)},wt=[],kt={name:"SidebarItem",props:{isSelected:Boolean,text:String,icon:String,color:String}},yt=kt,xt=(n("8136"),n("269a")),jt=n.n(xt),Ot=n("5607"),St=Object(fe["a"])(yt,bt,wt,!1,null,"69614303",null),Ct=St.exports;me()(St,{VIcon:ge["a"]}),jt()(St,{Ripple:Ot["a"]});var _t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("details",{attrs:{open:e.isOpen}},[n("summary",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"d-flex rounded-lg",on:{click:function(t){return t.preventDefault(),e.$emit("toggleOpen")}}},[n("h2",{staticClass:"d-inline"},[e._v(e._s(e.t(e.text)))]),n("v-spacer"),n("v-icon",{attrs:{color:"primary"}},[e._v(" "+e._s(e.isOpen?"mdi-chevron-down":"mdi-chevron-right")+" ")])],1),e._l(e.items,(function(t,r){var i=t.text,a=t.icon,o=t.color,s=t.id;return n("SidebarItem",{key:i+"."+r,attrs:{icon:a,color:o,text:i,isSelected:e.selected===s},on:{click:function(t){return e.$emit("click",s)}}})}))],2)},Pt=[],Rt={name:"SidebarGroup",mixins:[ue["a"]],components:{SidebarItem:Ct},props:{text:String,isOpen:Boolean,items:Array,selected:String}},Tt=Rt,Ft=(n("9164"),Object(fe["a"])(Tt,_t,Pt,!1,null,"55470c91",null)),Et=Ft.exports;me()(Ft,{VIcon:ge["a"],VSpacer:be["a"]}),jt()(Ft,{Ripple:Ot["a"]});var Wt={inheritAttrs:!1,components:{BaseWindow:le["a"],SidebarItem:Ct,SidebarGroup:Et},props:{sidebarItems:Array,value:{type:String,default:void 0}},computed:{selected:function(){return this.value}},methods:{onSidebarChanged:function(e){this.$emit("input",e)},toggleOpenCategory:function(e){e.isOpen=!e.isOpen}}},Mt=Wt,Bt=Object(fe["a"])(Mt,vt,gt,!1,null,null,null),Dt=Bt.exports,It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-1 pa-4 mb-2 rounded-lg card"},[n("div",{staticClass:"d-flex align-center"},[e.extension.icon?n("v-icon",{staticClass:"mr-1",attrs:{color:"accent"}},[e._v(" "+e._s(e.extension.icon)+" ")]):e._e(),n("h3",[e._v(e._s(e.extension.name))]),n("v-spacer"),e.extension.isInstalled?e.extension.isUpdateAvailable?n("v-btn",{staticClass:"rounded-lg elevation-0",attrs:{loading:e.extension.isLoading,color:"primary",small:""},on:{click:function(t){return e.extension.update()}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-sync")]),e._v(" Update ")],1):n("v-tooltip",{attrs:{color:"success",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-icon",e._g({attrs:{color:"success"}},r),[e._v("mdi-check")])]}}])},[n("span",[e._v("Extension Active")])]):n("v-btn",{staticClass:"rounded-lg elevation-0",attrs:{loading:e.extension.isLoading,color:"primary",small:""},on:{click:function(t){return e.extension.download()}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-download")]),e._v(" Download ")],1),e.extension.isInstalled?n("v-tooltip",{attrs:{color:"tooltip",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{small:"",icon:""}},r),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,1851642333)},[n("span",[e._v("More...")])]):e._e()],1),n("div",{staticClass:"d-flex mb-4"},e._l(e.tags,(function(t){return n("v-chip",{key:t.text,staticClass:"mr-2",attrs:{color:t.color,"text-color":"white",small:""},on:{click:function(n){"search"===t.type?e.$emit("search",t.text):e.$emit("select",t.text.toLowerCase())}}},[n("v-icon",{staticClass:"mr-1"},[e._v(e._s(t.icon))]),e._v(" "+e._s(t.text)+" ")],1)})),1),n("span",[e._v(e._s(e.extension.description))])])},Vt=[],At={name:"ExtensionCard",props:{extension:Object},computed:{tags:function(){return[{icon:"mdi-account-outline",color:"primary",text:this.extension.author,type:"search"},{icon:"mdi-code-braces",text:this.extension.displayVersion,type:"search"}].concat(this.extension.tags)}}},Nt=At,Lt=(n("f760"),n("cc20")),$t=n("3a2f"),Ut=Object(fe["a"])(Nt,It,Vt,!1,null,"44b55f3c",null),zt=Ut.exports;me()(Ut,{VBtn:ve["a"],VChip:Lt["a"],VIcon:ge["a"],VSpacer:be["a"],VTooltip:$t["a"]});var Ht={name:"CreatePresetWindow",mixins:[ue["a"]],components:{SidebarWindow:Dt,ExtensionCard:zt},props:["currentWindow"],data:function(){return this.currentWindow},computed:{currentExtensions:function(){if(""!==this.sidebar._filter){var e=this.sidebar._filter.toLowerCase();return this.extensions.filter((function(t){return t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.author.toLowerCase().includes(e)||t.version.includes(e)||t.tags.some((function(t){return t.text.toLowerCase().includes(e)}))}))}return this.sidebar.currentState}},methods:{onClose:function(){this.currentWindow.close()}}},Jt=Ht,qt=n("8654"),Kt=Object(fe["a"])(Jt,ht,mt,!1,null,null,null),Gt=Kt.exports;function Qt(){return new Promise((function(e){eo.ready.once((function(t){e(t.fileSystem)}))}))}me()(Kt,{VTextField:qt["a"]});n("5319"),n("9911");var Xt=n("aaff"),Yt=function(){function e(t,n){Object(o["a"])(this,e),this.parent=t,this.icon=this.parent.getTagIcon(n),this.text=n,this.color=this.parent.getTagColor(n)}return Object(s["a"])(e,[{key:"asSidebarElement",value:function(){return new pt({id:this.text.toLowerCase(),text:this.text,color:this.color,icon:this.icon})}}]),e}(),Zt=function(){function e(t,n){var r=this;Object(o["a"])(this,e),this.parent=t,this.config=n,this.isLoading=!1,this._isInstalled=!1,this.isActive=!1,this.isUpdateAvailable=!1,this.tags=this.config.tags.map((function(e){return r.parent.tags[e]||(r.parent.tags[e]=new Yt(r.parent,e)),r.parent.tags[e]}))}return Object(s["a"])(e,[{key:"hasTag",value:function(e){return this.tags.includes(e)}},{key:"download",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===t){e.next=2;break}return e.abrupt("return",this.downloadExtension(t));case 2:return n=new Xt["a"]("windows.pluginInstallLocation.title"),e.next=5,n.actionManager;case 5:r=e.sent,r.create({icon:"mdi-folder-multiple-outline",name:"actions.pluginInstallLocation.global.name",description:"actions.pluginInstallLocation.global.description",onTrigger:function(){i.downloadExtension(!0)}}),r.create({icon:"mdi-folder-outline",name:"actions.pluginInstallLocation.local.name",description:"actions.pluginInstallLocation.local.description",onTrigger:function(){i.downloadExtension(!1)}});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"downloadExtension",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,c,u,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,eo.getApp();case 3:return r=e.sent,e.next=6,fetch(this.parent.getBaseUrl()+this.config.link).then((function(e){return e.arrayBuffer()}));case 6:return a=e.sent,o=t?"plugins":"projects/".concat(r.selectedProject,"/bridge/plugins"),s=o+"/".concat(this.name.replace(/\s+/g,""),".zip"),e.next=11,r.fileSystem.writeFile(s,a);case 11:return e.prev=11,e.next=14,r.fileSystem.unlink(s.replace(".zip",""));case 14:e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](11);case 18:c=Object(i["a"])(null!==(n=this.config.dependencies)&&void 0!==n?n:[]),e.prev=19,c.s();case 21:if((u=c.n()).done){e.next=30;break}if(l=u.value,d=this.parent.getExtensionById(l),!d){e.next=28;break}if(d.isInstalled){e.next=28;break}return e.next=28,d.downloadExtension(t);case 28:e.next=21;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e["catch"](19),c.e(e.t1);case 35:return e.prev=35,c.f(),e.finish(35);case 38:return e.t2=r.extensionLoader,e.next=41,r.fileSystem.getDirectoryHandle(o);case 41:return e.t3=e.sent,e.next=44,r.fileSystem.getFileHandle(s);case 44:return e.t4=e.sent,e.t5=t,e.next=48,e.t2.loadExtension.call(e.t2,e.t3,e.t4,!0,e.t5);case 48:p=e.sent,p&&this.setConnected(p),this.setInstalled(),this.isUpdateAvailable=!1,this.isLoading=!1;case 53:case"end":return e.stop()}}),e,this,[[11,16],[19,32,35,38]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.connected){e.next=2;break}return e.abrupt("return");case 2:return this.connected.deactivate(),e.next=5,this.downloadExtension(this.connected.isGlobal);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setInstalled",value:function(){this._isInstalled=!0,this.parent.addInstalledExtension(this)}},{key:"setIsUpdateAvailable",value:function(){this.isUpdateAvailable=!0}},{key:"setConnected",value:function(e){this.connected=e}},{key:"author",get:function(){return this.config.author}},{key:"name",get:function(){return this.config.name}},{key:"version",get:function(){return this.config.version}},{key:"description",get:function(){return this.config.description}},{key:"icon",get:function(){return this.config.icon}},{key:"id",get:function(){return this.config.id}},{key:"releaseTimestamp",get:function(){var e;return null!==(e=this.config.releaseTimestamp)&&void 0!==e?e:Date.now()}},{key:"isInstalled",get:function(){return this._isInstalled}},{key:"displayVersion",get:function(){var e,t;return null!==(e=null===(t=this.connected)||void 0===t?void 0:t.version)&&void 0!==e?e:this.config.version}}]),e}(),en=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,Gt),e.baseUrl="https://raw.githubusercontent.com/bridge-core/plugins/master",e.sidebar=new ft([]),e.extensions=[],e.installedExtensions=new Set,e.tags={},e.defineWindow(),e}return Object(s["a"])(n,[{key:"open",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return t=e.sent,t.windows.loadingWindow.open(),this.sidebar.removeElements(),this.installedExtensions.clear(),e.next=8,Qt();case 8:return r=e.sent,e.next=11,r.readJSON("data/packages/extensionTags.json");case 11:return this.extensionTags=e.sent,e.next=14,t.extensionLoader.getInstalledExtensions();case 14:return i=e.sent,e.next=17,fetch("".concat(this.baseUrl,"/extensions.json")).then((function(e){return e.json()}));case 17:a=e.sent,this.extensions=a.map((function(e){return new Zt(o,e)})),i.forEach((function(e,t){var n=o.extensions.find((function(e){return e.id===t}));n?(n.setInstalled(),n.setConnected(e),Object(te["compare"])(e.version,n.version,"<")&&n.setIsUpdateAvailable()):e.forStore(o)})),this.setupSidebar(),t.windows.loadingWindow.close(),Object(ut["a"])(Object(lt["a"])(n.prototype),"open",this).call(this);case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setupSidebar",value:function(){var e=this;this.sidebar.addElement(new pt({id:"all",text:"All",icon:"mdi-format-list-bulleted-square",color:"primary"}),this.getExtensions()),this.sidebar.addElement(new pt({id:"installed",text:"Installed",icon:"mdi-download-circle-outline",color:"primary"}),this.installedExtensions),Object.values(this.tags).forEach((function(t){return e.sidebar.addElement(t.asSidebarElement(),e.getExtensionsByTag(t))}))}},{key:"getExtensions",value:function(e){return Object(U["a"])(new Set([].concat(Object(U["a"])(this.extensions),Object(U["a"])(this.installedExtensions)))).filter((function(t){return!e||t.hasTag(e)})).sort((function(e,t){var n=e.releaseTimestamp,r=t.releaseTimestamp;return r-n}))}},{key:"getExtensionsByTag",value:function(e){return this.getExtensions(e)}},{key:"getTagIcon",value:function(e){return this.extensionTags[e].icon}},{key:"getTagColor",value:function(e){return this.extensionTags[e].color}},{key:"getExtensionById",value:function(e){return this.getExtensions().find((function(t){return t.id===e}))}},{key:"getBaseUrl",value:function(){return this.baseUrl}},{key:"addInstalledExtension",value:function(e){this.installedExtensions.add(e)}},{key:"selectedSidebar",get:function(){return this.sidebar.selected},set:function(e){this.sidebar.clearFilter(),this.sidebar.selected=e}}]),n}(tt["a"]),tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:"windows.loadingWindow.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!1,isPersistent:!0,isFullscreen:!1,width:300,height:40},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-progress-linear",{attrs:{indeterminate:""}})]},proxy:!0}])})},nn=[],rn={name:"LoadingWindow",components:{BaseWindow:le["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},an=rn,on=n("8e36"),sn=Object(fe["a"])(an,tn,nn,!1,null,null,null),cn=sn.exports;me()(sn,{VProgressLinear:on["a"]});var un=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,cn),e.virtualWindows=0,e.defineWindow(),e}return Object(s["a"])(n,[{key:"open",value:function(){this.virtualWindows++,this.isVisible||Object(ut["a"])(Object(lt["a"])(n.prototype),"open",this).call(this)}},{key:"close",value:function(){if(this.virtualWindows--,0===this.virtualWindows)Object(ut["a"])(Object(lt["a"])(n.prototype),"close",this).call(this);else if(this.virtualWindows<0)throw this.virtualWindows=0,new Error("Trying to close loadingWindow that doesn't exist")}},{key:"closeAll",value:function(){this.virtualWindows=0,Object(ut["a"])(Object(lt["a"])(n.prototype),"close",this).call(this)}}]),n}(tt["a"]),ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.createPreset.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.createPreset.searchPresets"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[n("h1",{staticClass:"mt-2 d-flex align-center",class:{"mb-6":!e.content.description}},[n("v-icon",{staticClass:"mr-1",attrs:{large:""}},[e._v(e._s(e.content.icon))]),e._v(" "+e._s(e.content.name)+" ")],1),e.content.description?n("p",{staticClass:"mt-2 mb-6"},[e._v(" "+e._s(e.content.description)+" ")]):e._e(),e._l(e.content.fields,(function(t,r){var i=t[0],a=t[1];return n("v-text-field",{key:r,staticClass:"mb-1",attrs:{label:i,autocomplete:"off",outlined:"",dense:""},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}})}))]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:!e.fieldsReady,loading:!e.isPackIndexerReady},on:{click:e.onCreatePreset}},[e._v(" Create ")])]},proxy:!0}]),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}})},dn=[],pn=(n("a623"),n("bd74")),fn={name:"CreatePresetWindow",mixins:[ue["a"],pn["a"]],components:{SidebarWindow:Dt},props:["currentWindow"],data:function(){return this.currentWindow},computed:{content:function(){return this.sidebar.currentState},fieldsReady:function(){return Object.values(this.content.models||{}).every((function(e){return!!e}))}},methods:{onClose:function(){this.currentWindow.close()},onCreatePreset:function(){this.currentWindow.close(),this.currentWindow.createPreset(this.content)}}},hn=fn,mn=Object(fe["a"])(hn,ln,dn,!1,null,null,null),vn=mn.exports;me()(mn,{VBtn:ve["a"],VIcon:ge["a"],VSpacer:be["a"],VTextField:qt["a"]});var gn=n("df7c"),bn=n.n(gn),wn=[".mcfunction",".json",".js",".ts",".txt",".molang"],kn=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,vn),e.loadPresetPaths=new Map,e.sidebar=new ft([]),e.defineWindow(),e}return Object(s["a"])(n,[{key:"addPreset",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return o=e.sent,e.next=5,t.readJSON(n);case 5:if(s=e.sent,s.category){e.next=8;break}throw new Error("Error loading ".concat(n,": Missing preset category"));case 8:return e.next=10,o.projectConfig.get("targetVersion");case 10:if(e.t1=i=e.sent,e.t0=null!==e.t1,!e.t0){e.next=14;break}e.t0=void 0!==i;case 14:if(!e.t0){e.next=18;break}e.t2=i,e.next=21;break;case 18:return e.next=20,o.fileSystem.readJSON("data/packages/formatVersions.json");case 20:e.t2=e.sent.pop();case 21:if(c=e.t2,!s.targetVersion||Object(te["compare"])(c,s.targetVersion[1],s.targetVersion[0])){e.next=24;break}return e.abrupt("return");case 24:return u=this.sidebar.rawElements.find((function(e){return e.getText()===s.category})),u||(u=new dt({text:s.category,items:[]}),this.sidebar.addElement(u)),l=Object(ee["a"])(),u.addItem(new pt({id:l,text:s.name,icon:s.icon,color:"primary"})),e.t3=this.sidebar,e.t4=l,e.t5=z["a"],e.t6=Object(z["a"])({},s),e.t7={},e.t8=Object(gn["dirname"])(n),e.t9=z["a"],e.next=37,o.projectConfig.get("prefix");case 37:if(e.t11=a=e.sent,e.t10=null!==e.t11,!e.t10){e.next=41;break}e.t10=void 0!==a;case 41:if(!e.t10){e.next=45;break}e.t12=a,e.next=46;break;case 45:e.t12="bridge";case 46:e.t13=e.t12,e.t14={PROJECT_PREFIX:e.t13},e.t15=Object.fromEntries(s.fields.map((function(e){var t,n=Object(r["a"])(e,3),i=(n[0],n[1]),a=n[2],o=void 0===a?{}:a;return[i,null!==(t=o.default)&&void 0!==t?t:""]}))),e.t16=(0,e.t9)(e.t14,e.t15),e.t17={presetPath:e.t8,models:e.t16},e.t18=(0,e.t5)(e.t6,e.t7,e.t17),e.t3.setState.call(e.t3,e.t4,e.t18);case 53:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadPresets",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"data/packages/preset",r=[],e.prev=2,e.next=5,t.readdir(n,{withFileTypes:!0});case 5:r=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:a=Object(i["a"])(r),e.prev=11,a.s();case 13:if((o=a.n()).done){e.next=26;break}if(s=o.value,"directory"!==s.kind){e.next=20;break}return e.next=18,this.loadPresets(t,"".concat(n,"/").concat(s.name));case 18:e.next=24;break;case 20:if("manifest.json"!==s.name){e.next=24;break}return e.next=23,this.addPreset(t,"".concat(n,"/").concat(s.name));case 23:return e.abrupt("return",e.sent);case 24:e.next=13;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](11),a.e(e.t1);case 31:return e.prev=31,a.f(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[2,8],[11,28,31,34]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return t=e.sent,a=t.fileSystem,t.windows.loadingWindow.open(),this.sidebar.removeElements(),e.next=8,this.loadPresets(a);case 8:o=Object(i["a"])(this.loadPresetPaths),e.prev=9,o.s();case 11:if((s=o.n()).done){e.next=17;break}return c=Object(r["a"])(s.value,2),c[0],u=c[1],e.next=15,this.loadPresets(a,u);case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](9),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:t.windows.loadingWindow.close(),Object(ut["a"])(Object(lt["a"])(n.prototype),"open",this).call(this);case 27:case"end":return e.stop()}}),e,this,[[9,19,22,25]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"addPresets",value:function(e){var t=this,n=Object(ee["a"])();return this.loadPresetPaths.set(n,e),{dispose:function(){return t.loadPresetPaths.delete(n)}}}},{key:"createPreset",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,o,s,c,u,l,d,p,f,h=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.presetPath,o=t.createFiles,s=void 0===o?[]:o,c=t.expandFiles,u=void 0===c?[]:c,n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,eo.getApp();case 5:return l=e.sent,l.windows.loadingWindow.open(),d=l.fileSystem,p=[],f=[],p.push.apply(p,Object(U["a"])(s.map(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i,a,o,s,c,u,p,m,v,g,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(r["a"])(t,3),o=a[0],s=a[1],c=a[2],u=null!==(i=null===c||void 0===c?void 0:c.inject)&&void 0!==i?i:[],p="".concat(n,"/").concat(o),m=h.transformString("projects/".concat(l.selectedProject,"/").concat(s),u),v=Object(gn["extname"])(m),e.next=7,d.mkdir(Object(gn["dirname"])(m),{recursive:!0});case 7:if(f.push(h.transformString(s,u)),0!==u.length&&wn.includes(v)){e.next=13;break}return e.next=11,d.copyFile(p,m);case 11:e.next=21;break;case 13:return e.next=15,d.readFile(p);case 15:return g=e.sent,e.next=18,g.text();case 18:return b=e.sent,e.next=21,d.writeFile(m,h.transformString(b,u));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).concat(Object(U["a"])(u.map(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i,a,o,s,c,u,p,m,v,g,b,w,k,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(r["a"])(t,3),o=a[0],s=a[1],c=a[2],u=null!==(i=null===c||void 0===c?void 0:c.inject)&&void 0!==i?i:[],p="".concat(n,"/").concat(o),m=h.transformString("projects/".concat(l.selectedProject,"/").concat(s),u),v=Object(gn["extname"])(m),e.next=7,d.mkdir(Object(gn["dirname"])(m),{recursive:!0});case 7:if(f.push(h.transformString(s,u)),".json"!==v){e.next=25;break}return e.next=11,d.readJSON(p);case 11:return g=e.sent,e.prev=12,e.next=15,d.readJSON(m);case 15:b=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](12),b={};case 21:return e.next=23,d.writeFile(m,h.transformString(JSON.stringify(N(b,g),null,"\t"),u));case 23:e.next=47;break;case 25:return e.next=27,d.readFile(p);case 27:return w=e.sent,e.next=30,w.text();case 30:return k=e.sent,e.prev=31,e.t1=h,e.next=35,d.readFile(m);case 35:return e.next=37,e.sent.text();case 37:e.t2=e.sent,e.t3=u,y=e.t1.transformString.call(e.t1,e.t2,e.t3),e.next=45;break;case 42:e.prev=42,e.t4=e["catch"](31),y="";case 45:return e.next=47,d.writeFile(m,"".concat(y).concat(""!==y?"\n":"").concat(k));case 47:case"end":return e.stop()}}),e,null,[[12,18],[31,42]])})));return function(t){return e.apply(this,arguments)}}())))),e.next=13,Promise.all(p);case 13:return e.next=15,new Promise((function(e){return l.packIndexer.once(Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(i["a"])(f),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=12;break}return o=r.value,t.next=7,l.packIndexer.updateFile(o);case 7:return t.next=9,l.compiler.updateFile("dev","default.json",o);case 9:null===(a=l.tabSystem)||void 0===a||a.open("projects/".concat(l.selectedProject,"/").concat(o));case 10:t.next=3;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),n.e(t.t0);case 17:return t.prev=17,n.f(),t.finish(17);case 20:e();case 21:case"end":return t.stop()}}),t,null,[[1,14,17,20]])}))))}));case 15:l.windows.loadingWindow.close();case 16:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transformString",value:function(e,t){var n=this.sidebar.currentState.models;return t.forEach((function(t){return e=e.replaceAll("{{".concat(t,"}}"),n[t])})),e}}]),n}(tt["a"]),yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.createProject.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!e.isFirstProject,isFullscreen:!1,isPersistent:e.isCreatingProject||e.isFirstProject,percentageWidth:80,percentageHeight:80},on:{closeWindow:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[e.isFirstProject?n("div",{staticClass:"rounded-lg pa-3 content-area mb-2"},[n("h1",{staticClass:"text-h4"},[e._v(" "+e._s(e.t("windows.createProject.welcome"))+" ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.welcomeDescription"))+" ")])]):e._e(),n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},e._l(e.availablePackTypes,(function(t,r){return n("PackTypeViewer",{key:t.id,class:{"mr-1":0===r,"ml-1":r+1===e.availablePackTypes.length,"mx-1":r>0&&r+1<e.availablePackTypes.length},attrs:{packType:t,isSelectable:"",selected:e.createOptions.packs.includes(t.packPath)},on:{click:function(n){return e.togglePack(t.packPath)}}})})),1),n("div",{staticClass:"d-flex"},[n("v-file-input",{staticClass:"mr-2",attrs:{label:e.t("windows.createProject.packIcon"),"prepend-icon":null,"prepend-inner-icon":"mdi-image-outline",accept:"image/png",outlined:"",dense:""},model:{value:e.createOptions.icon,callback:function(t){e.$set(e.createOptions,"icon",t)},expression:"createOptions.icon"}}),n("v-text-field",{staticClass:"ml-2",attrs:{label:e.t("windows.createProject.projectName"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.name,callback:function(t){e.$set(e.createOptions,"name",t)},expression:"createOptions.name"}})],1),n("v-text-field",{attrs:{label:e.t("windows.createProject.projectDescription"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.description,callback:function(t){e.$set(e.createOptions,"description",t)},expression:"createOptions.description"}}),n("div",{staticClass:"d-flex"},[n("v-text-field",{staticClass:"mr-2",attrs:{label:e.t("windows.createProject.projectPrefix"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.prefix,callback:function(t){e.$set(e.createOptions,"prefix",t)},expression:"createOptions.prefix"}}),n("v-text-field",{staticClass:"mx-2",attrs:{label:e.t("windows.createProject.projectAuthor"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.author,callback:function(t){e.$set(e.createOptions,"author",t)},expression:"createOptions.author"}}),n("v-autocomplete",{staticClass:"ml-2",attrs:{label:e.t("windows.createProject.projectTargetVersion"),autocomplete:"off",items:e.availableTargetVersions,loading:e.availableTargetVersionsLoading,outlined:"",dense:"","menu-props":{maxHeight:220}},model:{value:e.createOptions.targetVersion,callback:function(t){e.$set(e.createOptions,"targetVersion",t)},expression:"createOptions.targetVersion"}})],1)]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:!e.currentWindow.hasRequiredData,loading:e.isCreatingProject},on:{click:e.createProject}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-plus")]),n("span",[e._v(e._s(e.t("windows.createProject.create")))])],1)]},proxy:!0}],null,!1,372984133)}):e._e()},xn=[],jn=(n("c975"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-col",{directives:[{name:"ripple",rawName:"v-ripple",value:e.isSelectable,expression:"isSelectable"}],class:{"rounded-lg pa-3 content-area":!0,selected:e.selected},on:{click:function(t){return e.$emit("click")}}},[n("div",{staticClass:"d-flex"},[n("v-icon",{staticClass:"mr-2",attrs:{color:e.packType.color}},[e._v(" "+e._s(e.packType.icon)+" ")]),n("span",{staticClass:"text-h6"},[e._v(" "+e._s(e.t("packType."+e.packType.id+".name"))+" ")])],1),e.isSelectable?n("div",{staticClass:"d-flex align-center mb-2"},[e.selected?[n("v-icon",{staticClass:"mr-1",attrs:{color:"success",small:""}},[e._v(" mdi-checkbox-marked-circle-outline ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.selectedPack"))+" ")])]:[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(" mdi-checkbox-blank-circle-outline ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.omitPack"))+" ")])]],2):e._e(),e.packType.version?n("div",{staticClass:"mb-2"},[e._v(" Pack Version: v"+e._s(e.packType.version.join("."))+" ")]):e._e(),n("span",[e._v(e._s(e.t("packType."+e.packType.id+".description")))])])}),On=[],Sn={name:"PackTypeViewer",mixins:[ue["a"]],props:{packType:Object,selected:Boolean,isSelectable:Boolean}},Cn=Sn,_n=(n("5e27"),n("62ad")),Pn=Object(fe["a"])(Cn,jn,On,!1,null,"bc9d5e16",null),Rn=Pn.exports;me()(Pn,{VCol:_n["a"],VIcon:ge["a"]}),jt()(Pn,{Ripple:Ot["a"]});var Tn={name:"CreateProjectWindow",mixins:[ue["a"]],components:{BaseWindow:le["a"],PackTypeViewer:Rn},props:["currentWindow"],data:function(){return this.currentWindow},methods:{close:function(){this.currentWindow.close()},createProject:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreatingProject=!0,t.next=3,e.currentWindow.createProject();case 3:e.isCreatingProject=!1,e.currentWindow.close();case 5:case"end":return t.stop()}}),t)})))()},togglePack:function(e){var t=this.createOptions.packs,n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e)}}},Fn=Tn,En=(n("ffd5"),n("c6a6")),Wn=n("23a7"),Mn=n("0fd9"),Bn=Object(fe["a"])(Fn,yn,xn,!1,null,"50c56506",null),Dn=Bn.exports;me()(Bn,{VAutocomplete:En["a"],VBtn:ve["a"],VFileInput:Wn["a"],VIcon:ge["a"],VRow:Mn["a"],VSpacer:be["a"],VTextField:qt["a"]});var In=function(){function e(){Object(o["a"])(this,e)}return Object(s["a"])(e,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir(this.packPath);case 2:r=Object(i["a"])(this.createFiles),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=11;break}return o=a.value,e.next=9,o.create(t,n);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),Vn=function e(){Object(o["a"])(this,e)},An=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.pack=e,r}return Object(s["a"])(n,[{key:"create",value:function(e,t){return e.writeJSON("".concat(this.pack,"/manifest.json"),{format_version:2,header:{name:"pack.name",description:"pack.description",min_engine_version:t.targetVersion.split("."),uuid:Object(ee["a"])(),version:[1,0,0]},modules:[{description:t.description,type:this.type,uuid:Object(ee["a"])(),version:[1,0,0]}]},!0)}},{key:"type",get:function(){switch(this.pack){case"BP":return"data";case"RP":return"resources";case"SP":return"skin_pack"}}}]),n}(Vn),Nn=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.packPath=e,r}return Object(s["a"])(n,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("".concat(this.packPath,"/texts"));case 2:return e.next=4,t.writeFile("".concat(this.packPath,"/texts/en_US.lang"),"pack.name=".concat(n.name," ").concat(this.packPath,"\npack.description=").concat(n.description));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Vn),Ln=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.packPath=e,r}return Object(s["a"])(n,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.icon,r){e.next=8;break}return e.next=4,eo.getApp();case 4:return i=e.sent,e.next=7,i.fileSystem.readFile("data/packages/packIcon.png");case 7:r=e.sent;case 8:return e.next=10,t.writeFile("".concat(this.packPath,"/pack_icon.png"),r);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Vn),$n=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.packPath="BP",e.createFiles=[new An(e.packPath),new Nn(e.packPath),new Ln(e.packPath)],e}return n}(In),Un=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.packPath="RP",e.createFiles=[new An(e.packPath),new Nn(e.packPath),new Ln(e.packPath)],e}return n}(In),zn=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.packPath="SP",e.createFiles=[new An(e.packPath),new Nn(e.packPath),new Ln(e.packPath)],e}return n}(In),Hn=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("bridge/compiler");case 2:return e.next=4,t.writeJSON("bridge/compiler/default.json",{icon:"mdi-cogs",name:"Default Script",description:'Transforms the "bridge." folder structure to "com.mojang". "bridge." runs it automatically in dev mode in the background to enable fast, incremental builds for testing.',plugins:{"*":[["comMojangRewrite",{packName:n.name}]]}},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Vn),Jn=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("bridge/config.json",{prefix:n.prefix,author:n.author,targetVersion:n.targetVersion,description:n.description},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Vn),qn=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.packPath="bridge",e.createFiles=[new Jn,new Hn],e}return n}(In),Kn=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeFile(".gitignore","Desktop.ini    \n.DS_Store \n!bridge/\nbridge/*\n!bridge/compiler/\n!bridge/plugins\n!bridge/config.json\nbuilds");case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Vn),Gn=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,Dn,!1),e.isFirstProject=!1,e.createOptions={author:"",description:"",icon:null,name:"",prefix:"bridge",targetVersion:"",packs:["bridge","BP","RP"]},e.isCreatingProject=!1,e.availableTargetVersions=[],e.availableTargetVersionsLoading=!0,e.packs={BP:new $n,RP:new Un,SP:new zn,bridge:new qn},e.availablePackTypes=[],e.createFiles=[new Kn],e.defineWindow(),eo.ready.once(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.readJSON("data/packages/formatVersions.json");case 2:e.availableTargetVersions=t.sent,e.createOptions.targetVersion=e.availableTargetVersions[e.availableTargetVersions.length-1],e.availableTargetVersionsLoading=!1;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),et["a"].ready.once((function(){e.availablePackTypes=et["a"].all().filter((function(e){var t=e.id;return"worldTemplate"!==t}))})),e}return Object(s["a"])(n,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isFirstProject=e,Object(ut["a"])(Object(lt["a"])(n.prototype),"open",this).call(this)}},{key:"createProject",value:function(){var e=this;return new Promise((function(t){return eo.ready.once(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(r){var a,o,s,c,u,l,d,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=r.fileSystem,n.t0=Z,n.next=4,a.getDirectoryHandle("projects/".concat(e.createOptions.name),{create:!0});case 4:n.t1=n.sent,o=new n.t0(n.t1),s=Object(i["a"])(e.createFiles);try{for(s.s();!(c=s.n()).done;)u=c.value,u.create(o,e.createOptions)}catch(f){s.e(f)}finally{s.f()}l=Object(i["a"])(e.createOptions.packs),n.prev=9,l.s();case 11:if((d=l.n()).done){n.next=17;break}return p=d.value,n.next=15,e.packs[p].create(o,e.createOptions);case 15:n.next=11;break;case 17:n.next=22;break;case 19:n.prev=19,n.t2=n["catch"](9),l.e(n.t2);case 22:return n.prev=22,l.f(),n.finish(22);case 25:return n.next=27,r.projectManager.addProject(e.createOptions.name);case 27:t();case 28:case"end":return n.stop()}}),n,null,[[9,19,22,25]])})));return function(e){return n.apply(this,arguments)}}())}))}},{key:"hasRequiredData",get:function(){return this.createOptions.name.length>0&&this.createOptions.prefix.length>0&&this.createOptions.author.length>0&&this.createOptions.targetVersion.length>0}}]),n}(tt["a"]),Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:"windows.openFile.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!0,isFullscreen:!1,width:460,height:120},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-autocomplete",{attrs:{label:e.t("windows.openFile.search"),items:e.packFiles,dense:"","no-data-text":e.t("windows.openFile.noData"),outlined:"",autofocus:"","auto-select-first":""},on:{change:e.onChange},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}})]},proxy:!0}])})},Xn=[],Yn={name:"OpenFileWindow",mixins:[ue["a"]],components:{BaseWindow:le["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onChange:function(e){e&&this.currentWindow.openFile(e)}}},Zn=Yn,er=Object(fe["a"])(Zn,Qn,Xn,!1,null,null,null),tr=er.exports;me()(er,{VAutocomplete:En["a"]});var nr=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,tr,!1,!0),e.packFiles=[],e.selectedFile="",e.isCurrentlyOpening=!1,e.defineWindow(),e}return Object(s["a"])(n,[{key:"open",value:function(){var e=this;this.isCurrentlyOpening||(this.isCurrentlyOpening=!0,this.selectedFile="",eo.ready.once(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.windows.loadingWindow.open(),t.next=3,new Promise(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r.packIndexer.once(Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.packFiles=[],t.t0=(i=e.packFiles).push,t.t1=i,t.t2=U["a"],t.next=6,r.packIndexer.service.getAllFiles(!0);case 6:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4),n();case 10:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:r.windows.loadingWindow.close(),Object(ut["a"])(Object(lt["a"])(n.prototype),"open",e).call(e),e.isCurrentlyOpening=!1;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}},{key:"openFile",value:function(e){eo.ready.once((function(t){var n;return null===(n=t.tabSystem)||void 0===n?void 0:n.open("projects/".concat(t.selectedProject,"/").concat(e))})),this.close()}}]),n}(tt["a"]),rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.packExplorer.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"toolbar",fn:function(){return[n("v-btn",{attrs:{icon:"",small:""},on:{click:e.createPreset}},[n("v-icon",{attrs:{color:e.isDarkMode?"white":"grey darken-1",small:""}},[e._v(" mdi-plus ")])],1),n("v-btn",{attrs:{icon:"",small:""},on:{click:e.refreshPackExplorer}},[n("v-icon",{attrs:{color:e.isDarkMode?"white":"grey darken-1",small:""}},[e._v(" mdi-refresh ")])],1)]},proxy:!0},{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.packExplorer.searchFiles"),outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(t){var r=t.selectedSidebar;return["directory"===e.sidebar.currentElement.kind?n("div",[n("h1",{staticClass:"mt-2 mb-6 d-flex align-center"},[n("v-icon",{staticClass:"mr-1",attrs:{large:"",color:e.sidebar.currentState.color}},[e._v(" "+e._s(e.sidebar.currentState.icon)+" ")]),e._v(" "+e._s(e.sidebar.currentState.text)+" ")],1),n("FileDisplayer",{key:r,attrs:{startPath:r?r.split("/"):void 0},on:{closeWindow:e.onClose}})],1):"file"===e.sidebar.currentElement.kind?n("div",{staticClass:"body-1"},[n("h1",{staticClass:"mt-2 mb-6 d-flex align-center"},[n("v-icon",{staticClass:"mr-1",attrs:{large:"",color:e.sidebar.currentState.color}},[e._v(" "+e._s(e.sidebar.currentState.icon)+" ")]),e._v(" "+e._s(e.sidebar.currentState.text)+" ")],1),n("p",[n("strong",[e._v("Path:")]),e._v(" "+e._s(r))]),n("div",{staticClass:"mt-8 d-flex"},[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.openFile(r)}}},[e._v(" Open ")])],1)]):e._e()]}}]),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}})},ir=[],ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.directoryEntry&&!e.directoryEntry.isLoading&&e.isPackIndexerReady?n("div",{staticClass:"body-1"},[e._l(e.directoryEntry.children,(function(t){return[t.isFile?n("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.uuid,staticClass:"file rounded-lg",on:{click:function(n){return n.stopPropagation(),e.onClick(t)}}},[n("v-icon",{attrs:{color:t.color,small:""}},[e._v(" "+e._s(t.icon||"mdi-file-outline")+" ")]),e._v(" "+e._s(t.name)+" ")],1):n("details",{key:t.uuid,staticClass:"folder",attrs:{open:t.isFolderOpen}},[n("summary",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"d-flex rounded-lg",on:{click:function(n){return n.preventDefault(),e.onClick(t)}}},[n("v-icon",{staticClass:"pr-1",attrs:{color:t.color,small:""}},[e._v(" "+e._s(t.isFolderOpen?"mdi-folder-open":"mdi-folder")+" ")]),n("span",{staticClass:"folder"},[e._v(e._s(t.name))])],1),n("FileDisplayer",{attrs:{entry:t},on:{closeWindow:function(t){return e.$emit("closeWindow")}}})],1)]}))],2):n("v-progress-linear",{attrs:{indeterminate:""}})},or=[],sr=n("8ed7"),cr=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(o["a"])(this,e),this.fileSystem=t,this.parent=n,this.path=r,this._isFile=i,this.children=[],this.uuid=Object(ee["a"])(),this.isFolderOpen=!1,this.hasLoadedChildren=this._isFile,this.isLoading=!1,i||this.isFolderOpen&&this.loadChildren(r)}return Object(s["a"])(e,[{key:"loadChildren",value:function(t){var n=this;this.isLoading=!0;var r=eo.instance.packIndexer.readdir(t,{withFileTypes:!0});r.then((function(r){r.forEach((function(r){var i;if("darwin"!==Object(sr["a"])()||".DS_Store"!==r.name||"file"!==r.kind){var a=new e(n.fileSystem,n,null!==(i=r.path)&&void 0!==i?i:t.concat([r.name]),"file"===r.kind);a.setDisplayName(r.displayName),r.filePath&&a.setPath(r.filePath),n.children.push(a)}})),n.sortChildren(),n.isLoading=!1})),this.hasLoadedChildren=!0}},{key:"getFullPath",value:function(){return["projects",eo.instance.selectedProject].concat(this.path).join("/")}},{key:"getPath",value:function(){return this.path.join("/")}},{key:"getPathWithoutPack",value:function(){var e=Object(U["a"])(this.path);return e.shift(),e.join("/")}},{key:"setPath",value:function(e){return this.path=e.split("/")}},{key:"open",value:function(){var e=this;return this.isFile?(eo.ready.once((function(t){var n;return null===(n=t.tabSystem)||void 0===n?void 0:n.open(e.getFullPath())})),!0):(this.isFolderOpen=!this.isFolderOpen,this.hasLoadedChildren||this.loadChildren(this.path),!1)}},{key:"setDisplayName",value:function(e){this.displayName=e}},{key:"sortChildren",value:function(){this.children=this.children.sort((function(e,t){if(e.isFile&&!t.isFile)return 1;if(!e.isFile&&t.isFile)return-1;if(e.isFile){if(e.getPathWithoutPack()>t.getPathWithoutPack())return 1;if(e.getPathWithoutPack()<t.getPathWithoutPack())return-1}else{if(e.name>t.name)return 1;if(e.name<t.name)return-1}return 0}))}},{key:"updateUUID",value:function(){this.uuid=Object(ee["a"])()}},{key:"name",get:function(){var e;return null!==(e=this.displayName)&&void 0!==e?e:this.path[this.path.length-1]}},{key:"isFile",get:function(){return this._isFile}},{key:"color",get:function(){var e;return null===(e=et["a"].get(this.getFullPath()))||void 0===e?void 0:e.color}},{key:"icon",get:function(){var e;return null===(e=E["a"].get(this.getPath()))||void 0===e?void 0:e.icon}}],[{key:"create",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:[],r=a.length>1&&void 0!==a[1]&&a[1],i=new e(eo.instance.fileSystem,null,n,r),i.open(),t.abrupt("return",P["a"].observable(i));case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}]),e}(),ur={name:"FileDisplayer",mixins:[pn["a"]],props:{entry:Object,startPath:Array},mounted:function(){this.loadDirectory()},data:function(){return{directoryEntry:null,tree:[]}},methods:{loadDirectory:function(){var e=this;this.entry?this.directoryEntry=this.entry:eo.instance.packIndexer.once(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,cr.create(e.startPath);case 2:e.directoryEntry=t.sent;case 3:case"end":return t.stop()}}),t)}))))},onClick:function(e){var t=e.open();t&&this.$emit("closeWindow")}},watch:{startPath:function(){this.loadDirectory()}}},lr=ur,dr=(n("7f28"),Object(fe["a"])(lr,ar,or,!1,null,"91eba926",null)),pr=dr.exports;me()(dr,{VIcon:ge["a"],VProgressLinear:on["a"]}),jt()(dr,{Ripple:Ot["a"]});var fr={name:"PackExplorerWindow",mixins:[ue["a"]],components:{SidebarWindow:Dt,FileDisplayer:pr},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},refreshPackExplorer:function(){this.currentWindow.close(),eo.instance.switchProject(selectedProject,!0)},openFile:function(e){this.currentWindow.close(),eo.ready.once((function(t){t.tabSystem.open("projects/".concat(t.selectedProject,"/").concat(e))}))},createPreset:function(){this.currentWindow.close(),eo.ready.once((function(e){return e.windows.createPreset.open()}))}},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},hr=fr,mr=Object(fe["a"])(hr,rr,ir,!1,null,null,null),vr=mr.exports;me()(mr,{VBtn:ve["a"],VIcon:ge["a"],VSpacer:be["a"],VTextField:qt["a"]});var gr=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,e),r.packType=e.packType,r.kind=e.kind,r}return n}(pt),br=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,vr,!1,!0),e.loadedPack=!1,e.sidebarCategory=new dt({text:"windows.packExplorer.categories",items:[]}),e.sidebar=new ft([e.sidebarCategory]),eo.eventSystem.on("projectChanged",(function(){e.sidebar.resetSelected(),e.loadedPack=!1})),e.defineWindow(),e}return Object(s["a"])(n,[{key:"loadPack",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.sidebarCategory.removeItems(),t=[],e.next=4,eo.instance.packIndexer.readdir([]);case 4:r=e.sent,r.forEach((function(e){var n=e.kind,r=e.displayName,a=e.name,o=e.path,s=E["a"].get(void 0,a),c=s?et["a"].get("projects/test/".concat("string"===typeof s.matcher?s.matcher:s.matcher[0])):void 0,u=s&&s.icon?s.icon:"mdi-".concat("directory"===n?"folder":"file","-outline"),l=null!==r&&void 0!==r?r:Object(ue["e"])("fileType.".concat(a)),d=c?c.color:void 0;t.push(new gr({kind:n,packType:c?c.id:"unknown",id:null!==o&&void 0!==o?o:a,text:l,icon:u,color:d})),i.sidebar.setState(null!==o&&void 0!==o?o:a,{text:l,icon:u,color:d})})),t=t.sort((function(e,t){return e.packType!==t.packType?e.packType.localeCompare(t.packType):e.text.localeCompare(t.text)})),t.forEach((function(e){return i.sidebarCategory.addItem(e)})),this.sidebar.setDefaultSelected(),Object(ut["a"])(Object(lt["a"])(n.prototype),"open",this).call(this);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=this;this.loadedPack?Object(ut["a"])(Object(lt["a"])(n.prototype),"open",this).call(this):new Promise((function(t){return eo.ready.once((function(n){return n.packIndexer.once(Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.windows.loadingWindow.open(),r.next=3,e.loadPack();case 3:t(),n.windows.loadingWindow.close();case 5:case"end":return r.stop()}}),r)}))))}))}))}}]),n}(tt["a"]),wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.projectChooser.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"toolbar",fn:function(){return[n("ToolbarButton",{attrs:{icon:"mdi-plus"},on:{click:e.createProject}})]},proxy:!0},{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.projectChooser.searchProjects"),outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[n("div",{staticClass:"d-flex align-center mb-4 rounded-lg content-area pa-4"},[n("img",{staticClass:"mr-2 project-logo rounded-lg",attrs:{height:"64",src:e.sidebar.currentState.imgSrc}}),n("div",[n("h1",{staticClass:"text-h4"},[e._v(e._s(e.sidebar.currentState.name))]),n("h2",{staticClass:"text-h6"},[e._v(" by "+e._s(e.sidebar.currentState.author||"Unknown")+" ")])])]),n("div",{staticClass:"d-flex"},e._l(e.sidebar.currentState.contains,(function(t,r){return n("PackTypeViewer",{key:t.id,class:{"mr-1":0===r,"ml-1":r+1===e.sidebar.currentState.contains.length,"mx-1":r>0&&r+1<e.sidebar.currentState.contains.length},attrs:{packType:t}})})),1)]},proxy:!0},{key:"actions",fn:function(t){var r=t.selectedSidebar;return[n("v-spacer"),n("v-btn",{attrs:{color:"error",disabled:e.currentProject===r},on:{click:function(t){return e.onDeleteProject(r)}}},[n("v-icon",[e._v("mdi-delete")]),e._v(" Delete ")],1),n("v-btn",{attrs:{color:"primary",disabled:e.currentProject===r,loading:e.currentProject!==r&&(!e.isPackIndexerReady||!e.isCompilerReady)},on:{click:e.onSelectProject}},[n("v-icon",[e._v("mdi-check")]),e._v(" Select ")],1)]}}]),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}})},kr=[],yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.$emit("click")}}},[n("v-icon",{attrs:{color:e.isDarkMode?"white":"grey darken-1",small:""}},[e._v(" "+e._s(e.icon)+" ")])],1)},xr=[],jr={name:"ToolbarButton",props:{icon:{type:String}},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},Or=jr,Sr=Object(fe["a"])(Or,yr,xr,!1,null,null,null),Cr=Sr.exports;me()(Sr,{VBtn:ve["a"],VIcon:ge["a"]});var _r=n("b4a2"),Pr={name:"ProjectChooserWindow",mixins:[ue["a"],pn["a"],_r["a"]],components:{SidebarWindow:Dt,ToolbarButton:Cr,PackTypeViewer:Rn},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onSelectProject:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,eo.getApp();case 2:n=t.sent,n.projectManager.selectProject(e.sidebar.selected),e.currentWindow.close();case 5:case"end":return t.stop()}}),t)})))()},createProject:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,eo.getApp();case 2:n=t.sent,e.currentWindow.close(),n.windows.createProject.open();case 5:case"end":return t.stop()}}),t)})))()},onDeleteProject:function(e){var t=this;Object(u["a"])("windows.deleteProject.description","windows.deleteProject.confirm","windows.deleteProject.cancel",Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,eo.getApp();case 2:return r=n.sent,n.next=5,r.projectManager.removeProject(e);case 5:return n.next=7,t.currentWindow.loadProjects();case 7:case"end":return n.stop()}}),n)}))))}}},Rr=Pr,Tr=(n("a005"),Object(fe["a"])(Rr,wr,kr,!1,null,"1279d473",null)),Fr=Tr.exports;me()(Tr,{VBtn:ve["a"],VIcon:ge["a"],VSpacer:be["a"],VTextField:qt["a"]});var Er=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,Fr,!1,!0),e.sidebar=new ft([]),e.currentProject=void 0,e.defineWindow(),e}return Object(s["a"])(n,[{key:"addProject",value:function(e,t,n){this.sidebar.addElement(new pt({color:"primary",text:t,icon:"mdi-alpha-".concat(t[0].toLowerCase(),"-box-outline"),id:e}),n),this.sidebar.setDefaultSelected()}},{key:"loadProjects",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.sidebar.removeElements(),e.next=3,eo.getApp();case 3:return t=e.sent,e.next=6,t.projectManager.getProjects();case 6:return n=e.sent,n.forEach((function(e){return r.addProject(e.path,e.name,e)})),this.sidebar.setDefaultSelected(t.projectManager.selectedProject),e.abrupt("return",t.projectManager.selectedProject);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadProjects();case 2:this.currentProject=e.sent,Object(ut["a"])(Object(lt["a"])(n.prototype),"open",this).call(this);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(tt["a"]),Wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.settings.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.settings.searchSettings"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter","string"===typeof t?t.trim():t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(t){var r=t.selectedSidebar;return[0===e.sidebar.currentState.length&&""!==e.sidebar.filter?n("span",[e._v(' No setting matches your search for "'+e._s(e.sidebar.filter)+'". ')]):e._e(),e._l(e.sidebar.currentState,(function(t,i){return n(t.component,{key:r+"."+i+"."+t.value,tag:"component",staticClass:"mb-6",attrs:{config:t.config,value:t.value},on:{change:t.onChange,closeWindow:e.onClose}})}))]}}]),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}})},Mr=[],Br={name:"PackExplorerWindow",mixins:[ue["a"]],components:{SidebarWindow:Dt},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},Dr=Br,Ir=Object(fe["a"])(Dr,Wr,Mr,!1,null,null,null),Vr=Ir.exports;me()(Ir,{VTextField:qt["a"]});var Ar=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W["b"];Object(o["a"])(this,e),this.state=i,this.onChange=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.value=t;case 2:if("function"!==typeof r.config.onChange){e.next=5;break}return e.next=5,r.config.onChange(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P["a"].set(this,"config",n),P["a"].set(this,"component",t),void 0===this.value&&void 0!==n.default&&(this.value=n.default)}return Object(s["a"])(e,[{key:"value",set:function(e){void 0===this.state[this.config.category]&&P["a"].set(this.state,this.config.category,{}),P["a"].set(this.state[this.config.category],this.config.key,e)},get:function(){var e;return null===(e=this.state[this.config.category])||void 0===e?void 0:e[this.config.key]}}]),e}(),Nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("div",{staticClass:"d-flex"},[n("div",[n("v-btn-toggle",{attrs:{inset:"",dense:"",mandatory:"",label:e.config.description,value:e.value_},on:{change:e.onChange}},e._l(e.config.options,(function(t){return n("v-btn",{key:t,attrs:{color:"sidebarSelection"}},[e._v(" "+e._s(t)+" ")])})),1)],1),n("span",{staticClass:"ml-4 body-1"},[e._v(e._s(e.t(e.config.description)))])])])},Lr=[],$r=(n("c740"),{props:{config:Object,value:String},mixins:[ue["a"]],data:function(){return{value_:void 0}},created:function(){var e=this;this.value_=this.config.options.findIndex((function(t){return t===e.value}))||0},methods:{onChange:function(e){var t=this;this.$nextTick((function(){return t.$emit("change",t.config.options[e])}))}}}),Ur=$r,zr=n("a609"),Hr=Object(fe["a"])(Ur,Nr,Lr,!1,null,null,null),Jr=Hr.exports;me()(Hr,{VBtn:ve["a"],VBtnToggle:zr["a"]});var qr=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,Jr,e)}return Object(s["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)||this.config.options.some((function(t){return t.toLowerCase().includes(e)}))}}]),n}(Ar),Kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("v-switch",{staticStyle:{"margin-top":"0"},attrs:{inset:"",dense:"",label:e.t(e.config.description),value:e.value_},on:{change:e.onChange}})],1)},Gr=[],Qr={props:{value:[Boolean,Promise],config:Object},mixins:[ue["a"]],data:function(){return{value_:void 0}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.value;case 2:e.value_=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(e){var t=this;this.$nextTick((function(){return t.$emit("change",e)}))}}},Xr=Qr,Yr=n("b73d"),Zr=Object(fe["a"])(Xr,Kr,Gr,!1,null,null,null),ei=Zr.exports;me()(Zr,{VSwitch:Yr["a"]});var ti=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,ei,e)}return Object(s["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)}}]),n}(Ar),ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ActionViewer",{attrs:{action:e.config.action}})},ri=[],ii=n("a50c"),ai={props:{config:Object},components:{ActionViewer:ii["a"]},mixins:[ue["a"]]},oi=ai,si=Object(fe["a"])(oi,ni,ri,!1,null,null,null),ci=si.exports,ui=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,ci,{category:"actions",action:{},description:e.description,key:e.id,name:e.name},void 0),r.config=P["a"].observable({category:"actions",action:{}}),r.onChange=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r.config.action=e,r}return Object(s["a"])(n,[{key:"matches",value:function(e){return this.config.action.name.includes(e)||this.config.action.description.includes(e)}}]),n}(Ar),li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("div",{staticClass:"d-flex align-center"},[n("div",[n("v-autocomplete",{attrs:{inset:"",dense:"",mandatory:"",outlined:"",value:e.value_,items:e.config.options,"hide-details":"","menu-props":{maxHeight:220}},on:{change:e.onChange}})],1),n("span",{staticClass:"ml-4 body-1"},[e._v(e._s(e.t(e.config.description)))])])])},di=[],pi={props:{config:Object,value:[String,Promise]},mixins:[ue["a"]],data:function(){return{value_:void 0}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.value;case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=e.config.default;case 5:e.value_=t.t0;case 6:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(e){var t=this;console.log(e),this.$nextTick((function(){return t.$emit("change",e)}))}}},fi=pi,hi=Object(fe["a"])(fi,li,di,!1,null,null,null),mi=hi.exports;me()(hi,{VAutocomplete:En["a"]});var vi=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,mi,e)}return Object(s["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)||this.config.options.some((function(t){return"string"===typeof t?t.toLowerCase().includes(e):t.text.toLowerCase().includes(e)}))}}]),n}(Ar),gi=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"value",get:function(){var e=this;return eo.getApp().then((function(t){return t.projectConfig.get(e.config.key)}))},set:function(e){var t=this;eo.getApp().then((function(n){return n.projectConfig.set(t.config.key,e)}))}}]),n}(vi);function bi(e){return wi.apply(this,arguments)}function wi(){return wi=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.addControl(new qr({category:"appearance",name:"windows.settings.appearance.colorScheme.name",description:"windows.settings.appearance.colorScheme.description",key:"colorScheme",options:["auto","dark","light"],default:"auto",onChange:function(){eo.getApp().then((function(e){return e.themeManager.updateTheme()}))}})),e.t0=t,e.t1=vi,e.t2=function(){eo.getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t3={category:"appearance",name:"windows.settings.appearance.darkTheme.name",description:"windows.settings.appearance.darkTheme.description",key:"darkTheme",get options(){return t.parent.themeManager.getThemes("dark").map((function(e){return{text:e.name,value:e.id}}))},default:"bridge.default.dark",onChange:e.t2},e.t4=new e.t1(e.t3),e.t0.addControl.call(e.t0,e.t4),e.t5=t,e.t6=vi,e.t7=function(){eo.getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t8={category:"appearance",name:"windows.settings.appearance.lightTheme.name",description:"windows.settings.appearance.lightTheme.description",key:"lightTheme",get options(){return t.parent.themeManager.getThemes("light").map((function(e){return{text:e.name,value:e.id}}))},default:"bridge.default.light",onChange:e.t7},e.t9=new e.t6(e.t8),e.t5.addControl.call(e.t5,e.t9),e.t10=t,e.t11=gi,e.t12=function(){eo.getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t13={category:"appearance",name:"windows.settings.appearance.localDarkTheme.name",description:"windows.settings.appearance.localDarkTheme.description",key:"darkTheme",get options(){return t.parent.themeManager.getThemes("dark",!1).map((function(e){return{text:e.name,value:e.id}})).concat([{text:"None",value:"bridge.noSelection"}])},default:"bridge.noSelection",onChange:e.t12},e.t14=new e.t11(e.t13),e.t10.addControl.call(e.t10,e.t14),e.t15=t,e.t16=gi,e.t17=function(){eo.getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t18={category:"appearance",name:"windows.settings.appearance.localLightTheme.name",description:"windows.settings.appearance.localLightTheme.description",key:"lightTheme",get options(){return t.parent.themeManager.getThemes("light",!1).map((function(e){return{text:e.name,value:e.id}})).concat([{text:"None",value:"bridge.noSelection"}])},default:"bridge.noSelection",onChange:e.t17},e.t19=new e.t16(e.t18),e.t15.addControl.call(e.t15,e.t19),t.addControl(new ti({category:"appearance",name:"windows.settings.appearance.sidebarRight.name",description:"windows.settings.appearance.sidebarRight.description",key:"isSidebarRight",default:!1})),t.addControl(new ti({category:"appearance",name:"windows.settings.appearance.shrinkSidebarElements.name",description:"windows.settings.appearance.shrinkSidebarElements.description",key:"smallerSidebarElements",default:!1})),t.addControl(new qr({category:"developers",name:"windows.settings.developer.simulateOS.name",description:"windows.settings.developer.simulateOS.description",key:"simulateOS",options:["auto","win32","darwin","linux"],default:"auto"})),t.addControl(new ti({category:"developers",name:"windows.settings.developer.devMode.name",description:"windows.settings.developer.devMode.description",key:"isDevMode"})),e.t20=t,e.t21=vi,e.t22=Object(ue["b"])(),e.t23=function(e){Object(ue["d"])(e)},e.t24={category:"general",name:"windows.settings.general.language.name",description:"windows.settings.general.language.description",key:"locale",get options(){return Object(ue["c"])().map((function(e){return{text:e[1],value:e[0]}}))},default:e.t22,onChange:e.t23},e.t25=new e.t21(e.t24),e.t20.addControl.call(e.t20,e.t25),t.addControl(new ti({category:"general",name:"windows.settings.general.collaborativeMode.name",description:"windows.settings.general.collaborativeMode.description",key:"fullLightningCacheRefresh",default:!0})),t.addControl(new ti({category:"general",name:"windows.settings.general.packSpider.name",description:"windows.settings.general.packSpider.description",key:"enablePackSpider",default:!0})),t.addControl(new ti({category:"general",name:"windows.settings.general.openLinksInBrowser.name",description:"windows.settings.general.openLinksInBrowser.description",key:"openLinksInBrowser",default:!1})),e.next=41,eo.getApp();case 41:n=e.sent,Object.values(n.actionManager.state).forEach((function(e){t.addControl(new ui(e))}));case 43:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}var ki=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"elements",get:function(){var e=this,t=void 0,n=this._elements.filter((function(n){if("category"===n.type)return!0;var r=e.getState(n.id),i=r.some((function(t){return t.matches(e.filter)}));return!t&&i&&(t=n.id),i}));return t&&this.lastFilter!==this.filter&&0===this.currentState.length&&this.setDefaultSelected(t),this.lastFilter=this.filter,this.sortSidebar(n)}},{key:"currentState",get:function(){var e,t=this;return this.selected?(null!==(e=this.state[this.selected])&&void 0!==e?e:[]).filter((function(e){return e.matches(t.filter)})):[]}}]),n}(ft),yi=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,Vr,!1,!0),r.parent=e,r.sidebar=new ki([]),r.defineWindow(),r}return Object(s["a"])(n,[{key:"setup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.addCategory("general",Object(ue["e"])("windows.settings.general.name"),"mdi-circle-outline"),this.addCategory("appearance",Object(ue["e"])("windows.settings.appearance.name"),"mdi-palette-outline"),this.addCategory("actions",Object(ue["e"])("windows.settings.actions.name"),"mdi-keyboard-outline"),this.addCategory("developers",Object(ue["e"])("windows.settings.developer.name"),"mdi-wrench-outline"),e.next=6,bi(this);case 6:this.sidebar.setDefaultSelected();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addCategory",value:function(e,t,n){void 0===W["b"][e]&&(W["b"][e]={}),this.sidebar.addElement(new pt({color:"primary",text:t,icon:n,id:e}),[])}},{key:"addControl",value:function(e){var t=this.sidebar.state[e.config.category];if(!t)throw new Error("Undefined settings category: ".concat(e.config.category));t.push(e)}},{key:"open",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isVisible){e.next=2;break}return e.abrupt("return");case 2:return this.sidebar.removeElements(),e.next=5,this.setup();case 5:Object(ut["a"])(Object(lt["a"])(n.prototype),"open",this).call(this);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ut["a"])(Object(lt["a"])(n.prototype),"close",this).call(this),e.next=3,eo.getApp();case 3:return t=e.sent,t.windows.loadingWindow.open(),e.next=7,n.saveSettings();case 7:t.windows.loadingWindow.close();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"saveSettings",value:function(){return new Promise((function(e){eo.ready.once(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.writeJSON("data/settings.json",W["b"]);case 2:e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}},{key:"loadSettings",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=W["a"],e.next=4,t.fileSystem.readJSON("data/settings.json");case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=10;break;case 8:e.prev=8,e.t2=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(tt["a"]),xi=function e(t){Object(o["a"])(this,e),this.app=t,this.projectChooser=new Er,this.packExplorer=new br,this.createProject=new Gn,this.loadingWindow=new un,this.filePicker=new nr,this.createPreset=new kn,this.extensionStore=new en,this.browserUnsupported=new ct,this.settings=new yi(t)},ji=n("c4e3a"),Oi=n.n(ji),Si=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"setup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.windows.loadingWindow.open(),e.next=3,t.fileSystem.fired;case 3:return e.next=5,this.isUpdateAvailable(t.fileSystem);case 5:if(!e.sent){e.next=10;break}return console.log("Downloading new data..."),e.next=9,this.load(t.fileSystem);case 9:console.log("Data updated!");case 10:this.dispatch(),t.windows.loadingWindow.close();case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isUpdateAvailable",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/editor/").then((function(e){return e.text()}));case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:return e.prev=9,e.next=12,t.readFile("data/packages/version.txt").then((function(e){return e.text()}));case 12:r=e.sent,e.next=18;break;case 15:return e.prev=15,e.t1=e["catch"](9),e.abrupt("return",!0);case 18:return e.abrupt("return",Object(te["compare"])(n,r,">"));case 19:case"end":return e.stop()}}),e,null,[[0,6],[9,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"load",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.unlink("data/packages");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.next=9,fetch("/editor/data/package.zip").then((function(e){return e.arrayBuffer()})).then((function(e){return Oi.a.loadAsync(e)}));case 9:return n=e.sent,r=[],n.forEach((function(e,n){r.push(new Promise(function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(i){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!n.dir){r.next=2;break}return r.abrupt("return",i());case 2:return r.next=4,t.mkdir(Object(gn["dirname"])("data/packages/".concat(e)),{recursive:!0});case 4:return r.t0=t,r.t1="data/packages/".concat(e),r.next=8,n.async("blob");case 8:return r.t2=r.sent,r.next=11,r.t0.writeFile.call(r.t0,r.t1,r.t2);case 11:i();case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()))})),e.next=14,Promise.all(r);case 14:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(F["a"]),Ci=function(){function e(){var t=this;Object(o["a"])(this,e),eo.ready.once((function(e){return t.fileSystem=e.fileSystem})),eo.eventSystem.on("projectChanged",(function(){t.data=void 0}))}return Object(s["a"])(e,[{key:"loadData",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:return t=e.sent,e.prev=3,e.next=6,this.fileSystem.readJSON("projects/".concat(t.selectedProject,"/bridge/config.json"));case 6:this.data=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),this.data={};case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getConfig",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.data){e.next=3;break}return e.next=3,this.loadData();case 3:return e.abrupt("return",this.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.data){e.next=3;break}return e.next=3,this.loadData();case 3:return e.abrupt("return",this.data[t]);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:if(r=e.sent,this.data){e.next=6;break}return e.next=6,this.loadData();case 6:return this.data[t]=n,e.next=9,this.fileSystem.writeJSON("projects/".concat(r.selectedProject,"/bridge/config.json"),this.data,!0);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),_i=n("8d8a"),Pi=n("9803"),Ri=["Control","Alt","Meta"],Ti=function(){function e(){var t=this;Object(o["a"])(this,e),this.state=P["a"].observable({}),this.lastTimeStamp=0,document.addEventListener("keydown",(function(e){var n=e.key,r=e.ctrlKey,i=e.altKey,a=e.metaKey,o=e.shiftKey;if(!Ri.includes(n)){var s=Object(Pi["b"])({key:n,ctrlKey:"darwin"===Object(sr["a"])()?a:r,altKey:i,metaKey:"darwin"===Object(sr["a"])()?r:a,shiftKey:o}),c=t.state[s];if(c&&t.lastTimeStamp+100<Date.now()){if(c.prevent(e.target))return;t.lastTimeStamp=Date.now(),e.preventDefault(),e.stopImmediatePropagation(),c.trigger()}}}))}return Object(s["a"])(e,[{key:"create",value:function(e){var t=new _i["a"](this,e),n=t.toStrKeyCode();if(this.state[n])throw new Error('KeyBinding with keyCode "'.concat(n,'" already exists!'));return P["a"].set(this.state,n,t),t}},{key:"disposeKeyBinding",value:function(e){P["a"].delete(this.state,e)}}]),e}(),Fi=n("3490"),Ei=function(){function e(){Object(o["a"])(this,e),this.state=P["a"].observable({})}return Object(s["a"])(e,[{key:"addCategory",value:function(e){P["a"].set(this.state,e.id,e)}},{key:"disposeCategory",value:function(e){P["a"].delete(this.state,e.id)}}]),e}(),Wi=n("25d4"),Mi=(n("8a79"),function(e){var t=e.disposables;return{create:function(e){var n=De(e);return t.push(n),n},getSelected:function(){throw new Error("This function no longer works with bridge. v2")},onChange:function(){throw new Error("This function no longer works with bridge. v2")},select:Pe["b"]}}),Bi=function(e){var t=e.uiStore;return Object(z["a"])(Object(z["a"])({},null===t||void 0===t?void 0:t.UI),{},{BuiltIn:{BaseWindow:le["a"],SidebarWindow:Dt}})},Di=function(e){var t=e.disposables;return{create:function(e){var n=Object(c["a"])(e);return t.push(n),n},createError:function(e){var n=l(e);return t.push(n),n}}},Ii=(n("7039"),n("3410"),n("8468")),Vi=function(e){return Object(Ii["a"])(e),new Promise((function(e){eo.ready.once((function(t){var n,r={},a=Object(i["a"])(Object.getOwnPropertyNames(Object.getPrototypeOf(t.fileSystem)));try{for(a.s();!(n=a.n()).done;){var o=n.value;"constructor"!==o&&"function"===typeof t.fileSystem[o]&&(r[o]=t.fileSystem[o].bind(t.fileSystem))}}catch(s){a.e(s)}finally{a.f()}e(r)}))}))},Ai=n("6396"),Ni=function(e){return Object(Ii["a"])(e),{APP_VERSION:Ai["a"],getCurrentBP:function(){return"projects/".concat(eo.instance.selectedProject,"/BP")},getCurrentRP:function(){return"projects/".concat(eo.instance.selectedProject,"/RP")},getCurrentProject:function(){return"projects/".concat(eo.instance.selectedProject)},getProjectPrefix:function(){return eo.getApp().then((function(e){return e.projectConfig.get("prefix")}))},getProjectTargetVersion:function(){return eo.getApp().then((function(e){return e.projectConfig.get("targetVersion")}))},getProjectAuthor:function(){return eo.getApp().then((function(e){return e.projectConfig.get("author")}))},getContext:function(){}}},Li=function(e){return Object(Ii["a"])(e),{openExternal:function(e){return window.open(e,"_blank")}}},$i=function(e){e.disposables;throw new Error("Module not yet supported on bridge. v2")},Ui=function(){return bn.a},zi=function(e){return Object(Ii["a"])(e),{fetchDefinition:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(i){eo.ready.once((function(o){return o.packIndexer.once(Object(a["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Promise.all(t.map((function(t){return o.packIndexer.service.find(e,t,[n],r)})));case 2:s=a.sent,i(s.flat());case 4:case"end":return a.stop()}}),a)}))))}))}))}}},Hi=function(e){return Object(Ii["a"])(e),{BaseWindow:tt["a"],createWindow:function(e,t){return Object(oe["b"])(e,t)},createInformationWindow:function(e,t){return Object(u["c"])(e,t)},createInputWindow:function(e,t,n,r,i){return Object(u["d"])(e,t,n,r,i)},createDropdownWindow:function(e,t,n,r,i){return Object(u["b"])(e,t,n,r,i)},createConfirmWindow:function(e,t,n,r,i){return Object(u["a"])(e,t,n,r,i)}}},Ji=void 0,qi=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(Ii["a"])(t),e.prev=1,void 0!==Ji){e.next=4;break}return e.abrupt("return",new Promise((function(e){eo.ready.once(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.readJSON("projects/".concat(n.selectedProject,"/globals.json"));case 2:Ji=t.sent,e(Ji);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return",{});case 9:return e.abrupt("return",Object(z["a"])({},Ji));case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Ki=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disposables,e.t0=Ne,e.next=4,eo.getApp();case 4:return e.t1=e.sent.actionManager,e.t2=function(e){eo.toolbar.addCategory(e),n.push(e)},e.abrupt("return",{ToolbarCategory:e.t0,actionManager:e.t1,addCategory:e.t2});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gi=function(){return{compare:te["compare"]}},Qi=new Map([["@bridge/ui",Bi],["@bridge/sidebar",Mi],["@bridge/notification",Di],["@bridge/fs",Vi],["@bridge/path",Ui],["@bridge/env",Ni],["@bridge/globals",qi],["@bridge/utils",Li],["@bridge/file-importer",$i],["@bridge/fetch-definition",zi],["@bridge/windows",Hi],["@bridge/toolbar",Ki],["@bridge/compare-versions",Gi]]);new Map([["@bridge/notification",Di],["@bridge/fs",Vi],["@bridge/path",Ui],["@bridge/env",Ni],["@bridge/globals",qi],["@bridge/utils",Li],["@bridge/fetch-definition",zi],["@bridge/compare-versions",Gi]]);function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qi;return function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(i){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=n.get(i),!a){r.next=5;break}return r.next=4,a({uiStore:t,disposables:e});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Xi(e,t)}function Zi(e,t,n){return ea.apply(this,arguments)}function ea(){return ea=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=!0,a=!1,e.prev=2,s=Object(M["a"])(t.values());case 4:return e.next=6,s.next();case 6:return c=e.sent,i=c.done,e.next=10,c.value;case 10:if(u=e.sent,i){e.next=33;break}if(l=u,"directory"!==l.kind){e.next=18;break}return e.next=16,Zi(l,n,r);case 16:e.next=30;break;case 18:if("file"!==l.kind){e.next=30;break}return e.next=21,l.getFile();case 21:return d=e.sent,e.t0=ta,e.next=25,d.text();case 25:return e.t1=e.sent,e.t2=n,e.t3=r,e.next=30,(0,e.t0)(e.t1,e.t2,e.t3);case 30:i=!0,e.next=4;break;case 33:e.next=39;break;case 35:e.prev=35,e.t4=e["catch"](2),a=!0,o=e.t4;case 39:if(e.prev=39,e.prev=40,i||null==s.return){e.next=44;break}return e.next=44,s.return();case 44:if(e.prev=44,!a){e.next=47;break}throw o;case 47:return e.finish(44);case 48:return e.finish(39);case 49:case"end":return e.stop()}}),e,null,[[2,35,39,49],[40,,44,48]])}))),ea.apply(this,arguments)}function ta(e,t,n){return X(e,Yi(n,t),["require"])}function na(e){var t=document.createElement("style");return t.innerHTML=e,document.head.appendChild(t),{dispose:function(){document.head.contains(t)&&document.head.removeChild(t)}}}var ra=n("5ce8"),ia=n("dac2");function aa(e,t,n){return oa.apply(this,arguments)}function oa(){return oa=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:"ui",a=[],e.prev=2,e.next=5,t.readdir(i,{withFileTypes:!0});case 5:a=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:return e.next=12,Promise.all(a.map((function(e){return"file"===e.kind?sa(t,"".concat(i,"/").concat(e.name),n,r):aa(t,n,r,"".concat(i,"/").concat(e.name))})));case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),oa.apply(this,arguments)}function sa(e,t,n,r){return ca.apply(this,arguments)}function ca(){return ca=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r,i){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(".vue"===Object(gn["extname"])(n)){e.next=3;break}return l(new Error('NOT A VUE FILE: Provided UI file "'.concat(Object(gn["basename"])(n),'" is not a vue file!'))),e.abrupt("return");case 3:o=new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(a,o){var s,c,u,d,p,f,h,m,v,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=ra["parseComponent"],e.next=3,t.readFile(n);case 3:return e.next=5,e.sent.text();case 5:if(e.t1=e.sent,p=(0,e.t0)(e.t1),f=p.template,h=p.script,m=p.styles,v=p.errors,!(v.length>0)){e.next=15;break}return v.forEach((function(e){return l(e)})),e.abrupt("return",o(v[0]));case 15:return e.t2=z["a"],e.t3=z["a"],e.t4={name:Object(gn["basename"])(n)},e.next=20,ta(null!==(s=null===h||void 0===h||null===(c=h.content)||void 0===c?void 0:c.replace("export default","return"))&&void 0!==s?s:"",r,i);case 20:e.t5=e.sent,e.t6=(0,e.t3)(e.t4,e.t5),e.t7=P["a"].compile(null!==(u=null===f||void 0===f?void 0:f.content)&&void 0!==u?u:'<p color="red">NO TEMPLATE DEFINED</p>'),g=(0,e.t2)(e.t6,e.t7),g.components=Object.assign(null!==(d=g.components)&&void 0!==d?d:{},ia),m.forEach((function(e){return i.push(na(e.content))})),a(g);case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),r.set(Object(gn["relative"])("ui",n).split(/\\|\//g),(function(){return o}));case 5:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function ua(){var e={};Object(ee["a"])();return{get UI(){return e},set:function(t,n){var r=e;while(t.length>1){var i=t.shift();void 0===r[i]&&(r[i]={}),r=r[i]}var a=t.shift();r[Object(gn["basename"])(a,Object(gn["extname"])(a))]=n},dispose:function(){e=null,null}}}var la,da=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(o["a"])(this,e),this.parent=t,this.manifest=n,this.baseDirectory=r,this._isGlobal=i,this._isActive=!1,this.disposables=[],this.uiStore=ua(),this.fileSystem=new Z(this.baseDirectory)}return Object(s["a"])(e,[{key:"activate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,o,s,c,u,d,p,f,h,m,v=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._isActive=!0,e.next=3,eo.getApp();case 3:return u=e.sent,e.next=6,u.fileSystem.baseDirectory.resolve(this.baseDirectory);case 6:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=10;break}e.t0=void 0!==t;case 10:if(!e.t0){e.next=14;break}e.t2=t,e.next=15;break;case 14:e.t2=[];case 15:d=e.t2.join("/"),p=Object(i["a"])(null!==(c=this.manifest.dependencies)&&void 0!==c?c:[]),e.prev=17,p.s();case 19:if((f=p.n()).done){e.next=28;break}return h=f.value,e.next=23,this.parent.activate(h);case 23:if(e.sent){e.next=26;break}return l(new Error('Failed to activate extension "'.concat(this.manifest.name,'": Failed to load one of its dependencies'))),e.abrupt("return");case 26:e.next=19;break;case 28:e.next=33;break;case 30:e.prev=30,e.t3=e["catch"](17),p.e(e.t3);case 33:return e.prev=33,p.f(),e.finish(33);case 36:return null===(n=Object.entries(null!==(o=null===(s=this.manifest.compiler)||void 0===s?void 0:s.plugins)&&void 0!==o?o:{}))||void 0===n||n.forEach((function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];return v.disposables.push(u.compiler.addCompilerPlugin(n,"".concat(d,"/").concat(i)))})),this.disposables.push(u.windows.createPreset.addPresets("".concat(d,"/presets"))),e.prev=38,e.t4=B,e.next=42,this.baseDirectory.getDirectoryHandle("themes");case 42:return e.t5=e.sent,e.t6=function(e){return u.themeManager.loadTheme(e,v.isGlobal,v.disposables)},e.next=46,(0,e.t4)(e.t5,e.t6);case 46:e.next=50;break;case 48:e.prev=48,e.t7=e["catch"](38);case 50:return e.prev=50,e.next=53,this.baseDirectory.getDirectoryHandle("scripts");case 53:m=e.sent,e.next=58;break;case 56:e.prev=56,e.t8=e["catch"](50);case 58:return e.next=60,Promise.all([aa(this.fileSystem,this.uiStore,this.disposables).then(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!m){e.next=6;break}return e.next=3,Zi(m,v.uiStore,v.disposables);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)}))))]);case 60:case"end":return e.stop()}}),e,this,[[17,30,33,36],[38,48],[50,56]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){this.disposables.forEach((function(e){return e.dispose()})),this._isActive=!1}},{key:"forStore",value:function(e){var t=new Zt(e,this.manifest);return t.setInstalled(),t}},{key:"isActive",get:function(){return this._isActive}},{key:"version",get:function(){return this.manifest.version}},{key:"isGlobal",get:function(){return this._isGlobal}}]),e}(),pa=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,2),e.globalExtensions=new Map,e.localExtensions=new Map,e._loadedInstalledExtensions=new F["a"](2),e}return Object(s["a"])(n,[{key:"getInstalledExtensions",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadedInstalledExtensions;case 2:return e.abrupt("return",new Map(this.extensions.entries()));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadExtensions",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,o,s,c,u,l,d,p,f,h,m,v,g=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=g.length>1&&void 0!==g[1]&&g[1],a=[],o=!0,s=!1,e.prev=4,u=Object(M["a"])(t.values());case 6:return e.next=8,u.next();case 8:return l=e.sent,o=l.done,e.next=12,l.value;case 12:if(d=e.sent,o){e.next=21;break}if(p=d,".DS_Store"!==p.name){e.next=17;break}return e.abrupt("continue",18);case 17:a.push(this.loadExtension(t,p,!1,n));case 18:o=!0,e.next=6;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](4),s=!0,c=e.t0;case 27:if(e.prev=27,e.prev=28,o||null==u.return){e.next=32;break}return e.next=32,u.return();case 32:if(e.prev=32,!s){e.next=35;break}throw c;case 35:return e.finish(32);case 36:return e.finish(27);case 37:return e.next=39,Promise.all(a);case 39:this._loadedInstalledExtensions.dispatch(),f=Object(i["a"])(n?this.globalExtensions:this.localExtensions),e.prev=41,f.s();case 43:if((h=f.n()).done){e.next=50;break}if(m=Object(r["a"])(h.value,2),m[0],v=m[1],v.isActive){e.next=48;break}return e.next=48,v.activate();case 48:e.next=43;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e["catch"](41),f.e(e.t1);case 55:return e.prev=55,f.f(),e.finish(55);case 58:this.dispatch();case 59:case"end":return e.stop()}}),e,this,[[4,23,27,37],[28,,32,36],[41,52,55,58]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadExtension",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]&&o[2],i=o.length>3&&void 0!==o[3]&&o[3],"file"!==n.kind||!n.name.endsWith(".zip")){e.next=16;break}return e.t0=this,e.t1=n,e.next=7,t.getDirectoryHandle(n.name.replace(".zip",""),{create:!0});case 7:return e.t2=e.sent,e.t3=i,e.next=11,e.t0.unzipExtension.call(e.t0,e.t1,e.t2,e.t3);case 11:return a=e.sent,e.next=14,t.removeEntry(n.name);case 14:e.next=20;break;case 16:if("directory"!==n.kind){e.next=20;break}return e.next=19,this.loadManifest(n,i);case 19:a=e.sent;case 20:if(!r||!a){e.next=23;break}return e.next=23,a.activate();case 23:return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unzipExtension",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new Z(n),e.next=3,t.getFile();case 3:return o=e.sent,e.t0=Oi.a,e.next=7,o.arrayBuffer();case 7:return e.t1=e.sent,e.next=10,e.t0.loadAsync.call(e.t0,e.t1);case 10:return s=e.sent,c=[],s.forEach((function(e,t){c.push(new Promise(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.dir){n.next=2;break}return n.abrupt("return",r());case 2:if("."===Object(gn["dirname"])(e)){n.next=5;break}return n.next=5,i.mkdir(Object(gn["dirname"])(e),{recursive:!0});case 5:return n.t0=i,n.t1=e,n.next=9,t.async("blob");case 9:return n.t2=n.sent,n.next=12,n.t0.writeFile.call(n.t0,n.t1,n.t2).catch((function(){return console.log(e)}));case 12:r();case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))})),e.next=15,Promise.all(c);case 15:return e.next=17,this.loadManifest(n,r);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"loadManifest",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getFileHandle("manifest.json");case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return");case 9:return e.next=11,r.getFile();case 11:return i=e.sent,e.next=14,i.text().then((function(e){return JSON.parse(e)}));case 14:if(a=e.sent,!a.id){e.next=21;break}return o=new da(this,a,t,n),(n?this.globalExtensions:this.localExtensions).set(a.id,o),e.abrupt("return",o);case 21:l(new Error('Failed to load extension "'.concat(null!==(s=a.name)&&void 0!==s?s:t.name,'": Invalid extension ID')));case 22:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"activate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.extensions.get(t);case 2:if(n=e.sent,!n){e.next=10;break}if(n.isActive){e.next=7;break}return e.next=7,n.activate();case 7:return e.abrupt("return",!0);case 10:return l(new Error('Failed to activate extension with ID "'.concat(t,'": Extension not found'))),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactivateAllLocal",value:function(){var e,t=Object(i["a"])(this.localExtensions);try{for(t.s();!(e=t.n()).done;){var n=Object(r["a"])(e.value,2),a=n[0],o=n[1];o.deactivate(),this.localExtensions.delete(a)}}catch(s){t.e(s)}finally{t.f()}}},{key:"extensions",get:function(){return new Map([].concat(Object(U["a"])(this.globalExtensions.entries()),Object(U["a"])(this.localExtensions.entries())))}},{key:"loadedInstalledExtensions",get:function(){var e=this;return new Promise((function(t){return e._loadedInstalledExtensions.once(t)}))}}]),n}(F["a"]),fa=function(){function e(){Object(o["a"])(this,e),this.titleTag=document.head.getElementsByTagName("title")[0]}return Object(s["a"])(e,[{key:"setProject",value:function(e){this.titleTag.innerText="".concat(e," - bridge.")}}]),e}(),ha=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this),window.addEventListener("resize",h()((function(){return e.dispatch([window.innerWidth,window.innerHeight])}),100)),e}return n}(R["a"]),ma=n("6c6e"),va=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,{message:"sidebar.notifications.installApp.message",color:"primary",icon:"mdi-download",textColor:"white",isVisible:!1}),window.addEventListener("beforeinstallprompt",(function(t){return e.onInstallPrompt(t)})),e.addClickHandler((function(){return e.prompt()})),e}return Object(s["a"])(n,[{key:"onInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.show()}},{key:"prompt",value:function(){var e=this;this.installEvent?(this.installEvent.prompt(),this.installEvent.userChoice.then((function(t){"accepted"===t.outcome&&e.dispose()}))):this.dispose()}}]),n}(ma["a"]),ga=(n("b64b"),n("257e")),ba=n("ed38"),wa=n("c3ee"),ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"monacoContainer",staticStyle:{height:"calc(100% - 48px)",width:"100%"}})},ya=[],xa={name:"TextTab",props:{tab:Object},computed:{isDarkMode:function(){return this.$vuetify.theme.dark},fontSize:function(){return"14px"},fontFamily:function(){return"14px"}},mounted:function(){la||(m["languages"].typescript.javascriptDefaults.setCompilerOptions({target:m["languages"].typescript.ScriptTarget.ESNext,allowNonTsExtensions:!0,noLib:!0}),la=m["editor"].create(this.$refs.monacoContainer,{theme:"bridgeMonacoDefault",roundedSelection:!1,autoIndent:"full",fontSize:this.fontSize,tabSize:4}),this.tab.receiveEditorInstance(la),la.layout())},watch:{tab:function(){this.tab.receiveEditorInstance(la)},fontSize:function(e){this.monacoEditor.updateOptions({fontSize:this.fontSize})},fontFamily:function(e){this.monacoEditor.updateOptions({fontFamily:this.fontFamily})}}},ja=xa,Oa=(n("0b51"),Object(fe["a"])(ja,ka,ya,!1,null,null,null)),Sa=Oa.exports,Ca=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.component=Sa,e.disposables=[],e}return Object(s["a"])(n,[{key:"setIsUnsaved",value:function(e){Object(ut["a"])(Object(lt["a"])(n.prototype),"setIsUnsaved",this).call(this,e)}},{key:"receiveEditorInstance",value:function(e){this.editorInstance||(this.editorInstance=e,this.editorInstance.layout())}},{key:"onActivate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:if(r=e.sent,null===(t=this.editorInstance)||void 0===t||t.focus(),void 0!==this.editorModel){e.next=15;break}return e.next=7,r.fileSystem.readFile(this.path);case 7:return i=e.sent,e.next=10,i.text();case 10:a=e.sent,this.editorModel=m["editor"].createModel(a,void 0,m["Uri"].file(this.path)),this.loadEditor(),e.next=16;break;case 15:this.loadEditor();case 16:this.disposables.push(r.windowResize.on((function(){var e;return null===(e=o.editorInstance)||void 0===e?void 0:e.layout()}))),this.disposables.push(null===(n=this.editorModel)||void 0===n?void 0:n.onDidChangeContent((function(e){o.isUnsaved=!0})));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){var e,t;this.editorViewState=null!==(e=null===(t=this.editorInstance)||void 0===t?void 0:t.saveViewState())&&void 0!==e?e:void 0,this.disposables.forEach((function(e){return null===e||void 0===e?void 0:e.dispose()}))}},{key:"onDestroy",value:function(){var e;null===(e=this.editorModel)||void 0===e||e.dispose()}},{key:"loadEditor",value:function(){var e,t;this.editorModel&&(null===(e=this.editorInstance)||void 0===e||e.setModel(this.editorModel)),this.editorViewState&&(null===(t=this.editorInstance)||void 0===t||t.restoreViewState(this.editorViewState))}},{key:"save",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getApp();case 2:if(t=e.sent,this.isUnsaved=!1,!this.editorModel){e.next=7;break}return e.next=7,t.fileSystem.writeFile(this.path,this.editorModel.getValue());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"paste",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==(t=this.editorInstance)&&void 0!==t){e.next=4;break}e.next=10;break;case 4:return e.t0=t,e.next=7,navigator.clipboard.readText();case 7:e.t1=e.sent,e.t2={text:e.t1},e.t0.trigger.call(e.t0,"keyboard","paste",e.t2);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(wa["a"]);function _a(e){return new Promise((function(t,n){var r=new FileReader;eo.ready.once(function(){var i=Object(a["a"])(regeneratorRuntime.mark((function i(a){var o,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,a.fileSystem.getFileHandle(e);case 3:return o=i.sent,i.next=6,o.getFile();case 6:s=i.sent,r.addEventListener("load",(function(){t(r.result)})),r.addEventListener("error",n),r.readAsDataURL(s),i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](0),n('File does not exist: "'.concat(e,'"'));case 15:case"end":return i.stop()}}),i,null,[[0,12]])})));return function(e){return i.apply(this,arguments)}}())}))}var Pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center justify-center",staticStyle:{height:"calc(100% - 48px)",width:"100%"}},[n("img",{staticClass:"img-preview",attrs:{src:e.tab.dataUrl,alt:e.tab.path}})])},Ra=[],Ta={name:"ImageTab",props:{tab:Object}},Fa=Ta,Ea=(n("f307"),Object(fe["a"])(Fa,Pa,Ra,!1,null,"41d00092",null)),Wa=Ea.exports,Ma=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.component=Wa,e.dataUrl=void 0,e}return Object(s["a"])(n,[{key:"onActivate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_a(this.path);case 2:this.dataUrl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){}},{key:"icon",get:function(){return"mdi-file-image-outline"}},{key:"iconColor",get:function(){return"primary"}}],[{key:"is",value:function(e){return e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")}}]),n}(wa["a"]),Ba=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.unsavedFile.title",isVisible:e.isVisible,isPersistent:!1,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:130,hasCloseButton:!1},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t("windows.unsavedFile.description")))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{on:{click:e.onCancel}},[n("span",[e._v(e._s(e.t("windows.unsavedFile.cancel")))])]),n("v-btn",{attrs:{color:"error"},on:{click:e.onNoSave}},[n("span",[e._v(e._s(e.t("windows.unsavedFile.noSave")))])]),n("v-btn",{attrs:{color:"primary"},on:{click:e.onSave}},[n("span",[e._v(e._s(e.t("windows.unsavedFile.save")))])])]},proxy:!0}],null,!1,1755326251)}):e._e()},Da=[],Ia={name:"Confirm",mixins:[ue["a"]],components:{BaseWindow:le["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onCancel:function(){this.currentWindow.cancel()},onNoSave:function(){this.currentWindow.noSave()},onSave:function(){this.currentWindow.save()}}},Va=Ia,Aa=Object(fe["a"])(Va,Ba,Da,!1,null,null,null),Na=Aa.exports;me()(Aa,{VBtn:ve["a"],VSpacer:be["a"]});var La=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,Na,!0,!1),r.tab=e,r.defineWindow(),r.open(),r}return Object(s["a"])(n,[{key:"noSave",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.close(),e.next=3,eo.getApp();case 3:return n=e.sent,e.next=6,null===(t=n.tabSystem)||void 0===t?void 0:t.close(this.tab,!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.close(),e.next=3,eo.getApp();case 3:return r=e.sent,e.next=6,null===(t=r.tabSystem)||void 0===t?void 0:t.save(this.tab);case 6:return e.next=8,null===(n=r.tabSystem)||void 0===n?void 0:n.close(this.tab,!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.close();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(tt["a"]),$a=function(){function e(t){Object(o["a"])(this,e),this.project=t,this.tabs=[],this._selectedTab=void 0,this.tabTypes=[Ma,Ca]}return Object(s["a"])(e,[{key:"open",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Object(i["a"])(this.tabs);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.isFor(e))return n?a.select():a}}catch(s){r.e(s)}finally{r.f()}var o=this.getTabFor(e);return this.add(o),n?o.select():o}},{key:"getTabFor",value:function(e){var t,n=Object(i["a"])(this.tabTypes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.is(e))return new r(this,e)}}catch(a){n.e(a)}finally{n.f()}return new Ca(this,e)}},{key:"add",value:function(e){return this.tabs=[].concat(Object(U["a"])(this.tabs),[e]),e}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedTab,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&(t&&e.isUnsaved?new La(e):(e.onDeactivate(),this.tabs=this.tabs.filter((function(t){return t!==e})),e.onDestroy(),this._selectedTab===e&&this.select(this.tabs[0])))}},{key:"closeByPath",value:function(e){var t=this.tabs.find((function(t){return t.isFor(e)}));t&&this.close(t)}},{key:"select",value:function(e){var t,n=this;null===(t=this._selectedTab)||void 0===t||t.onDeactivate(),this._selectedTab=e,e&&eo.eventSystem.dispatch("currentTabSwitched",e.getPath().replace("projects/".concat(this.project.name,"/"),"")),P["a"].nextTick((function(){var e;return null===(e=n._selectedTab)||void 0===e?void 0:e.onActivate()}))}},{key:"save",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:this.selectedTab,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,eo.getApp();case 5:return n=e.sent,n.windows.loadingWindow.open(),e.next=9,t.save();case 9:return e.next=11,n.packIndexer.fired;case 11:return e.next=13,n.compiler.fired;case 13:return e.next=15,n.packIndexer.updateFile(t.getPath().replace("projects/".concat(this.project.name,"/"),""));case 15:return e.next=17,n.compiler.updateFile("dev","default.json",t.getPath().replace("projects/".concat(this.project.name,"/"),""));case 17:return e.next=19,this.project.recentFiles.add({path:t.getPath(),name:t.name,color:t.iconColor,icon:t.icon});case 19:t===this.selectedTab&&eo.eventSystem.dispatch("refreshCurrentContext",t.getPath().replace("projects/".concat(this.project.name,"/"),"")),n.windows.loadingWindow.close();case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){var e;null===(e=this.selectedTab)||void 0===e||e.onDeactivate()}},{key:"activate",value:function(){var e;null===(e=this.selectedTab)||void 0===e||e.onActivate()}},{key:"getTab",value:function(e){return this.tabs.find((function(t){return t.isFor(e)}))}},{key:"selectedTab",get:function(){return this._selectedTab}},{key:"currentComponent",get:function(){var e,t;return null!==(e=null===(t=this._selectedTab)||void 0===t?void 0:t.component)&&void 0!==e?e:ba["a"]}},{key:"hasUnsavedTabs",get:function(){return this.tabs.some((function(e){return e.isUnsaved}))}}]),e}(),Ua=(n("bf19"),n("d28b"),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1?arguments[1]:void 0;Object(o["a"])(this,e),this.maxSize=t,this.array=[];var r,a=Object(i["a"])(null!==n&&void 0!==n?n:[]);try{for(a.s();!(r=a.n()).done;){var s=r.value;this.add(s)}}catch(c){a.e(c)}finally{a.f()}}return Object(s["a"])(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isEquals.bind(this),n=this.array.findIndex((function(n){return t(n,e)}));return n>-1?(this.array.splice(n,1),this.array.unshift(e),this):(this.array.length>=this.maxSize&&this.array.pop(),this.array.unshift(e),this)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isEquals.bind(this),n=this.array.findIndex((function(n){return t(n,e)}));return n>-1&&this.array.splice(n,1),this}},{key:"isEquals",value:function(e,t){return e===t}},{key:"toJSON",value:function(){return JSON.stringify(this.array)}},{key:Symbol.iterator,value:function(){return this.array.values()}},{key:"size",get:function(){return this.maxSize}},{key:"elementCount",get:function(){return this.array.length}},{key:"elements",get:function(){return Object(U["a"])(this.array)}}]),e}()),za=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e,r,i){var a;return Object(o["a"])(this,n),a=t.call(this),a.app=e,a.savePath=i,P["a"].set(Object(ga["a"])(a),"queue",new Ua(r)),a.setup(),a}return Object(s["a"])(n,[{key:"setup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.fired;case 2:return t=[],e.prev=3,e.next=6,this.app.fileSystem.readJSON(this.savePath);case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](3);case 11:t.forEach((function(e){return n.queue.add(e)})),this.dispatch(this.queue);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isEquals",value:function(e,t){return e===t}},{key:"add",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return this.queue.add(t,this.isEquals.bind(this)),e.next=5,this.saveQueue();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return this.queue.remove(t,this.isEquals.bind(this)),e.next=5,this.saveQueue();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveQueue",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.mkdir(Object(gn["dirname"])(this.savePath),{recursive:!0});case 2:return e.next=4,this.app.fileSystem.writeFile(this.savePath,this.queue.toJSON());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"elements",get:function(){return this.queue.elements}}]),n}(F["a"]),Ha=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e,r){return Object(o["a"])(this,n),t.call(this,e,5,r)}return Object(s["a"])(n,[{key:"isEquals",value:function(e,t){return e.path===t.path}}]),n}(za);function Ja(e){return qa.apply(this,arguments)}function qa(){return qa=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_a("".concat(t,"/BP/pack_icon.png"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0);case 8:return e.prev=8,e.next=11,_a("".concat(t,"/RP/pack_icon.png"));case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t1=e["catch"](8);case 16:return e.prev=16,e.next=19,_a("".concat(t,"/SP/pack_icon.png"));case 19:return e.abrupt("return",e.sent);case 22:e.prev=22,e.t2=e["catch"](16);case 24:case"end":return e.stop()}}),e,null,[[0,6],[8,14],[16,22]])}))),qa.apply(this,arguments)}function Ka(e,t,n){return e.fileSystem.readJSON("projects/".concat(t,"/").concat(n,"/manifest.json"))}function Ga(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,s,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fileSystem.readdir("projects/".concat(n),{withFileTypes:!0});case 2:r=e.sent,a=[],o=Object(i["a"])(r),e.prev=5,o.s();case 7:if((s=o.n()).done){e.next=26;break}if(u=s.value,"directory"===u.kind){e.next=11;break}return e.abrupt("continue",24);case 11:if(l=et["a"].get("projects/".concat(n,"/").concat(u.name)),l){e.next=14;break}return e.abrupt("continue",24);case 14:return d=void 0,e.prev=15,e.next=18,Ka(t,n,u.name);case 18:d=e.sent,e.next=23;break;case 21:e.prev=21,e.t0=e["catch"](15);case 23:a.push(Object(z["a"])(Object(z["a"])({},l),{},{version:null!==(c=d.header.version)&&void 0!==c?c:[1,0,0]}));case 24:e.next=7;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](5),o.e(e.t1);case 31:return e.prev=31,o.f(),e.finish(31);case 34:return e.abrupt("return",a);case 35:case"end":return e.stop()}}),e,null,[[5,28,31,34],[15,21]])}))),Qa.apply(this,arguments)}var Xa=function(){function e(t,n){Object(o["a"])(this,e),this.app=t,this._name=n,this.tabSystem=new $a(this),P["a"].set(this,"recentFiles",new Ha(t,"projects/".concat(this.name,"/bridge/recentFiles.json")))}return Object(s["a"])(e,[{key:"loadProject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.app.fileSystem.readJSON("projects/".concat(this.name,"/bridge/config.json"));case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t={};case 9:return e.t1=z["a"],e.t2=Object(z["a"])({},t),e.t3={},e.t4=this.name,e.t5=this.name,e.next=16,Ja("projects/".concat(this.name));case 16:return e.t6=e.sent,e.next=19,Ga(this.app,this.name);case 19:e.t7=e.sent,e.t8={path:e.t4,name:e.t5,imgSrc:e.t6,contains:e.t7},this._projectData=(0,e.t1)(e.t2,e.t3,e.t8);case 22:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"projectData",get:function(){return this._projectData}},{key:"name",get:function(){return this._name}}]),e}(),Ya=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e,r){return Object(o["a"])(this,n),t.call(this,e,5,r)}return Object(s["a"])(n,[{key:"isEquals",value:function(e,t){return e.path===t.path}}]),n}(za),Za=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.app=e,r.state={},r._selectedProject=void 0,r.loadProjects(),P["a"].set(Object(ga["a"])(r),"recentProjects",new Ya(r.app,"data/recentProjects.json")),r}return Object(s["a"])(n,[{key:"getProjects",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.abrupt("return",Object.values(this.state).map((function(e){return e.projectData})));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addProject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],r=new Xa(this.app,t),e.next=4,r.loadProject();case 4:if(P["a"].set(this.state,t,r),!n){e.next=8;break}return e.next=8,this.selectProject(t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeProject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.state[t],n){e.next=3;break}return e.abrupt("return");case 3:return P["a"].delete(this.state,t),e.next=6,this.app.fileSystem.unlink("projects/".concat(t));case 6:this.recentProjects.remove(n.projectData);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadProjects",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.fired;case 2:return e.next=4,this.app.dataLoader.fired;case 4:return t=[],e.prev=5,e.next=8,this.app.fileSystem.readdir("projects",{withFileTypes:!0});case 8:t=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](5);case 13:if(n=t.filter((function(e){var t=e.kind;return"directory"===t})).map((function(e){var t=e.name;return t})),0!==n.length){e.next=21;break}return r=this.app.windows.createProject,r.open(!0),e.next=19,r.fired;case 19:e.next=38;break;case 21:a=Object(i["a"])(n),e.prev=22,a.s();case 24:if((o=a.n()).done){e.next=30;break}return s=o.value,e.next=28,this.addProject(s,!1);case 28:e.next=24;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e["catch"](22),a.e(e.t1);case 35:return e.prev=35,a.f(),e.finish(35);case 38:this.dispatch();case 39:case"end":return e.stop()}}),e,this,[[5,11],[22,32,35,38]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"selectProject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==this.state[t]){e.next=2;break}throw new Error('Cannot select project "'.concat(t,'" because it no longer exists'));case 2:if(null===(n=this.currentProject)||void 0===n||n.tabSystem.deactivate(),this._selectedProject=t,eo.eventSystem.dispatch("disableValidation",null),!this.currentProject){e.next=8;break}return e.next=8,this.recentProjects.add(this.currentProject.projectData);case 8:return e.next=10,Object(ae["b"])("selectedProject",t);case 10:return e.next=12,this.app.switchProject(t);case 12:null===(r=this.currentProject)||void 0===r||r.tabSystem.activate();case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"selectLastProject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ae["a"])("selectedProject");case 2:if(n=e.sent,"string"!==typeof n){e.next=16;break}return e.prev=4,e.next=7,t.fileSystem.getDirectoryHandle("projects/".concat(n));case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e["catch"](4),e.next=13,this.loadFallback();case 13:n=e.sent;case 14:e.next=19;break;case 16:return e.next=18,this.loadFallback();case 18:n=e.sent;case 19:if("string"!==typeof n){e.next=25;break}return this._selectedProject=n,e.next=23,t.switchProject(n);case 23:e.next=26;break;case 25:throw new Error("Expected string, found ".concat(Object(A["a"])(n)));case 26:case"end":return e.stop()}}),e,this,[[4,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadFallback",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return t=Object.keys(this.state)[0],e.next=5,Object(ae["b"])("selectedProject",t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"currentProject",get:function(){if(this.selectedProject)return this.state[this.selectedProject]}},{key:"selectedProject",get:function(){return this._selectedProject}}]),n}(F["a"]),eo=function(){function e(t){var n=this;Object(o["a"])(this,e),this.projectConfig=new Ci,this.keyBindingManager=new Ti,this.actionManager=new Fi["a"](this),this.taskManager=new Ae["a"],this.packIndexer=new _e["a"],this.compiler=new Wi["a"],this.dataLoader=new Si,this.fileSystem=new Z,this.projectManager=P["a"].observable(new Za(this)),this.extensionLoader=new pa,this.windowResize=new ha,this.languageManager=new _,this.installApp=new va,this.title=new fa,this.themeManager=new K(t.$vuetify),this._windows=new xi(this);var r="Are you sure that you want to close bridge.? Unsaved progress will be lost.";window.addEventListener("beforeunload",(function(e){var t;if((null===(t=n.tabSystem)||void 0===t?void 0:t.hasUnsavedTabs)||n.taskManager.hasRunningTasks)return e.preventDefault(),e.returnValue=r,r}))}return Object(s["a"])(e,[{key:"switchProject",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(){var s=Object(a["a"])(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.title.setProject(t),n.packIndexer.start(t,o),n.extensionLoader.deactivateAllLocal(),a.t0=n.extensionLoader,a.next=6,n.fileSystem.getDirectoryHandle("projects/".concat(t,"/bridge/plugins"),{create:!0});case 6:a.t1=a.sent,a.t0.loadExtensions.call(a.t0,a.t1).then((function(){var e;if(n.compiler.start(t,"dev","default.json"),n.themeManager.updateTheme(),"string"===typeof W["b"].general.locale)Object(ue["d"])(null===W["b"]||void 0===W["b"]||null===(e=W["b"].general)||void 0===e?void 0:e.locale);else{var a,o=Object(i["a"])(Object(ue["c"])());try{for(o.s();!(a=o.n()).done;){var s=Object(r["a"])(a.value,1),c=s[0];navigator.language.includes(c)&&Object(ue["d"])(c)}}catch(u){o.e(u)}finally{o.f()}}})),e.eventSystem.dispatch("projectChanged",void 0),n.packIndexer.once((function(){return s()}));case 10:case"end":return a.stop()}}),a)})));return function(e){return s.apply(this,arguments)}}())}},{key:"beforeStartUp",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.time("[APP] beforeStartUp()"),navigator.clearAppBadge&&navigator.clearAppBadge(),Ve(),He(this),this.dataLoader.setup(this),Y.setup(),console.timeEnd("[APP] beforeStartUp()");case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startUp",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("[APP] startUp()"),e.next=3,Promise.all([this.fileSystem.mkdir("projects"),this.fileSystem.mkdir("plugins"),this.fileSystem.mkdir("data/packages"),this.dataLoader.fired.then((function(){return E["a"].setup(t.fileSystem)})),this.dataLoader.fired.then((function(){return et["a"].setup(t.fileSystem)}))]);case 3:return e.t0=this.extensionLoader,e.next=6,this.fileSystem.getDirectoryHandle("plugins");case 6:e.t1=e.sent,e.t0.loadExtensions.call(e.t0,e.t1,!0),console.timeEnd("[APP] startUp()");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"windows",get:function(){return this._windows}},{key:"tabSystem",get:function(){var e;return null===(e=this.projectManager.currentProject)||void 0===e?void 0:e.tabSystem}},{key:"selectedProject",get:function(){return this.projectManager.selectedProject}}],[{key:"getApp",value:function(){return new Promise((function(t){return e.ready.once((function(e){return t(e)}))}))}},{key:"createNativeWindow",value:function(e,t){var n;return(null===W["b"]||void 0===W["b"]||null===(n=W["b"].general)||void 0===n?void 0:n.openLinksInBrowser)?window.open(e,"_blank"):window.open(e,t,"toolbar=no,menubar=no,status=no")}},{key:"main",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var r,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._instance=new e(n),this.instance.windows.loadingWindow.open(),t.next=4,this.instance.beforeStartUp();case 4:return t.next=6,xe(this.instance);case 6:if(r=t.sent,r){t.next=9;break}return t.abrupt("return",this.instance.windows.loadingWindow.close());case 9:return this.instance.fileSystem.setup(r),t.next=12,yi.loadSettings(this.instance).then((function(){return i.instance.themeManager.loadDefaultThemes(i.instance)}));case 12:return t.next=14,this.instance.startUp();case 14:return this.ready.dispatch(this._instance),this.instance.windows.loadingWindow.close(),t.next=18,this.instance.projectManager.selectLastProject(this._instance);case 18:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"instance",get:function(){return this._instance}}]),e}();eo.toolbar=new Ei,eo.eventSystem=new T(["projectChanged","fileUpdated","currentTabSwitched","refreshCurrentContext","disableValidation"]),eo.ready=new F["a"]},d526:function(e,t,n){"use strict";var r=n("9f8f"),i=n.n(r);i.a},dce3:function(e,t,n){e.exports=n.p+"img/logo_high_res.a5e261ba.png"},dffd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af"),n("4de4"),n("0481"),n("d81d"),n("45fc"),n("4069"),n("b0c0"),n("d3b7"),n("3ca3"),n("2ca0"),n("ddb0"),n("96cf");var r,i=n("2909"),a=n("b85c"),o=n("1da1"),s=n("db05");(function(e){var t,n=[];function r(e){return c.apply(this,arguments)}function c(){return c=Object(o["a"])(regeneratorRuntime.mark((function e(r){var i,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=2;break}return e.abrupt("return");case 2:return t=r,i="data/packages/fileDefinition",e.next=6,r.readdir(i,{withFileTypes:!0});case 6:o=e.sent,s=Object(a["a"])(o),e.prev=8,s.s();case 10:if((c=s.n()).done){e.next=20;break}if(u=c.value,"file"!==u.kind){e.next=18;break}return e.t0=n,e.next=16,r.readJSON("".concat(i,"/").concat(u.name));case 16:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 18:e.next=10;break;case 20:e.next=25;break;case 22:e.prev=22,e.t2=e["catch"](8),s.e(e.t2);case 25:return e.prev=25,s.f(),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[8,22,25,28]])}))),c.apply(this,arguments)}function u(e,t){var r,i=Object(a["a"])(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t===o.id)return o;if(e)if(o.scope){if("string"===typeof o.scope){if(e.startsWith(o.scope))return o}else if(o.scope.some((function(t){return e.startsWith(t)})))return o}else{if("string"===typeof o.matcher&&Object(s["isMatch"])(e,o.matcher))return o;var c,u=Object(a["a"])(o.matcher);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(Object(s["isMatch"])(e,l))return o}}catch(d){u.e(d)}finally{u.f()}}}}catch(d){i.e(d)}finally{i.f()}}function l(){var e,t=[],r=Object(a["a"])(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.push(i.id)}}catch(o){r.e(o)}finally{r.f()}return t}function d(e){var t,n;return null!==(t=null===(n=u(e))||void 0===n?void 0:n.id)&&void 0!==t?t:"unknown"}function p(){return n.map((function(e){var t=e.matcher,n=e.schema;return{fileMatch:Array.isArray(t)?Object(i["a"])(t):[t],uri:n}})).flat()}e.setup=r,e.get=u,e.getIds=l,e.getId=d,e.getMonacoSchemaArray=p;var f={};function h(e){return m.apply(this,arguments)}function m(){return m=Object(o["a"])(regeneratorRuntime.mark((function e(n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null!==(r=u(n))&&void 0!==r?r:{},a=i.lightningCache,a){e.next=3;break}return e.abrupt("return",[]);case 3:if(!f[a]){e.next=5;break}return e.abrupt("return",f[a]);case 5:return e.next=7,t.readJSON("data/packages/lightningCache/".concat(a));case 7:return f[a]=e.sent,e.abrupt("return",f[a]);case 9:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(){return g.apply(this,arguments)}function g(){return g=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map((function(e){var n=e.id,r=e.packSpider;if(r)return t.readJSON("data/packages/packSpider/".concat(r)).then((function(e){return{id:n,packSpider:e}}))})).filter((function(e){return void 0!==e})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}e.getLightningCache=h,e.getPackSpiderData=v})(r||(r={}))},e84b:function(e,t,n){},ea6e:function(e,t,n){"use strict";var r=n("235c"),i=n.n(r);i.a},ed38:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex flex-column justify-center align-center px-4",style:"padding-top: 14vh;"},[r("img",{staticClass:"mb-4",staticStyle:{height:"128px",width:"128px"},attrs:{alt:"bridge. Logo",src:n("dce3")}}),r("h1",{staticClass:"text-h3 text-center"},[e._v(e._s(e.t("welcome.title")))]),r("h2",{staticClass:"text-h6 mb-12 text-center"},[e._v(e._s(e.t("welcome.subtitle")))]),r("v-row",{staticStyle:{"flex-wrap":"nowrap",width:"60vw"}},[e.actions.length>0?r("v-col",{attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.quickActions")))]),r("v-divider",{staticClass:"mb-2"}),e._l(e.actions,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,staticClass:"d-flex rounded-lg pa-1 clickable",on:{click:function(){return t.trigger()}}},[r("v-icon",{attrs:{color:"accent",medium:""}},[e._v(e._s(t.icon))]),r("span",{attrs:{color:"text--primary"}},[e._v(e._s(e.t(t.name)))]),r("v-spacer"),t.keyBinding?r("span",{staticClass:"text--secondary"},[e._v(" "+e._s(t.keyBinding.toStrKeyCode())+" ")]):e._e()],1)}))],2):e._e(),e.$vuetify.breakpoint.smAndUp&&e.files.length>0?r("v-col",{attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.recentFiles")))]),r("v-divider",{staticClass:"mb-2"}),e._l(e.files,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.name,staticClass:"d-flex rounded-lg pa-1 clickable",on:{click:function(n){return e.openFile(t.path)}}},[r("v-icon",{attrs:{color:t.color||"error",medium:""}},[e._v(" "+e._s(t.icon)+" ")]),r("span",{staticClass:"primary-text"},[e._v(e._s(t.name))])],1)}))],2):e._e(),e.$vuetify.breakpoint.mdAndUp&&e.projects.length>0?r("v-col",{class:{disabled:!e.maySwitchProjects},attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.recentProjects")))]),e.maySwitchProjects?r("v-divider",{staticClass:"mb-2"}):r("v-progress-linear",{staticClass:"mb-1",attrs:{rounded:"",indeterminate:""}}),e._l(e.projects,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple",value:e.maySwitchProjects,expression:"maySwitchProjects"}],key:t.name,class:{"d-flex rounded-lg pa-1":!0,clickable:e.maySwitchProjects},on:{click:function(n){e.maySwitchProjects&&e.selectProject(t.path)}}},[r("div",{staticClass:"d-flex align-center"},[t.imgSrc?r("img",{staticClass:"mr-1 pack-icon",attrs:{src:t.imgSrc,alt:t.name+" Logo"}}):e._e(),r("span",{staticClass:"primary-text"},[e._v(e._s(t.path))])])])}))],2):e._e()],1)],1)},i=[],a=(n("4de4"),n("d81d"),n("96cf"),n("1da1")),o=n("923f"),s=n("a50c"),c=n("d009"),u=n("7a00"),l=n("b4a2"),d=n("bd74"),p={name:"welcome-screen",mixins:[o["a"],u["a"],l["a"],d["a"]],components:{ActionViewer:s["a"]},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getApp();case 2:return n=t.sent,r=["bridge.action.newFile","bridge.action.openFile","bridge.action.openSettings"],e.actions=r.map((function(e){return n.actionManager.state[e]})),t.next=7,n.projectManager.fired;case 7:e.projectManager=n.projectManager;case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{actions:[],projectManager:null}},computed:{files:function(){return this.project?this.project.recentFiles.elements:[]},projects:function(){var e=this;return this.projectManager?this.projectManager.recentProjects.elements.filter((function(t){var n=t.path;return n!==e.projectManager.selectedProject})):[]},maySwitchProjects:function(){return this.isPackIndexerReady&&this.isCompilerReady}},methods:{openFile:function(e){c["a"].getApp().then((function(t){return t.tabSystem.open(e)}))},selectProject:function(e){c["a"].getApp().then((function(t){return t.projectManager.selectProject(e)}))}}},f=p,h=(n("bbbf"),n("2877")),m=n("6544"),v=n.n(m),g=n("62ad"),b=n("ce7e"),w=n("132d"),k=n("8e36"),y=n("0fd9"),x=n("2fa4"),j=n("269a"),O=n.n(j),S=n("5607"),C=Object(h["a"])(f,r,i,!1,null,"01d24748",null);t["a"]=C.exports;v()(C,{VCol:g["a"],VDivider:b["a"],VIcon:w["a"],VProgressLinear:k["a"],VRow:y["a"],VSpacer:x["a"]}),O()(C,{Ripple:S["a"]})},f307:function(e,t,n){"use strict";var r=n("6514"),i=n.n(r);i.a},f31d:function(e,t,n){"use strict";var r=n("0c95"),i=n.n(r);i.a},f374:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("d3b7");var r=n("d4ec"),i=n("bee2"),a=n("45eb"),o=n("7e84"),s=n("262e"),c=n("2caf"),u=n("1834"),l=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(r["a"])(this,n),e=t.call(this),e.needsToFireAmount=i,e.firedTimes=0,e}return Object(i["a"])(n,[{key:"resetSignal",value:function(){this.data=void 0,this.firedTimes=0}},{key:"dispatch",value:function(e){if(this.firedTimes<this.needsToFireAmount&&this.firedTimes++,this.data=e,this.hasFired)return Object(a["a"])(Object(o["a"])(n.prototype),"dispatch",this).call(this,e)}},{key:"on",value:function(e){return this.hasFired&&e(this.data),Object(a["a"])(Object(o["a"])(n.prototype),"on",this).call(this,e)}},{key:"fired",get:function(){var e=this;return new Promise((function(t){return e.once(t)}))}},{key:"hasFired",get:function(){return this.firedTimes>=this.needsToFireAmount}}]),n}(u["a"])},f760:function(e,t,n){"use strict";var r=n("c940"),i=n.n(r);i.a},fd41:function(e,t,n){},ffd5:function(e,t,n){"use strict";var r=n("a3ce"),i=n.n(r);i.a}});
//# sourceMappingURL=app.eedc2de2.js.map